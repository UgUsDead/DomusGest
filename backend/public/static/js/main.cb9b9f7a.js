/*! For license information please see main.cb9b9f7a.js.LICENSE.txt */
(()=>{var e={43:(e,t,n)=>{"use strict";e.exports=n(202)},153:(e,t,n)=>{"use strict";var a=n(43),r=Symbol.for("react.element"),s=Symbol.for("react.fragment"),i=Object.prototype.hasOwnProperty,l=a.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,o={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,n){var a,s={},c=null,d=null;for(a in void 0!==n&&(c=""+n),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(d=t.ref),t)i.call(t,a)&&!o.hasOwnProperty(a)&&(s[a]=t[a]);if(e&&e.defaultProps)for(a in t=e.defaultProps)void 0===s[a]&&(s[a]=t[a]);return{$$typeof:r,type:e,key:c,ref:d,props:s,_owner:l.current}}t.Fragment=s,t.jsx=c,t.jsxs=c},202:(e,t)=>{"use strict";var n=Symbol.for("react.element"),a=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),l=Symbol.for("react.provider"),o=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),u=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),p=Symbol.iterator;var h={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},f=Object.assign,x={};function g(e,t,n){this.props=e,this.context=t,this.refs=x,this.updater=n||h}function b(){}function v(e,t,n){this.props=e,this.context=t,this.refs=x,this.updater=n||h}g.prototype.isReactComponent={},g.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},g.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},b.prototype=g.prototype;var y=v.prototype=new b;y.constructor=v,f(y,g.prototype),y.isPureReactComponent=!0;var j=Array.isArray,N=Object.prototype.hasOwnProperty,w={current:null},k={key:!0,ref:!0,__self:!0,__source:!0};function S(e,t,a){var r,s={},i=null,l=null;if(null!=t)for(r in void 0!==t.ref&&(l=t.ref),void 0!==t.key&&(i=""+t.key),t)N.call(t,r)&&!k.hasOwnProperty(r)&&(s[r]=t[r]);var o=arguments.length-2;if(1===o)s.children=a;else if(1<o){for(var c=Array(o),d=0;d<o;d++)c[d]=arguments[d+2];s.children=c}if(e&&e.defaultProps)for(r in o=e.defaultProps)void 0===s[r]&&(s[r]=o[r]);return{$$typeof:n,type:e,key:i,ref:l,props:s,_owner:w.current}}function C(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var E=/\/+/g;function _(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(e){return t[e]})}(""+e.key):t.toString(36)}function P(e,t,r,s,i){var l=typeof e;"undefined"!==l&&"boolean"!==l||(e=null);var o=!1;if(null===e)o=!0;else switch(l){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case n:case a:o=!0}}if(o)return i=i(o=e),e=""===s?"."+_(o,0):s,j(i)?(r="",null!=e&&(r=e.replace(E,"$&/")+"/"),P(i,t,r,"",function(e){return e})):null!=i&&(C(i)&&(i=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(i,r+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(E,"$&/")+"/")+e)),t.push(i)),1;if(o=0,s=""===s?".":s+":",j(e))for(var c=0;c<e.length;c++){var d=s+_(l=e[c],c);o+=P(l,t,r,d,i)}else if(d=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=p&&e[p]||e["@@iterator"])?e:null}(e),"function"===typeof d)for(e=d.call(e),c=0;!(l=e.next()).done;)o+=P(l=l.value,t,r,d=s+_(l,c++),i);else if("object"===l)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function A(e,t,n){if(null==e)return e;var a=[],r=0;return P(e,a,"","",function(e){return t.call(n,e,r++)}),a}function I(e){if(-1===e._status){var t=e._result;(t=t()).then(function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)},function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)}),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var L={current:null},T={transition:null},O={ReactCurrentDispatcher:L,ReactCurrentBatchConfig:T,ReactCurrentOwner:w};function z(){throw Error("act(...) is not supported in production builds of React.")}t.Children={map:A,forEach:function(e,t,n){A(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return A(e,function(){t++}),t},toArray:function(e){return A(e,function(e){return e})||[]},only:function(e){if(!C(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=g,t.Fragment=r,t.Profiler=i,t.PureComponent=v,t.StrictMode=s,t.Suspense=d,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=O,t.act=z,t.cloneElement=function(e,t,a){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=f({},e.props),s=e.key,i=e.ref,l=e._owner;if(null!=t){if(void 0!==t.ref&&(i=t.ref,l=w.current),void 0!==t.key&&(s=""+t.key),e.type&&e.type.defaultProps)var o=e.type.defaultProps;for(c in t)N.call(t,c)&&!k.hasOwnProperty(c)&&(r[c]=void 0===t[c]&&void 0!==o?o[c]:t[c])}var c=arguments.length-2;if(1===c)r.children=a;else if(1<c){o=Array(c);for(var d=0;d<c;d++)o[d]=arguments[d+2];r.children=o}return{$$typeof:n,type:e.type,key:s,ref:i,props:r,_owner:l}},t.createContext=function(e){return(e={$$typeof:o,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:l,_context:e},e.Consumer=e},t.createElement=S,t.createFactory=function(e){var t=S.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=C,t.lazy=function(e){return{$$typeof:m,_payload:{_status:-1,_result:e},_init:I}},t.memo=function(e,t){return{$$typeof:u,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=T.transition;T.transition={};try{e()}finally{T.transition=t}},t.unstable_act=z,t.useCallback=function(e,t){return L.current.useCallback(e,t)},t.useContext=function(e){return L.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return L.current.useDeferredValue(e)},t.useEffect=function(e,t){return L.current.useEffect(e,t)},t.useId=function(){return L.current.useId()},t.useImperativeHandle=function(e,t,n){return L.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return L.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return L.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return L.current.useMemo(e,t)},t.useReducer=function(e,t,n){return L.current.useReducer(e,t,n)},t.useRef=function(e){return L.current.useRef(e)},t.useState=function(e){return L.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return L.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return L.current.useTransition()},t.version="18.3.1"},234:(e,t)=>{"use strict";function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var a=n-1>>>1,r=e[a];if(!(0<s(r,t)))break e;e[a]=t,e[n]=r,n=a}}function a(e){return 0===e.length?null:e[0]}function r(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var a=0,r=e.length,i=r>>>1;a<i;){var l=2*(a+1)-1,o=e[l],c=l+1,d=e[c];if(0>s(o,n))c<r&&0>s(d,o)?(e[a]=d,e[c]=n,a=c):(e[a]=o,e[l]=n,a=l);else{if(!(c<r&&0>s(d,n)))break e;e[a]=d,e[c]=n,a=c}}}return t}function s(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var i=performance;t.unstable_now=function(){return i.now()}}else{var l=Date,o=l.now();t.unstable_now=function(){return l.now()-o}}var c=[],d=[],u=1,m=null,p=3,h=!1,f=!1,x=!1,g="function"===typeof setTimeout?setTimeout:null,b="function"===typeof clearTimeout?clearTimeout:null,v="undefined"!==typeof setImmediate?setImmediate:null;function y(e){for(var t=a(d);null!==t;){if(null===t.callback)r(d);else{if(!(t.startTime<=e))break;r(d),t.sortIndex=t.expirationTime,n(c,t)}t=a(d)}}function j(e){if(x=!1,y(e),!f)if(null!==a(c))f=!0,T(N);else{var t=a(d);null!==t&&O(j,t.startTime-e)}}function N(e,n){f=!1,x&&(x=!1,b(C),C=-1),h=!0;var s=p;try{for(y(n),m=a(c);null!==m&&(!(m.expirationTime>n)||e&&!P());){var i=m.callback;if("function"===typeof i){m.callback=null,p=m.priorityLevel;var l=i(m.expirationTime<=n);n=t.unstable_now(),"function"===typeof l?m.callback=l:m===a(c)&&r(c),y(n)}else r(c);m=a(c)}if(null!==m)var o=!0;else{var u=a(d);null!==u&&O(j,u.startTime-n),o=!1}return o}finally{m=null,p=s,h=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var w,k=!1,S=null,C=-1,E=5,_=-1;function P(){return!(t.unstable_now()-_<E)}function A(){if(null!==S){var e=t.unstable_now();_=e;var n=!0;try{n=S(!0,e)}finally{n?w():(k=!1,S=null)}}else k=!1}if("function"===typeof v)w=function(){v(A)};else if("undefined"!==typeof MessageChannel){var I=new MessageChannel,L=I.port2;I.port1.onmessage=A,w=function(){L.postMessage(null)}}else w=function(){g(A,0)};function T(e){S=e,k||(k=!0,w())}function O(e,n){C=g(function(){e(t.unstable_now())},n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){f||h||(f=!0,T(N))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):E=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return p},t.unstable_getFirstCallbackNode=function(){return a(c)},t.unstable_next=function(e){switch(p){case 1:case 2:case 3:var t=3;break;default:t=p}var n=p;p=t;try{return e()}finally{p=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=p;p=e;try{return t()}finally{p=n}},t.unstable_scheduleCallback=function(e,r,s){var i=t.unstable_now();switch("object"===typeof s&&null!==s?s="number"===typeof(s=s.delay)&&0<s?i+s:i:s=i,e){case 1:var l=-1;break;case 2:l=250;break;case 5:l=1073741823;break;case 4:l=1e4;break;default:l=5e3}return e={id:u++,callback:r,priorityLevel:e,startTime:s,expirationTime:l=s+l,sortIndex:-1},s>i?(e.sortIndex=s,n(d,e),null===a(c)&&e===a(d)&&(x?(b(C),C=-1):x=!0,O(j,s-i))):(e.sortIndex=l,n(c,e),f||h||(f=!0,T(N))),e},t.unstable_shouldYield=P,t.unstable_wrapCallback=function(e){var t=p;return function(){var n=p;p=t;try{return e.apply(this,arguments)}finally{p=n}}}},391:(e,t,n)=>{"use strict";var a=n(950);t.createRoot=a.createRoot,t.hydrateRoot=a.hydrateRoot},579:(e,t,n)=>{"use strict";e.exports=n(153)},730:(e,t,n)=>{"use strict";var a=n(43),r=n(853);function s(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var i=new Set,l={};function o(e,t){c(e,t),c(e+"Capture",t)}function c(e,t){for(l[e]=t,e=0;e<t.length;e++)i.add(t[e])}var d=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),u=Object.prototype.hasOwnProperty,m=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,p={},h={};function f(e,t,n,a,r,s,i){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=a,this.attributeNamespace=r,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=s,this.removeEmptyString=i}var x={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){x[e]=new f(e,0,!1,e,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];x[t]=new f(t,1,!1,e[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(e){x[e]=new f(e,2,!1,e.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){x[e]=new f(e,2,!1,e,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){x[e]=new f(e,3,!1,e.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(e){x[e]=new f(e,3,!0,e,null,!1,!1)}),["capture","download"].forEach(function(e){x[e]=new f(e,4,!1,e,null,!1,!1)}),["cols","rows","size","span"].forEach(function(e){x[e]=new f(e,6,!1,e,null,!1,!1)}),["rowSpan","start"].forEach(function(e){x[e]=new f(e,5,!1,e.toLowerCase(),null,!1,!1)});var g=/[\-:]([a-z])/g;function b(e){return e[1].toUpperCase()}function v(e,t,n,a){var r=x.hasOwnProperty(t)?x[t]:null;(null!==r?0!==r.type:a||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,a){if(null===t||"undefined"===typeof t||function(e,t,n,a){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!a&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,a))return!0;if(a)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,r,a)&&(n=null),a||null===r?function(e){return!!u.call(h,e)||!u.call(p,e)&&(m.test(e)?h[e]=!0:(p[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):r.mustUseProperty?e[r.propertyName]=null===n?3!==r.type&&"":n:(t=r.attributeName,a=r.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(r=r.type)||4===r&&!0===n?"":""+n,a?e.setAttributeNS(a,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(g,b);x[t]=new f(t,1,!1,e,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(g,b);x[t]=new f(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(g,b);x[t]=new f(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(e){x[e]=new f(e,1,!1,e.toLowerCase(),null,!1,!1)}),x.xlinkHref=new f("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(e){x[e]=new f(e,1,!1,e.toLowerCase(),null,!0,!0)});var y=a.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,j=Symbol.for("react.element"),N=Symbol.for("react.portal"),w=Symbol.for("react.fragment"),k=Symbol.for("react.strict_mode"),S=Symbol.for("react.profiler"),C=Symbol.for("react.provider"),E=Symbol.for("react.context"),_=Symbol.for("react.forward_ref"),P=Symbol.for("react.suspense"),A=Symbol.for("react.suspense_list"),I=Symbol.for("react.memo"),L=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var T=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var O=Symbol.iterator;function z(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=O&&e[O]||e["@@iterator"])?e:null}var D,R=Object.assign;function F(e){if(void 0===D)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);D=t&&t[1]||""}return"\n"+D+e}var U=!1;function M(e,t){if(!e||U)return"";U=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var a=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){a=c}e.call(t.prototype)}else{try{throw Error()}catch(c){a=c}e()}}catch(c){if(c&&a&&"string"===typeof c.stack){for(var r=c.stack.split("\n"),s=a.stack.split("\n"),i=r.length-1,l=s.length-1;1<=i&&0<=l&&r[i]!==s[l];)l--;for(;1<=i&&0<=l;i--,l--)if(r[i]!==s[l]){if(1!==i||1!==l)do{if(i--,0>--l||r[i]!==s[l]){var o="\n"+r[i].replace(" at new "," at ");return e.displayName&&o.includes("<anonymous>")&&(o=o.replace("<anonymous>",e.displayName)),o}}while(1<=i&&0<=l);break}}}finally{U=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?F(e):""}function q(e){switch(e.tag){case 5:return F(e.type);case 16:return F("Lazy");case 13:return F("Suspense");case 19:return F("SuspenseList");case 0:case 2:case 15:return e=M(e.type,!1);case 11:return e=M(e.type.render,!1);case 1:return e=M(e.type,!0);default:return""}}function B(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case w:return"Fragment";case N:return"Portal";case S:return"Profiler";case k:return"StrictMode";case P:return"Suspense";case A:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case E:return(e.displayName||"Context")+".Consumer";case C:return(e._context.displayName||"Context")+".Provider";case _:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case I:return null!==(t=e.displayName||null)?t:B(e.type)||"Memo";case L:t=e._payload,e=e._init;try{return B(e(t))}catch(n){}}return null}function V(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return B(t);case 8:return t===k?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function W(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function H(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function $(e){e._valueTracker||(e._valueTracker=function(e){var t=H(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),a=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var r=n.get,s=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return r.call(this)},set:function(e){a=""+e,s.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return a},setValue:function(e){a=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function Q(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),a="";return e&&(a=H(e)?e.checked?"true":"false":e.value),(e=a)!==n&&(t.setValue(e),!0)}function J(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function K(e,t){var n=t.checked;return R({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function G(e,t){var n=null==t.defaultValue?"":t.defaultValue,a=null!=t.checked?t.checked:t.defaultChecked;n=W(null!=t.value?t.value:n),e._wrapperState={initialChecked:a,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function Y(e,t){null!=(t=t.checked)&&v(e,"checked",t,!1)}function X(e,t){Y(e,t);var n=W(t.value),a=t.type;if(null!=n)"number"===a?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===a||"reset"===a)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,W(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function Z(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var a=t.type;if(!("submit"!==a&&"reset"!==a||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&J(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,a){if(e=e.options,t){t={};for(var r=0;r<n.length;r++)t["$"+n[r]]=!0;for(n=0;n<e.length;n++)r=t.hasOwnProperty("$"+e[n].value),e[n].selected!==r&&(e[n].selected=r),r&&a&&(e[n].defaultSelected=!0)}else{for(n=""+W(n),t=null,r=0;r<e.length;r++){if(e[r].value===n)return e[r].selected=!0,void(a&&(e[r].defaultSelected=!0));null!==t||e[r].disabled||(t=e[r])}null!==t&&(t.selected=!0)}}function ae(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(s(91));return R({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function re(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(s(92));if(te(n)){if(1<n.length)throw Error(s(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:W(n)}}function se(e,t){var n=W(t.value),a=W(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=a&&(e.defaultValue=""+a)}function ie(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function le(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function oe(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?le(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ce,de,ue=(de=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ce=ce||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ce.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,a){MSApp.execUnsafeLocalFunction(function(){return de(e,t)})}:de);function me(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var pe={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},he=["Webkit","ms","Moz","O"];function fe(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||pe.hasOwnProperty(e)&&pe[e]?(""+t).trim():t+"px"}function xe(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var a=0===n.indexOf("--"),r=fe(n,t[n],a);"float"===n&&(n="cssFloat"),a?e.setProperty(n,r):e[n]=r}}Object.keys(pe).forEach(function(e){he.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),pe[t]=pe[e]})});var ge=R({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function be(e,t){if(t){if(ge[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(s(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(s(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(s(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(s(62))}}function ve(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ye=null;function je(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var Ne=null,we=null,ke=null;function Se(e){if(e=vr(e)){if("function"!==typeof Ne)throw Error(s(280));var t=e.stateNode;t&&(t=jr(t),Ne(e.stateNode,e.type,t))}}function Ce(e){we?ke?ke.push(e):ke=[e]:we=e}function Ee(){if(we){var e=we,t=ke;if(ke=we=null,Se(e),t)for(e=0;e<t.length;e++)Se(t[e])}}function _e(e,t){return e(t)}function Pe(){}var Ae=!1;function Ie(e,t,n){if(Ae)return e(t,n);Ae=!0;try{return _e(e,t,n)}finally{Ae=!1,(null!==we||null!==ke)&&(Pe(),Ee())}}function Le(e,t){var n=e.stateNode;if(null===n)return null;var a=jr(n);if(null===a)return null;n=a[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(a=!a.disabled)||(a=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!a;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(s(231,t,typeof n));return n}var Te=!1;if(d)try{var Oe={};Object.defineProperty(Oe,"passive",{get:function(){Te=!0}}),window.addEventListener("test",Oe,Oe),window.removeEventListener("test",Oe,Oe)}catch(de){Te=!1}function ze(e,t,n,a,r,s,i,l,o){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(d){this.onError(d)}}var De=!1,Re=null,Fe=!1,Ue=null,Me={onError:function(e){De=!0,Re=e}};function qe(e,t,n,a,r,s,i,l,o){De=!1,Re=null,ze.apply(Me,arguments)}function Be(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function Ve(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function We(e){if(Be(e)!==e)throw Error(s(188))}function He(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=Be(e)))throw Error(s(188));return t!==e?null:e}for(var n=e,a=t;;){var r=n.return;if(null===r)break;var i=r.alternate;if(null===i){if(null!==(a=r.return)){n=a;continue}break}if(r.child===i.child){for(i=r.child;i;){if(i===n)return We(r),e;if(i===a)return We(r),t;i=i.sibling}throw Error(s(188))}if(n.return!==a.return)n=r,a=i;else{for(var l=!1,o=r.child;o;){if(o===n){l=!0,n=r,a=i;break}if(o===a){l=!0,a=r,n=i;break}o=o.sibling}if(!l){for(o=i.child;o;){if(o===n){l=!0,n=i,a=r;break}if(o===a){l=!0,a=i,n=r;break}o=o.sibling}if(!l)throw Error(s(189))}}if(n.alternate!==a)throw Error(s(190))}if(3!==n.tag)throw Error(s(188));return n.stateNode.current===n?e:t}(e))?$e(e):null}function $e(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=$e(e);if(null!==t)return t;e=e.sibling}return null}var Qe=r.unstable_scheduleCallback,Je=r.unstable_cancelCallback,Ke=r.unstable_shouldYield,Ge=r.unstable_requestPaint,Ye=r.unstable_now,Xe=r.unstable_getCurrentPriorityLevel,Ze=r.unstable_ImmediatePriority,et=r.unstable_UserBlockingPriority,tt=r.unstable_NormalPriority,nt=r.unstable_LowPriority,at=r.unstable_IdlePriority,rt=null,st=null;var it=Math.clz32?Math.clz32:function(e){return e>>>=0,0===e?32:31-(lt(e)/ot|0)|0},lt=Math.log,ot=Math.LN2;var ct=64,dt=4194304;function ut(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function mt(e,t){var n=e.pendingLanes;if(0===n)return 0;var a=0,r=e.suspendedLanes,s=e.pingedLanes,i=268435455&n;if(0!==i){var l=i&~r;0!==l?a=ut(l):0!==(s&=i)&&(a=ut(s))}else 0!==(i=n&~r)?a=ut(i):0!==s&&(a=ut(s));if(0===a)return 0;if(0!==t&&t!==a&&0===(t&r)&&((r=a&-a)>=(s=t&-t)||16===r&&0!==(4194240&s)))return t;if(0!==(4&a)&&(a|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=a;0<t;)r=1<<(n=31-it(t)),a|=e[n],t&=~r;return a}function pt(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function ht(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function ft(){var e=ct;return 0===(4194240&(ct<<=1))&&(ct=64),e}function xt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function gt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-it(t)]=n}function bt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var a=31-it(n),r=1<<a;r&t|e[a]&t&&(e[a]|=t),n&=~r}}var vt=0;function yt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var jt,Nt,wt,kt,St,Ct=!1,Et=[],_t=null,Pt=null,At=null,It=new Map,Lt=new Map,Tt=[],Ot="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function zt(e,t){switch(e){case"focusin":case"focusout":_t=null;break;case"dragenter":case"dragleave":Pt=null;break;case"mouseover":case"mouseout":At=null;break;case"pointerover":case"pointerout":It.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Lt.delete(t.pointerId)}}function Dt(e,t,n,a,r,s){return null===e||e.nativeEvent!==s?(e={blockedOn:t,domEventName:n,eventSystemFlags:a,nativeEvent:s,targetContainers:[r]},null!==t&&(null!==(t=vr(t))&&Nt(t)),e):(e.eventSystemFlags|=a,t=e.targetContainers,null!==r&&-1===t.indexOf(r)&&t.push(r),e)}function Rt(e){var t=br(e.target);if(null!==t){var n=Be(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=Ve(n)))return e.blockedOn=t,void St(e.priority,function(){wt(n)})}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Ft(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Kt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=vr(n))&&Nt(t),e.blockedOn=n,!1;var a=new(n=e.nativeEvent).constructor(n.type,n);ye=a,n.target.dispatchEvent(a),ye=null,t.shift()}return!0}function Ut(e,t,n){Ft(e)&&n.delete(t)}function Mt(){Ct=!1,null!==_t&&Ft(_t)&&(_t=null),null!==Pt&&Ft(Pt)&&(Pt=null),null!==At&&Ft(At)&&(At=null),It.forEach(Ut),Lt.forEach(Ut)}function qt(e,t){e.blockedOn===t&&(e.blockedOn=null,Ct||(Ct=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,Mt)))}function Bt(e){function t(t){return qt(t,e)}if(0<Et.length){qt(Et[0],e);for(var n=1;n<Et.length;n++){var a=Et[n];a.blockedOn===e&&(a.blockedOn=null)}}for(null!==_t&&qt(_t,e),null!==Pt&&qt(Pt,e),null!==At&&qt(At,e),It.forEach(t),Lt.forEach(t),n=0;n<Tt.length;n++)(a=Tt[n]).blockedOn===e&&(a.blockedOn=null);for(;0<Tt.length&&null===(n=Tt[0]).blockedOn;)Rt(n),null===n.blockedOn&&Tt.shift()}var Vt=y.ReactCurrentBatchConfig,Wt=!0;function Ht(e,t,n,a){var r=vt,s=Vt.transition;Vt.transition=null;try{vt=1,Qt(e,t,n,a)}finally{vt=r,Vt.transition=s}}function $t(e,t,n,a){var r=vt,s=Vt.transition;Vt.transition=null;try{vt=4,Qt(e,t,n,a)}finally{vt=r,Vt.transition=s}}function Qt(e,t,n,a){if(Wt){var r=Kt(e,t,n,a);if(null===r)Wa(e,t,a,Jt,n),zt(e,a);else if(function(e,t,n,a,r){switch(t){case"focusin":return _t=Dt(_t,e,t,n,a,r),!0;case"dragenter":return Pt=Dt(Pt,e,t,n,a,r),!0;case"mouseover":return At=Dt(At,e,t,n,a,r),!0;case"pointerover":var s=r.pointerId;return It.set(s,Dt(It.get(s)||null,e,t,n,a,r)),!0;case"gotpointercapture":return s=r.pointerId,Lt.set(s,Dt(Lt.get(s)||null,e,t,n,a,r)),!0}return!1}(r,e,t,n,a))a.stopPropagation();else if(zt(e,a),4&t&&-1<Ot.indexOf(e)){for(;null!==r;){var s=vr(r);if(null!==s&&jt(s),null===(s=Kt(e,t,n,a))&&Wa(e,t,a,Jt,n),s===r)break;r=s}null!==r&&a.stopPropagation()}else Wa(e,t,a,null,n)}}var Jt=null;function Kt(e,t,n,a){if(Jt=null,null!==(e=br(e=je(a))))if(null===(t=Be(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=Ve(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Jt=e,null}function Gt(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Xe()){case Ze:return 1;case et:return 4;case tt:case nt:return 16;case at:return 536870912;default:return 16}default:return 16}}var Yt=null,Xt=null,Zt=null;function en(){if(Zt)return Zt;var e,t,n=Xt,a=n.length,r="value"in Yt?Yt.value:Yt.textContent,s=r.length;for(e=0;e<a&&n[e]===r[e];e++);var i=a-e;for(t=1;t<=i&&n[a-t]===r[s-t];t++);return Zt=r.slice(e,1<t?1-t:void 0)}function tn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function nn(){return!0}function an(){return!1}function rn(e){function t(t,n,a,r,s){for(var i in this._reactName=t,this._targetInst=a,this.type=n,this.nativeEvent=r,this.target=s,this.currentTarget=null,e)e.hasOwnProperty(i)&&(t=e[i],this[i]=t?t(r):r[i]);return this.isDefaultPrevented=(null!=r.defaultPrevented?r.defaultPrevented:!1===r.returnValue)?nn:an,this.isPropagationStopped=an,this}return R(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=nn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=nn)},persist:function(){},isPersistent:nn}),t}var sn,ln,on,cn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},dn=rn(cn),un=R({},cn,{view:0,detail:0}),mn=rn(un),pn=R({},un,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Sn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==on&&(on&&"mousemove"===e.type?(sn=e.screenX-on.screenX,ln=e.screenY-on.screenY):ln=sn=0,on=e),sn)},movementY:function(e){return"movementY"in e?e.movementY:ln}}),hn=rn(pn),fn=rn(R({},pn,{dataTransfer:0})),xn=rn(R({},un,{relatedTarget:0})),gn=rn(R({},cn,{animationName:0,elapsedTime:0,pseudoElement:0})),bn=R({},cn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),vn=rn(bn),yn=rn(R({},cn,{data:0})),jn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Nn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},wn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function kn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=wn[e])&&!!t[e]}function Sn(){return kn}var Cn=R({},un,{key:function(e){if(e.key){var t=jn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=tn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?Nn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Sn,charCode:function(e){return"keypress"===e.type?tn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),En=rn(Cn),_n=rn(R({},pn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Pn=rn(R({},un,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Sn})),An=rn(R({},cn,{propertyName:0,elapsedTime:0,pseudoElement:0})),In=R({},pn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Ln=rn(In),Tn=[9,13,27,32],On=d&&"CompositionEvent"in window,zn=null;d&&"documentMode"in document&&(zn=document.documentMode);var Dn=d&&"TextEvent"in window&&!zn,Rn=d&&(!On||zn&&8<zn&&11>=zn),Fn=String.fromCharCode(32),Un=!1;function Mn(e,t){switch(e){case"keyup":return-1!==Tn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function qn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Bn=!1;var Vn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Wn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Vn[e.type]:"textarea"===t}function Hn(e,t,n,a){Ce(a),0<(t=$a(t,"onChange")).length&&(n=new dn("onChange","change",null,n,a),e.push({event:n,listeners:t}))}var $n=null,Qn=null;function Jn(e){Fa(e,0)}function Kn(e){if(Q(yr(e)))return e}function Gn(e,t){if("change"===e)return t}var Yn=!1;if(d){var Xn;if(d){var Zn="oninput"in document;if(!Zn){var ea=document.createElement("div");ea.setAttribute("oninput","return;"),Zn="function"===typeof ea.oninput}Xn=Zn}else Xn=!1;Yn=Xn&&(!document.documentMode||9<document.documentMode)}function ta(){$n&&($n.detachEvent("onpropertychange",na),Qn=$n=null)}function na(e){if("value"===e.propertyName&&Kn(Qn)){var t=[];Hn(t,Qn,e,je(e)),Ie(Jn,t)}}function aa(e,t,n){"focusin"===e?(ta(),Qn=n,($n=t).attachEvent("onpropertychange",na)):"focusout"===e&&ta()}function ra(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Kn(Qn)}function sa(e,t){if("click"===e)return Kn(t)}function ia(e,t){if("input"===e||"change"===e)return Kn(t)}var la="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function oa(e,t){if(la(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),a=Object.keys(t);if(n.length!==a.length)return!1;for(a=0;a<n.length;a++){var r=n[a];if(!u.call(t,r)||!la(e[r],t[r]))return!1}return!0}function ca(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function da(e,t){var n,a=ca(e);for(e=0;a;){if(3===a.nodeType){if(n=e+a.textContent.length,e<=t&&n>=t)return{node:a,offset:t-e};e=n}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=ca(a)}}function ua(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?ua(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function ma(){for(var e=window,t=J();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(a){n=!1}if(!n)break;t=J((e=t.contentWindow).document)}return t}function pa(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function ha(e){var t=ma(),n=e.focusedElem,a=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&ua(n.ownerDocument.documentElement,n)){if(null!==a&&pa(n))if(t=a.start,void 0===(e=a.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var r=n.textContent.length,s=Math.min(a.start,r);a=void 0===a.end?s:Math.min(a.end,r),!e.extend&&s>a&&(r=a,a=s,s=r),r=da(n,s);var i=da(n,a);r&&i&&(1!==e.rangeCount||e.anchorNode!==r.node||e.anchorOffset!==r.offset||e.focusNode!==i.node||e.focusOffset!==i.offset)&&((t=t.createRange()).setStart(r.node,r.offset),e.removeAllRanges(),s>a?(e.addRange(t),e.extend(i.node,i.offset)):(t.setEnd(i.node,i.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var fa=d&&"documentMode"in document&&11>=document.documentMode,xa=null,ga=null,ba=null,va=!1;function ya(e,t,n){var a=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;va||null==xa||xa!==J(a)||("selectionStart"in(a=xa)&&pa(a)?a={start:a.selectionStart,end:a.selectionEnd}:a={anchorNode:(a=(a.ownerDocument&&a.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:a.anchorOffset,focusNode:a.focusNode,focusOffset:a.focusOffset},ba&&oa(ba,a)||(ba=a,0<(a=$a(ga,"onSelect")).length&&(t=new dn("onSelect","select",null,t,n),e.push({event:t,listeners:a}),t.target=xa)))}function ja(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Na={animationend:ja("Animation","AnimationEnd"),animationiteration:ja("Animation","AnimationIteration"),animationstart:ja("Animation","AnimationStart"),transitionend:ja("Transition","TransitionEnd")},wa={},ka={};function Sa(e){if(wa[e])return wa[e];if(!Na[e])return e;var t,n=Na[e];for(t in n)if(n.hasOwnProperty(t)&&t in ka)return wa[e]=n[t];return e}d&&(ka=document.createElement("div").style,"AnimationEvent"in window||(delete Na.animationend.animation,delete Na.animationiteration.animation,delete Na.animationstart.animation),"TransitionEvent"in window||delete Na.transitionend.transition);var Ca=Sa("animationend"),Ea=Sa("animationiteration"),_a=Sa("animationstart"),Pa=Sa("transitionend"),Aa=new Map,Ia="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function La(e,t){Aa.set(e,t),o(t,[e])}for(var Ta=0;Ta<Ia.length;Ta++){var Oa=Ia[Ta];La(Oa.toLowerCase(),"on"+(Oa[0].toUpperCase()+Oa.slice(1)))}La(Ca,"onAnimationEnd"),La(Ea,"onAnimationIteration"),La(_a,"onAnimationStart"),La("dblclick","onDoubleClick"),La("focusin","onFocus"),La("focusout","onBlur"),La(Pa,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),o("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),o("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),o("onBeforeInput",["compositionend","keypress","textInput","paste"]),o("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),o("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),o("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var za="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Da=new Set("cancel close invalid load scroll toggle".split(" ").concat(za));function Ra(e,t,n){var a=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,a,r,i,l,o,c){if(qe.apply(this,arguments),De){if(!De)throw Error(s(198));var d=Re;De=!1,Re=null,Fe||(Fe=!0,Ue=d)}}(a,t,void 0,e),e.currentTarget=null}function Fa(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var a=e[n],r=a.event;a=a.listeners;e:{var s=void 0;if(t)for(var i=a.length-1;0<=i;i--){var l=a[i],o=l.instance,c=l.currentTarget;if(l=l.listener,o!==s&&r.isPropagationStopped())break e;Ra(r,l,c),s=o}else for(i=0;i<a.length;i++){if(o=(l=a[i]).instance,c=l.currentTarget,l=l.listener,o!==s&&r.isPropagationStopped())break e;Ra(r,l,c),s=o}}}if(Fe)throw e=Ue,Fe=!1,Ue=null,e}function Ua(e,t){var n=t[fr];void 0===n&&(n=t[fr]=new Set);var a=e+"__bubble";n.has(a)||(Va(t,e,2,!1),n.add(a))}function Ma(e,t,n){var a=0;t&&(a|=4),Va(n,e,a,t)}var qa="_reactListening"+Math.random().toString(36).slice(2);function Ba(e){if(!e[qa]){e[qa]=!0,i.forEach(function(t){"selectionchange"!==t&&(Da.has(t)||Ma(t,!1,e),Ma(t,!0,e))});var t=9===e.nodeType?e:e.ownerDocument;null===t||t[qa]||(t[qa]=!0,Ma("selectionchange",!1,t))}}function Va(e,t,n,a){switch(Gt(t)){case 1:var r=Ht;break;case 4:r=$t;break;default:r=Qt}n=r.bind(null,t,n,e),r=void 0,!Te||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(r=!0),a?void 0!==r?e.addEventListener(t,n,{capture:!0,passive:r}):e.addEventListener(t,n,!0):void 0!==r?e.addEventListener(t,n,{passive:r}):e.addEventListener(t,n,!1)}function Wa(e,t,n,a,r){var s=a;if(0===(1&t)&&0===(2&t)&&null!==a)e:for(;;){if(null===a)return;var i=a.tag;if(3===i||4===i){var l=a.stateNode.containerInfo;if(l===r||8===l.nodeType&&l.parentNode===r)break;if(4===i)for(i=a.return;null!==i;){var o=i.tag;if((3===o||4===o)&&((o=i.stateNode.containerInfo)===r||8===o.nodeType&&o.parentNode===r))return;i=i.return}for(;null!==l;){if(null===(i=br(l)))return;if(5===(o=i.tag)||6===o){a=s=i;continue e}l=l.parentNode}}a=a.return}Ie(function(){var a=s,r=je(n),i=[];e:{var l=Aa.get(e);if(void 0!==l){var o=dn,c=e;switch(e){case"keypress":if(0===tn(n))break e;case"keydown":case"keyup":o=En;break;case"focusin":c="focus",o=xn;break;case"focusout":c="blur",o=xn;break;case"beforeblur":case"afterblur":o=xn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":o=hn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":o=fn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":o=Pn;break;case Ca:case Ea:case _a:o=gn;break;case Pa:o=An;break;case"scroll":o=mn;break;case"wheel":o=Ln;break;case"copy":case"cut":case"paste":o=vn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":o=_n}var d=0!==(4&t),u=!d&&"scroll"===e,m=d?null!==l?l+"Capture":null:l;d=[];for(var p,h=a;null!==h;){var f=(p=h).stateNode;if(5===p.tag&&null!==f&&(p=f,null!==m&&(null!=(f=Le(h,m))&&d.push(Ha(h,f,p)))),u)break;h=h.return}0<d.length&&(l=new o(l,c,null,n,r),i.push({event:l,listeners:d}))}}if(0===(7&t)){if(o="mouseout"===e||"pointerout"===e,(!(l="mouseover"===e||"pointerover"===e)||n===ye||!(c=n.relatedTarget||n.fromElement)||!br(c)&&!c[hr])&&(o||l)&&(l=r.window===r?r:(l=r.ownerDocument)?l.defaultView||l.parentWindow:window,o?(o=a,null!==(c=(c=n.relatedTarget||n.toElement)?br(c):null)&&(c!==(u=Be(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(o=null,c=a),o!==c)){if(d=hn,f="onMouseLeave",m="onMouseEnter",h="mouse","pointerout"!==e&&"pointerover"!==e||(d=_n,f="onPointerLeave",m="onPointerEnter",h="pointer"),u=null==o?l:yr(o),p=null==c?l:yr(c),(l=new d(f,h+"leave",o,n,r)).target=u,l.relatedTarget=p,f=null,br(r)===a&&((d=new d(m,h+"enter",c,n,r)).target=p,d.relatedTarget=u,f=d),u=f,o&&c)e:{for(m=c,h=0,p=d=o;p;p=Qa(p))h++;for(p=0,f=m;f;f=Qa(f))p++;for(;0<h-p;)d=Qa(d),h--;for(;0<p-h;)m=Qa(m),p--;for(;h--;){if(d===m||null!==m&&d===m.alternate)break e;d=Qa(d),m=Qa(m)}d=null}else d=null;null!==o&&Ja(i,l,o,d,!1),null!==c&&null!==u&&Ja(i,u,c,d,!0)}if("select"===(o=(l=a?yr(a):window).nodeName&&l.nodeName.toLowerCase())||"input"===o&&"file"===l.type)var x=Gn;else if(Wn(l))if(Yn)x=ia;else{x=ra;var g=aa}else(o=l.nodeName)&&"input"===o.toLowerCase()&&("checkbox"===l.type||"radio"===l.type)&&(x=sa);switch(x&&(x=x(e,a))?Hn(i,x,n,r):(g&&g(e,l,a),"focusout"===e&&(g=l._wrapperState)&&g.controlled&&"number"===l.type&&ee(l,"number",l.value)),g=a?yr(a):window,e){case"focusin":(Wn(g)||"true"===g.contentEditable)&&(xa=g,ga=a,ba=null);break;case"focusout":ba=ga=xa=null;break;case"mousedown":va=!0;break;case"contextmenu":case"mouseup":case"dragend":va=!1,ya(i,n,r);break;case"selectionchange":if(fa)break;case"keydown":case"keyup":ya(i,n,r)}var b;if(On)e:{switch(e){case"compositionstart":var v="onCompositionStart";break e;case"compositionend":v="onCompositionEnd";break e;case"compositionupdate":v="onCompositionUpdate";break e}v=void 0}else Bn?Mn(e,n)&&(v="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(v="onCompositionStart");v&&(Rn&&"ko"!==n.locale&&(Bn||"onCompositionStart"!==v?"onCompositionEnd"===v&&Bn&&(b=en()):(Xt="value"in(Yt=r)?Yt.value:Yt.textContent,Bn=!0)),0<(g=$a(a,v)).length&&(v=new yn(v,e,null,n,r),i.push({event:v,listeners:g}),b?v.data=b:null!==(b=qn(n))&&(v.data=b))),(b=Dn?function(e,t){switch(e){case"compositionend":return qn(t);case"keypress":return 32!==t.which?null:(Un=!0,Fn);case"textInput":return(e=t.data)===Fn&&Un?null:e;default:return null}}(e,n):function(e,t){if(Bn)return"compositionend"===e||!On&&Mn(e,t)?(e=en(),Zt=Xt=Yt=null,Bn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Rn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(a=$a(a,"onBeforeInput")).length&&(r=new yn("onBeforeInput","beforeinput",null,n,r),i.push({event:r,listeners:a}),r.data=b))}Fa(i,t)})}function Ha(e,t,n){return{instance:e,listener:t,currentTarget:n}}function $a(e,t){for(var n=t+"Capture",a=[];null!==e;){var r=e,s=r.stateNode;5===r.tag&&null!==s&&(r=s,null!=(s=Le(e,n))&&a.unshift(Ha(e,s,r)),null!=(s=Le(e,t))&&a.push(Ha(e,s,r))),e=e.return}return a}function Qa(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Ja(e,t,n,a,r){for(var s=t._reactName,i=[];null!==n&&n!==a;){var l=n,o=l.alternate,c=l.stateNode;if(null!==o&&o===a)break;5===l.tag&&null!==c&&(l=c,r?null!=(o=Le(n,s))&&i.unshift(Ha(n,o,l)):r||null!=(o=Le(n,s))&&i.push(Ha(n,o,l))),n=n.return}0!==i.length&&e.push({event:t,listeners:i})}var Ka=/\r\n?/g,Ga=/\u0000|\uFFFD/g;function Ya(e){return("string"===typeof e?e:""+e).replace(Ka,"\n").replace(Ga,"")}function Xa(e,t,n){if(t=Ya(t),Ya(e)!==t&&n)throw Error(s(425))}function Za(){}var er=null,tr=null;function nr(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ar="function"===typeof setTimeout?setTimeout:void 0,rr="function"===typeof clearTimeout?clearTimeout:void 0,sr="function"===typeof Promise?Promise:void 0,ir="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof sr?function(e){return sr.resolve(null).then(e).catch(lr)}:ar;function lr(e){setTimeout(function(){throw e})}function or(e,t){var n=t,a=0;do{var r=n.nextSibling;if(e.removeChild(n),r&&8===r.nodeType)if("/$"===(n=r.data)){if(0===a)return e.removeChild(r),void Bt(t);a--}else"$"!==n&&"$?"!==n&&"$!"!==n||a++;n=r}while(n);Bt(t)}function cr(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function dr(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var ur=Math.random().toString(36).slice(2),mr="__reactFiber$"+ur,pr="__reactProps$"+ur,hr="__reactContainer$"+ur,fr="__reactEvents$"+ur,xr="__reactListeners$"+ur,gr="__reactHandles$"+ur;function br(e){var t=e[mr];if(t)return t;for(var n=e.parentNode;n;){if(t=n[hr]||n[mr]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=dr(e);null!==e;){if(n=e[mr])return n;e=dr(e)}return t}n=(e=n).parentNode}return null}function vr(e){return!(e=e[mr]||e[hr])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function yr(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(s(33))}function jr(e){return e[pr]||null}var Nr=[],wr=-1;function kr(e){return{current:e}}function Sr(e){0>wr||(e.current=Nr[wr],Nr[wr]=null,wr--)}function Cr(e,t){wr++,Nr[wr]=e.current,e.current=t}var Er={},_r=kr(Er),Pr=kr(!1),Ar=Er;function Ir(e,t){var n=e.type.contextTypes;if(!n)return Er;var a=e.stateNode;if(a&&a.__reactInternalMemoizedUnmaskedChildContext===t)return a.__reactInternalMemoizedMaskedChildContext;var r,s={};for(r in n)s[r]=t[r];return a&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function Lr(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Tr(){Sr(Pr),Sr(_r)}function Or(e,t,n){if(_r.current!==Er)throw Error(s(168));Cr(_r,t),Cr(Pr,n)}function zr(e,t,n){var a=e.stateNode;if(t=t.childContextTypes,"function"!==typeof a.getChildContext)return n;for(var r in a=a.getChildContext())if(!(r in t))throw Error(s(108,V(e)||"Unknown",r));return R({},n,a)}function Dr(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Er,Ar=_r.current,Cr(_r,e),Cr(Pr,Pr.current),!0}function Rr(e,t,n){var a=e.stateNode;if(!a)throw Error(s(169));n?(e=zr(e,t,Ar),a.__reactInternalMemoizedMergedChildContext=e,Sr(Pr),Sr(_r),Cr(_r,e)):Sr(Pr),Cr(Pr,n)}var Fr=null,Ur=!1,Mr=!1;function qr(e){null===Fr?Fr=[e]:Fr.push(e)}function Br(){if(!Mr&&null!==Fr){Mr=!0;var e=0,t=vt;try{var n=Fr;for(vt=1;e<n.length;e++){var a=n[e];do{a=a(!0)}while(null!==a)}Fr=null,Ur=!1}catch(r){throw null!==Fr&&(Fr=Fr.slice(e+1)),Qe(Ze,Br),r}finally{vt=t,Mr=!1}}return null}var Vr=[],Wr=0,Hr=null,$r=0,Qr=[],Jr=0,Kr=null,Gr=1,Yr="";function Xr(e,t){Vr[Wr++]=$r,Vr[Wr++]=Hr,Hr=e,$r=t}function Zr(e,t,n){Qr[Jr++]=Gr,Qr[Jr++]=Yr,Qr[Jr++]=Kr,Kr=e;var a=Gr;e=Yr;var r=32-it(a)-1;a&=~(1<<r),n+=1;var s=32-it(t)+r;if(30<s){var i=r-r%5;s=(a&(1<<i)-1).toString(32),a>>=i,r-=i,Gr=1<<32-it(t)+r|n<<r|a,Yr=s+e}else Gr=1<<s|n<<r|a,Yr=e}function es(e){null!==e.return&&(Xr(e,1),Zr(e,1,0))}function ts(e){for(;e===Hr;)Hr=Vr[--Wr],Vr[Wr]=null,$r=Vr[--Wr],Vr[Wr]=null;for(;e===Kr;)Kr=Qr[--Jr],Qr[Jr]=null,Yr=Qr[--Jr],Qr[Jr]=null,Gr=Qr[--Jr],Qr[Jr]=null}var ns=null,as=null,rs=!1,ss=null;function is(e,t){var n=Ic(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function ls(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,ns=e,as=cr(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,ns=e,as=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==Kr?{id:Gr,overflow:Yr}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=Ic(18,null,null,0)).stateNode=t,n.return=e,e.child=n,ns=e,as=null,!0);default:return!1}}function os(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function cs(e){if(rs){var t=as;if(t){var n=t;if(!ls(e,t)){if(os(e))throw Error(s(418));t=cr(n.nextSibling);var a=ns;t&&ls(e,t)?is(a,n):(e.flags=-4097&e.flags|2,rs=!1,ns=e)}}else{if(os(e))throw Error(s(418));e.flags=-4097&e.flags|2,rs=!1,ns=e}}}function ds(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;ns=e}function us(e){if(e!==ns)return!1;if(!rs)return ds(e),rs=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!nr(e.type,e.memoizedProps)),t&&(t=as)){if(os(e))throw ms(),Error(s(418));for(;t;)is(e,t),t=cr(t.nextSibling)}if(ds(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(s(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){as=cr(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}as=null}}else as=ns?cr(e.stateNode.nextSibling):null;return!0}function ms(){for(var e=as;e;)e=cr(e.nextSibling)}function ps(){as=ns=null,rs=!1}function hs(e){null===ss?ss=[e]:ss.push(e)}var fs=y.ReactCurrentBatchConfig;function xs(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(s(309));var a=n.stateNode}if(!a)throw Error(s(147,e));var r=a,i=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===i?t.ref:(t=function(e){var t=r.refs;null===e?delete t[i]:t[i]=e},t._stringRef=i,t)}if("string"!==typeof e)throw Error(s(284));if(!n._owner)throw Error(s(290,e))}return e}function gs(e,t){throw e=Object.prototype.toString.call(t),Error(s(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function bs(e){return(0,e._init)(e._payload)}function vs(e){function t(t,n){if(e){var a=t.deletions;null===a?(t.deletions=[n],t.flags|=16):a.push(n)}}function n(n,a){if(!e)return null;for(;null!==a;)t(n,a),a=a.sibling;return null}function a(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function r(e,t){return(e=Tc(e,t)).index=0,e.sibling=null,e}function i(t,n,a){return t.index=a,e?null!==(a=t.alternate)?(a=a.index)<n?(t.flags|=2,n):a:(t.flags|=2,n):(t.flags|=1048576,n)}function l(t){return e&&null===t.alternate&&(t.flags|=2),t}function o(e,t,n,a){return null===t||6!==t.tag?((t=Rc(n,e.mode,a)).return=e,t):((t=r(t,n)).return=e,t)}function c(e,t,n,a){var s=n.type;return s===w?u(e,t,n.props.children,a,n.key):null!==t&&(t.elementType===s||"object"===typeof s&&null!==s&&s.$$typeof===L&&bs(s)===t.type)?((a=r(t,n.props)).ref=xs(e,t,n),a.return=e,a):((a=Oc(n.type,n.key,n.props,null,e.mode,a)).ref=xs(e,t,n),a.return=e,a)}function d(e,t,n,a){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Fc(n,e.mode,a)).return=e,t):((t=r(t,n.children||[])).return=e,t)}function u(e,t,n,a,s){return null===t||7!==t.tag?((t=zc(n,e.mode,a,s)).return=e,t):((t=r(t,n)).return=e,t)}function m(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=Rc(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case j:return(n=Oc(t.type,t.key,t.props,null,e.mode,n)).ref=xs(e,null,t),n.return=e,n;case N:return(t=Fc(t,e.mode,n)).return=e,t;case L:return m(e,(0,t._init)(t._payload),n)}if(te(t)||z(t))return(t=zc(t,e.mode,n,null)).return=e,t;gs(e,t)}return null}function p(e,t,n,a){var r=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==r?null:o(e,t,""+n,a);if("object"===typeof n&&null!==n){switch(n.$$typeof){case j:return n.key===r?c(e,t,n,a):null;case N:return n.key===r?d(e,t,n,a):null;case L:return p(e,t,(r=n._init)(n._payload),a)}if(te(n)||z(n))return null!==r?null:u(e,t,n,a,null);gs(e,n)}return null}function h(e,t,n,a,r){if("string"===typeof a&&""!==a||"number"===typeof a)return o(t,e=e.get(n)||null,""+a,r);if("object"===typeof a&&null!==a){switch(a.$$typeof){case j:return c(t,e=e.get(null===a.key?n:a.key)||null,a,r);case N:return d(t,e=e.get(null===a.key?n:a.key)||null,a,r);case L:return h(e,t,n,(0,a._init)(a._payload),r)}if(te(a)||z(a))return u(t,e=e.get(n)||null,a,r,null);gs(t,a)}return null}function f(r,s,l,o){for(var c=null,d=null,u=s,f=s=0,x=null;null!==u&&f<l.length;f++){u.index>f?(x=u,u=null):x=u.sibling;var g=p(r,u,l[f],o);if(null===g){null===u&&(u=x);break}e&&u&&null===g.alternate&&t(r,u),s=i(g,s,f),null===d?c=g:d.sibling=g,d=g,u=x}if(f===l.length)return n(r,u),rs&&Xr(r,f),c;if(null===u){for(;f<l.length;f++)null!==(u=m(r,l[f],o))&&(s=i(u,s,f),null===d?c=u:d.sibling=u,d=u);return rs&&Xr(r,f),c}for(u=a(r,u);f<l.length;f++)null!==(x=h(u,r,f,l[f],o))&&(e&&null!==x.alternate&&u.delete(null===x.key?f:x.key),s=i(x,s,f),null===d?c=x:d.sibling=x,d=x);return e&&u.forEach(function(e){return t(r,e)}),rs&&Xr(r,f),c}function x(r,l,o,c){var d=z(o);if("function"!==typeof d)throw Error(s(150));if(null==(o=d.call(o)))throw Error(s(151));for(var u=d=null,f=l,x=l=0,g=null,b=o.next();null!==f&&!b.done;x++,b=o.next()){f.index>x?(g=f,f=null):g=f.sibling;var v=p(r,f,b.value,c);if(null===v){null===f&&(f=g);break}e&&f&&null===v.alternate&&t(r,f),l=i(v,l,x),null===u?d=v:u.sibling=v,u=v,f=g}if(b.done)return n(r,f),rs&&Xr(r,x),d;if(null===f){for(;!b.done;x++,b=o.next())null!==(b=m(r,b.value,c))&&(l=i(b,l,x),null===u?d=b:u.sibling=b,u=b);return rs&&Xr(r,x),d}for(f=a(r,f);!b.done;x++,b=o.next())null!==(b=h(f,r,x,b.value,c))&&(e&&null!==b.alternate&&f.delete(null===b.key?x:b.key),l=i(b,l,x),null===u?d=b:u.sibling=b,u=b);return e&&f.forEach(function(e){return t(r,e)}),rs&&Xr(r,x),d}return function e(a,s,i,o){if("object"===typeof i&&null!==i&&i.type===w&&null===i.key&&(i=i.props.children),"object"===typeof i&&null!==i){switch(i.$$typeof){case j:e:{for(var c=i.key,d=s;null!==d;){if(d.key===c){if((c=i.type)===w){if(7===d.tag){n(a,d.sibling),(s=r(d,i.props.children)).return=a,a=s;break e}}else if(d.elementType===c||"object"===typeof c&&null!==c&&c.$$typeof===L&&bs(c)===d.type){n(a,d.sibling),(s=r(d,i.props)).ref=xs(a,d,i),s.return=a,a=s;break e}n(a,d);break}t(a,d),d=d.sibling}i.type===w?((s=zc(i.props.children,a.mode,o,i.key)).return=a,a=s):((o=Oc(i.type,i.key,i.props,null,a.mode,o)).ref=xs(a,s,i),o.return=a,a=o)}return l(a);case N:e:{for(d=i.key;null!==s;){if(s.key===d){if(4===s.tag&&s.stateNode.containerInfo===i.containerInfo&&s.stateNode.implementation===i.implementation){n(a,s.sibling),(s=r(s,i.children||[])).return=a,a=s;break e}n(a,s);break}t(a,s),s=s.sibling}(s=Fc(i,a.mode,o)).return=a,a=s}return l(a);case L:return e(a,s,(d=i._init)(i._payload),o)}if(te(i))return f(a,s,i,o);if(z(i))return x(a,s,i,o);gs(a,i)}return"string"===typeof i&&""!==i||"number"===typeof i?(i=""+i,null!==s&&6===s.tag?(n(a,s.sibling),(s=r(s,i)).return=a,a=s):(n(a,s),(s=Rc(i,a.mode,o)).return=a,a=s),l(a)):n(a,s)}}var ys=vs(!0),js=vs(!1),Ns=kr(null),ws=null,ks=null,Ss=null;function Cs(){Ss=ks=ws=null}function Es(e){var t=Ns.current;Sr(Ns),e._currentValue=t}function _s(e,t,n){for(;null!==e;){var a=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==a&&(a.childLanes|=t)):null!==a&&(a.childLanes&t)!==t&&(a.childLanes|=t),e===n)break;e=e.return}}function Ps(e,t){ws=e,Ss=ks=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(bl=!0),e.firstContext=null)}function As(e){var t=e._currentValue;if(Ss!==e)if(e={context:e,memoizedValue:t,next:null},null===ks){if(null===ws)throw Error(s(308));ks=e,ws.dependencies={lanes:0,firstContext:e}}else ks=ks.next=e;return t}var Is=null;function Ls(e){null===Is?Is=[e]:Is.push(e)}function Ts(e,t,n,a){var r=t.interleaved;return null===r?(n.next=n,Ls(t)):(n.next=r.next,r.next=n),t.interleaved=n,Os(e,a)}function Os(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var zs=!1;function Ds(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Rs(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Fs(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Us(e,t,n){var a=e.updateQueue;if(null===a)return null;if(a=a.shared,0!==(2&_o)){var r=a.pending;return null===r?t.next=t:(t.next=r.next,r.next=t),a.pending=t,Os(e,n)}return null===(r=a.interleaved)?(t.next=t,Ls(a)):(t.next=r.next,r.next=t),a.interleaved=t,Os(e,n)}function Ms(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var a=t.lanes;n|=a&=e.pendingLanes,t.lanes=n,bt(e,n)}}function qs(e,t){var n=e.updateQueue,a=e.alternate;if(null!==a&&n===(a=a.updateQueue)){var r=null,s=null;if(null!==(n=n.firstBaseUpdate)){do{var i={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===s?r=s=i:s=s.next=i,n=n.next}while(null!==n);null===s?r=s=t:s=s.next=t}else r=s=t;return n={baseState:a.baseState,firstBaseUpdate:r,lastBaseUpdate:s,shared:a.shared,effects:a.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Bs(e,t,n,a){var r=e.updateQueue;zs=!1;var s=r.firstBaseUpdate,i=r.lastBaseUpdate,l=r.shared.pending;if(null!==l){r.shared.pending=null;var o=l,c=o.next;o.next=null,null===i?s=c:i.next=c,i=o;var d=e.alternate;null!==d&&((l=(d=d.updateQueue).lastBaseUpdate)!==i&&(null===l?d.firstBaseUpdate=c:l.next=c,d.lastBaseUpdate=o))}if(null!==s){var u=r.baseState;for(i=0,d=c=o=null,l=s;;){var m=l.lane,p=l.eventTime;if((a&m)===m){null!==d&&(d=d.next={eventTime:p,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var h=e,f=l;switch(m=t,p=n,f.tag){case 1:if("function"===typeof(h=f.payload)){u=h.call(p,u,m);break e}u=h;break e;case 3:h.flags=-65537&h.flags|128;case 0:if(null===(m="function"===typeof(h=f.payload)?h.call(p,u,m):h)||void 0===m)break e;u=R({},u,m);break e;case 2:zs=!0}}null!==l.callback&&0!==l.lane&&(e.flags|=64,null===(m=r.effects)?r.effects=[l]:m.push(l))}else p={eventTime:p,lane:m,tag:l.tag,payload:l.payload,callback:l.callback,next:null},null===d?(c=d=p,o=u):d=d.next=p,i|=m;if(null===(l=l.next)){if(null===(l=r.shared.pending))break;l=(m=l).next,m.next=null,r.lastBaseUpdate=m,r.shared.pending=null}}if(null===d&&(o=u),r.baseState=o,r.firstBaseUpdate=c,r.lastBaseUpdate=d,null!==(t=r.shared.interleaved)){r=t;do{i|=r.lane,r=r.next}while(r!==t)}else null===s&&(r.shared.lanes=0);Do|=i,e.lanes=i,e.memoizedState=u}}function Vs(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var a=e[t],r=a.callback;if(null!==r){if(a.callback=null,a=n,"function"!==typeof r)throw Error(s(191,r));r.call(a)}}}var Ws={},Hs=kr(Ws),$s=kr(Ws),Qs=kr(Ws);function Js(e){if(e===Ws)throw Error(s(174));return e}function Ks(e,t){switch(Cr(Qs,t),Cr($s,e),Cr(Hs,Ws),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:oe(null,"");break;default:t=oe(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}Sr(Hs),Cr(Hs,t)}function Gs(){Sr(Hs),Sr($s),Sr(Qs)}function Ys(e){Js(Qs.current);var t=Js(Hs.current),n=oe(t,e.type);t!==n&&(Cr($s,e),Cr(Hs,n))}function Xs(e){$s.current===e&&(Sr(Hs),Sr($s))}var Zs=kr(0);function ei(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var ti=[];function ni(){for(var e=0;e<ti.length;e++)ti[e]._workInProgressVersionPrimary=null;ti.length=0}var ai=y.ReactCurrentDispatcher,ri=y.ReactCurrentBatchConfig,si=0,ii=null,li=null,oi=null,ci=!1,di=!1,ui=0,mi=0;function pi(){throw Error(s(321))}function hi(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!la(e[n],t[n]))return!1;return!0}function fi(e,t,n,a,r,i){if(si=i,ii=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,ai.current=null===e||null===e.memoizedState?Xi:Zi,e=n(a,r),di){i=0;do{if(di=!1,ui=0,25<=i)throw Error(s(301));i+=1,oi=li=null,t.updateQueue=null,ai.current=el,e=n(a,r)}while(di)}if(ai.current=Yi,t=null!==li&&null!==li.next,si=0,oi=li=ii=null,ci=!1,t)throw Error(s(300));return e}function xi(){var e=0!==ui;return ui=0,e}function gi(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===oi?ii.memoizedState=oi=e:oi=oi.next=e,oi}function bi(){if(null===li){var e=ii.alternate;e=null!==e?e.memoizedState:null}else e=li.next;var t=null===oi?ii.memoizedState:oi.next;if(null!==t)oi=t,li=e;else{if(null===e)throw Error(s(310));e={memoizedState:(li=e).memoizedState,baseState:li.baseState,baseQueue:li.baseQueue,queue:li.queue,next:null},null===oi?ii.memoizedState=oi=e:oi=oi.next=e}return oi}function vi(e,t){return"function"===typeof t?t(e):t}function yi(e){var t=bi(),n=t.queue;if(null===n)throw Error(s(311));n.lastRenderedReducer=e;var a=li,r=a.baseQueue,i=n.pending;if(null!==i){if(null!==r){var l=r.next;r.next=i.next,i.next=l}a.baseQueue=r=i,n.pending=null}if(null!==r){i=r.next,a=a.baseState;var o=l=null,c=null,d=i;do{var u=d.lane;if((si&u)===u)null!==c&&(c=c.next={lane:0,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null}),a=d.hasEagerState?d.eagerState:e(a,d.action);else{var m={lane:u,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null};null===c?(o=c=m,l=a):c=c.next=m,ii.lanes|=u,Do|=u}d=d.next}while(null!==d&&d!==i);null===c?l=a:c.next=o,la(a,t.memoizedState)||(bl=!0),t.memoizedState=a,t.baseState=l,t.baseQueue=c,n.lastRenderedState=a}if(null!==(e=n.interleaved)){r=e;do{i=r.lane,ii.lanes|=i,Do|=i,r=r.next}while(r!==e)}else null===r&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function ji(e){var t=bi(),n=t.queue;if(null===n)throw Error(s(311));n.lastRenderedReducer=e;var a=n.dispatch,r=n.pending,i=t.memoizedState;if(null!==r){n.pending=null;var l=r=r.next;do{i=e(i,l.action),l=l.next}while(l!==r);la(i,t.memoizedState)||(bl=!0),t.memoizedState=i,null===t.baseQueue&&(t.baseState=i),n.lastRenderedState=i}return[i,a]}function Ni(){}function wi(e,t){var n=ii,a=bi(),r=t(),i=!la(a.memoizedState,r);if(i&&(a.memoizedState=r,bl=!0),a=a.queue,zi(Ci.bind(null,n,a,e),[e]),a.getSnapshot!==t||i||null!==oi&&1&oi.memoizedState.tag){if(n.flags|=2048,Ai(9,Si.bind(null,n,a,r,t),void 0,null),null===Po)throw Error(s(349));0!==(30&si)||ki(n,t,r)}return r}function ki(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=ii.updateQueue)?(t={lastEffect:null,stores:null},ii.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Si(e,t,n,a){t.value=n,t.getSnapshot=a,Ei(t)&&_i(e)}function Ci(e,t,n){return n(function(){Ei(t)&&_i(e)})}function Ei(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!la(e,n)}catch(a){return!0}}function _i(e){var t=Os(e,1);null!==t&&nc(t,e,1,-1)}function Pi(e){var t=gi();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:vi,lastRenderedState:e},t.queue=e,e=e.dispatch=Qi.bind(null,ii,e),[t.memoizedState,e]}function Ai(e,t,n,a){return e={tag:e,create:t,destroy:n,deps:a,next:null},null===(t=ii.updateQueue)?(t={lastEffect:null,stores:null},ii.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(a=n.next,n.next=e,e.next=a,t.lastEffect=e),e}function Ii(){return bi().memoizedState}function Li(e,t,n,a){var r=gi();ii.flags|=e,r.memoizedState=Ai(1|t,n,void 0,void 0===a?null:a)}function Ti(e,t,n,a){var r=bi();a=void 0===a?null:a;var s=void 0;if(null!==li){var i=li.memoizedState;if(s=i.destroy,null!==a&&hi(a,i.deps))return void(r.memoizedState=Ai(t,n,s,a))}ii.flags|=e,r.memoizedState=Ai(1|t,n,s,a)}function Oi(e,t){return Li(8390656,8,e,t)}function zi(e,t){return Ti(2048,8,e,t)}function Di(e,t){return Ti(4,2,e,t)}function Ri(e,t){return Ti(4,4,e,t)}function Fi(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Ui(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Ti(4,4,Fi.bind(null,t,e),n)}function Mi(){}function qi(e,t){var n=bi();t=void 0===t?null:t;var a=n.memoizedState;return null!==a&&null!==t&&hi(t,a[1])?a[0]:(n.memoizedState=[e,t],e)}function Bi(e,t){var n=bi();t=void 0===t?null:t;var a=n.memoizedState;return null!==a&&null!==t&&hi(t,a[1])?a[0]:(e=e(),n.memoizedState=[e,t],e)}function Vi(e,t,n){return 0===(21&si)?(e.baseState&&(e.baseState=!1,bl=!0),e.memoizedState=n):(la(n,t)||(n=ft(),ii.lanes|=n,Do|=n,e.baseState=!0),t)}function Wi(e,t){var n=vt;vt=0!==n&&4>n?n:4,e(!0);var a=ri.transition;ri.transition={};try{e(!1),t()}finally{vt=n,ri.transition=a}}function Hi(){return bi().memoizedState}function $i(e,t,n){var a=tc(e);if(n={lane:a,action:n,hasEagerState:!1,eagerState:null,next:null},Ji(e))Ki(t,n);else if(null!==(n=Ts(e,t,n,a))){nc(n,e,a,ec()),Gi(n,t,a)}}function Qi(e,t,n){var a=tc(e),r={lane:a,action:n,hasEagerState:!1,eagerState:null,next:null};if(Ji(e))Ki(t,r);else{var s=e.alternate;if(0===e.lanes&&(null===s||0===s.lanes)&&null!==(s=t.lastRenderedReducer))try{var i=t.lastRenderedState,l=s(i,n);if(r.hasEagerState=!0,r.eagerState=l,la(l,i)){var o=t.interleaved;return null===o?(r.next=r,Ls(t)):(r.next=o.next,o.next=r),void(t.interleaved=r)}}catch(c){}null!==(n=Ts(e,t,r,a))&&(nc(n,e,a,r=ec()),Gi(n,t,a))}}function Ji(e){var t=e.alternate;return e===ii||null!==t&&t===ii}function Ki(e,t){di=ci=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Gi(e,t,n){if(0!==(4194240&n)){var a=t.lanes;n|=a&=e.pendingLanes,t.lanes=n,bt(e,n)}}var Yi={readContext:As,useCallback:pi,useContext:pi,useEffect:pi,useImperativeHandle:pi,useInsertionEffect:pi,useLayoutEffect:pi,useMemo:pi,useReducer:pi,useRef:pi,useState:pi,useDebugValue:pi,useDeferredValue:pi,useTransition:pi,useMutableSource:pi,useSyncExternalStore:pi,useId:pi,unstable_isNewReconciler:!1},Xi={readContext:As,useCallback:function(e,t){return gi().memoizedState=[e,void 0===t?null:t],e},useContext:As,useEffect:Oi,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Li(4194308,4,Fi.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Li(4194308,4,e,t)},useInsertionEffect:function(e,t){return Li(4,2,e,t)},useMemo:function(e,t){var n=gi();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var a=gi();return t=void 0!==n?n(t):t,a.memoizedState=a.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},a.queue=e,e=e.dispatch=$i.bind(null,ii,e),[a.memoizedState,e]},useRef:function(e){return e={current:e},gi().memoizedState=e},useState:Pi,useDebugValue:Mi,useDeferredValue:function(e){return gi().memoizedState=e},useTransition:function(){var e=Pi(!1),t=e[0];return e=Wi.bind(null,e[1]),gi().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var a=ii,r=gi();if(rs){if(void 0===n)throw Error(s(407));n=n()}else{if(n=t(),null===Po)throw Error(s(349));0!==(30&si)||ki(a,t,n)}r.memoizedState=n;var i={value:n,getSnapshot:t};return r.queue=i,Oi(Ci.bind(null,a,i,e),[e]),a.flags|=2048,Ai(9,Si.bind(null,a,i,n,t),void 0,null),n},useId:function(){var e=gi(),t=Po.identifierPrefix;if(rs){var n=Yr;t=":"+t+"R"+(n=(Gr&~(1<<32-it(Gr)-1)).toString(32)+n),0<(n=ui++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=mi++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},Zi={readContext:As,useCallback:qi,useContext:As,useEffect:zi,useImperativeHandle:Ui,useInsertionEffect:Di,useLayoutEffect:Ri,useMemo:Bi,useReducer:yi,useRef:Ii,useState:function(){return yi(vi)},useDebugValue:Mi,useDeferredValue:function(e){return Vi(bi(),li.memoizedState,e)},useTransition:function(){return[yi(vi)[0],bi().memoizedState]},useMutableSource:Ni,useSyncExternalStore:wi,useId:Hi,unstable_isNewReconciler:!1},el={readContext:As,useCallback:qi,useContext:As,useEffect:zi,useImperativeHandle:Ui,useInsertionEffect:Di,useLayoutEffect:Ri,useMemo:Bi,useReducer:ji,useRef:Ii,useState:function(){return ji(vi)},useDebugValue:Mi,useDeferredValue:function(e){var t=bi();return null===li?t.memoizedState=e:Vi(t,li.memoizedState,e)},useTransition:function(){return[ji(vi)[0],bi().memoizedState]},useMutableSource:Ni,useSyncExternalStore:wi,useId:Hi,unstable_isNewReconciler:!1};function tl(e,t){if(e&&e.defaultProps){for(var n in t=R({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}function nl(e,t,n,a){n=null===(n=n(a,t=e.memoizedState))||void 0===n?t:R({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var al={isMounted:function(e){return!!(e=e._reactInternals)&&Be(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var a=ec(),r=tc(e),s=Fs(a,r);s.payload=t,void 0!==n&&null!==n&&(s.callback=n),null!==(t=Us(e,s,r))&&(nc(t,e,r,a),Ms(t,e,r))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var a=ec(),r=tc(e),s=Fs(a,r);s.tag=1,s.payload=t,void 0!==n&&null!==n&&(s.callback=n),null!==(t=Us(e,s,r))&&(nc(t,e,r,a),Ms(t,e,r))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=ec(),a=tc(e),r=Fs(n,a);r.tag=2,void 0!==t&&null!==t&&(r.callback=t),null!==(t=Us(e,r,a))&&(nc(t,e,a,n),Ms(t,e,a))}};function rl(e,t,n,a,r,s,i){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(a,s,i):!t.prototype||!t.prototype.isPureReactComponent||(!oa(n,a)||!oa(r,s))}function sl(e,t,n){var a=!1,r=Er,s=t.contextType;return"object"===typeof s&&null!==s?s=As(s):(r=Lr(t)?Ar:_r.current,s=(a=null!==(a=t.contextTypes)&&void 0!==a)?Ir(e,r):Er),t=new t(n,s),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=al,e.stateNode=t,t._reactInternals=e,a&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=r,e.__reactInternalMemoizedMaskedChildContext=s),t}function il(e,t,n,a){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,a),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,a),t.state!==e&&al.enqueueReplaceState(t,t.state,null)}function ll(e,t,n,a){var r=e.stateNode;r.props=n,r.state=e.memoizedState,r.refs={},Ds(e);var s=t.contextType;"object"===typeof s&&null!==s?r.context=As(s):(s=Lr(t)?Ar:_r.current,r.context=Ir(e,s)),r.state=e.memoizedState,"function"===typeof(s=t.getDerivedStateFromProps)&&(nl(e,t,s,n),r.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof r.getSnapshotBeforeUpdate||"function"!==typeof r.UNSAFE_componentWillMount&&"function"!==typeof r.componentWillMount||(t=r.state,"function"===typeof r.componentWillMount&&r.componentWillMount(),"function"===typeof r.UNSAFE_componentWillMount&&r.UNSAFE_componentWillMount(),t!==r.state&&al.enqueueReplaceState(r,r.state,null),Bs(e,n,r,a),r.state=e.memoizedState),"function"===typeof r.componentDidMount&&(e.flags|=4194308)}function ol(e,t){try{var n="",a=t;do{n+=q(a),a=a.return}while(a);var r=n}catch(s){r="\nError generating stack: "+s.message+"\n"+s.stack}return{value:e,source:t,stack:r,digest:null}}function cl(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function dl(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var ul="function"===typeof WeakMap?WeakMap:Map;function ml(e,t,n){(n=Fs(-1,n)).tag=3,n.payload={element:null};var a=t.value;return n.callback=function(){Wo||(Wo=!0,Ho=a),dl(0,t)},n}function pl(e,t,n){(n=Fs(-1,n)).tag=3;var a=e.type.getDerivedStateFromError;if("function"===typeof a){var r=t.value;n.payload=function(){return a(r)},n.callback=function(){dl(0,t)}}var s=e.stateNode;return null!==s&&"function"===typeof s.componentDidCatch&&(n.callback=function(){dl(0,t),"function"!==typeof a&&(null===$o?$o=new Set([this]):$o.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function hl(e,t,n){var a=e.pingCache;if(null===a){a=e.pingCache=new ul;var r=new Set;a.set(t,r)}else void 0===(r=a.get(t))&&(r=new Set,a.set(t,r));r.has(n)||(r.add(n),e=Sc.bind(null,e,t,n),t.then(e,e))}function fl(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function xl(e,t,n,a,r){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=Fs(-1,1)).tag=2,Us(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=r,e)}var gl=y.ReactCurrentOwner,bl=!1;function vl(e,t,n,a){t.child=null===e?js(t,null,n,a):ys(t,e.child,n,a)}function yl(e,t,n,a,r){n=n.render;var s=t.ref;return Ps(t,r),a=fi(e,t,n,a,s,r),n=xi(),null===e||bl?(rs&&n&&es(t),t.flags|=1,vl(e,t,a,r),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~r,Vl(e,t,r))}function jl(e,t,n,a,r){if(null===e){var s=n.type;return"function"!==typeof s||Lc(s)||void 0!==s.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Oc(n.type,null,a,t,t.mode,r)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=s,Nl(e,t,s,a,r))}if(s=e.child,0===(e.lanes&r)){var i=s.memoizedProps;if((n=null!==(n=n.compare)?n:oa)(i,a)&&e.ref===t.ref)return Vl(e,t,r)}return t.flags|=1,(e=Tc(s,a)).ref=t.ref,e.return=t,t.child=e}function Nl(e,t,n,a,r){if(null!==e){var s=e.memoizedProps;if(oa(s,a)&&e.ref===t.ref){if(bl=!1,t.pendingProps=a=s,0===(e.lanes&r))return t.lanes=e.lanes,Vl(e,t,r);0!==(131072&e.flags)&&(bl=!0)}}return Sl(e,t,n,a,r)}function wl(e,t,n){var a=t.pendingProps,r=a.children,s=null!==e?e.memoizedState:null;if("hidden"===a.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Cr(To,Lo),Lo|=n;else{if(0===(1073741824&n))return e=null!==s?s.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Cr(To,Lo),Lo|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},a=null!==s?s.baseLanes:n,Cr(To,Lo),Lo|=a}else null!==s?(a=s.baseLanes|n,t.memoizedState=null):a=n,Cr(To,Lo),Lo|=a;return vl(e,t,r,n),t.child}function kl(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Sl(e,t,n,a,r){var s=Lr(n)?Ar:_r.current;return s=Ir(t,s),Ps(t,r),n=fi(e,t,n,a,s,r),a=xi(),null===e||bl?(rs&&a&&es(t),t.flags|=1,vl(e,t,n,r),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~r,Vl(e,t,r))}function Cl(e,t,n,a,r){if(Lr(n)){var s=!0;Dr(t)}else s=!1;if(Ps(t,r),null===t.stateNode)Bl(e,t),sl(t,n,a),ll(t,n,a,r),a=!0;else if(null===e){var i=t.stateNode,l=t.memoizedProps;i.props=l;var o=i.context,c=n.contextType;"object"===typeof c&&null!==c?c=As(c):c=Ir(t,c=Lr(n)?Ar:_r.current);var d=n.getDerivedStateFromProps,u="function"===typeof d||"function"===typeof i.getSnapshotBeforeUpdate;u||"function"!==typeof i.UNSAFE_componentWillReceiveProps&&"function"!==typeof i.componentWillReceiveProps||(l!==a||o!==c)&&il(t,i,a,c),zs=!1;var m=t.memoizedState;i.state=m,Bs(t,a,i,r),o=t.memoizedState,l!==a||m!==o||Pr.current||zs?("function"===typeof d&&(nl(t,n,d,a),o=t.memoizedState),(l=zs||rl(t,n,l,a,m,o,c))?(u||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||("function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount()),"function"===typeof i.componentDidMount&&(t.flags|=4194308)):("function"===typeof i.componentDidMount&&(t.flags|=4194308),t.memoizedProps=a,t.memoizedState=o),i.props=a,i.state=o,i.context=c,a=l):("function"===typeof i.componentDidMount&&(t.flags|=4194308),a=!1)}else{i=t.stateNode,Rs(e,t),l=t.memoizedProps,c=t.type===t.elementType?l:tl(t.type,l),i.props=c,u=t.pendingProps,m=i.context,"object"===typeof(o=n.contextType)&&null!==o?o=As(o):o=Ir(t,o=Lr(n)?Ar:_r.current);var p=n.getDerivedStateFromProps;(d="function"===typeof p||"function"===typeof i.getSnapshotBeforeUpdate)||"function"!==typeof i.UNSAFE_componentWillReceiveProps&&"function"!==typeof i.componentWillReceiveProps||(l!==u||m!==o)&&il(t,i,a,o),zs=!1,m=t.memoizedState,i.state=m,Bs(t,a,i,r);var h=t.memoizedState;l!==u||m!==h||Pr.current||zs?("function"===typeof p&&(nl(t,n,p,a),h=t.memoizedState),(c=zs||rl(t,n,c,a,m,h,o)||!1)?(d||"function"!==typeof i.UNSAFE_componentWillUpdate&&"function"!==typeof i.componentWillUpdate||("function"===typeof i.componentWillUpdate&&i.componentWillUpdate(a,h,o),"function"===typeof i.UNSAFE_componentWillUpdate&&i.UNSAFE_componentWillUpdate(a,h,o)),"function"===typeof i.componentDidUpdate&&(t.flags|=4),"function"===typeof i.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof i.componentDidUpdate||l===e.memoizedProps&&m===e.memoizedState||(t.flags|=4),"function"!==typeof i.getSnapshotBeforeUpdate||l===e.memoizedProps&&m===e.memoizedState||(t.flags|=1024),t.memoizedProps=a,t.memoizedState=h),i.props=a,i.state=h,i.context=o,a=c):("function"!==typeof i.componentDidUpdate||l===e.memoizedProps&&m===e.memoizedState||(t.flags|=4),"function"!==typeof i.getSnapshotBeforeUpdate||l===e.memoizedProps&&m===e.memoizedState||(t.flags|=1024),a=!1)}return El(e,t,n,a,s,r)}function El(e,t,n,a,r,s){kl(e,t);var i=0!==(128&t.flags);if(!a&&!i)return r&&Rr(t,n,!1),Vl(e,t,s);a=t.stateNode,gl.current=t;var l=i&&"function"!==typeof n.getDerivedStateFromError?null:a.render();return t.flags|=1,null!==e&&i?(t.child=ys(t,e.child,null,s),t.child=ys(t,null,l,s)):vl(e,t,l,s),t.memoizedState=a.state,r&&Rr(t,n,!0),t.child}function _l(e){var t=e.stateNode;t.pendingContext?Or(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Or(0,t.context,!1),Ks(e,t.containerInfo)}function Pl(e,t,n,a,r){return ps(),hs(r),t.flags|=256,vl(e,t,n,a),t.child}var Al,Il,Ll,Tl,Ol={dehydrated:null,treeContext:null,retryLane:0};function zl(e){return{baseLanes:e,cachePool:null,transitions:null}}function Dl(e,t,n){var a,r=t.pendingProps,i=Zs.current,l=!1,o=0!==(128&t.flags);if((a=o)||(a=(null===e||null!==e.memoizedState)&&0!==(2&i)),a?(l=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(i|=1),Cr(Zs,1&i),null===e)return cs(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(o=r.children,e=r.fallback,l?(r=t.mode,l=t.child,o={mode:"hidden",children:o},0===(1&r)&&null!==l?(l.childLanes=0,l.pendingProps=o):l=Dc(o,r,0,null),e=zc(e,r,n,null),l.return=t,e.return=t,l.sibling=e,t.child=l,t.child.memoizedState=zl(n),t.memoizedState=Ol,e):Rl(t,o));if(null!==(i=e.memoizedState)&&null!==(a=i.dehydrated))return function(e,t,n,a,r,i,l){if(n)return 256&t.flags?(t.flags&=-257,Fl(e,t,l,a=cl(Error(s(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(i=a.fallback,r=t.mode,a=Dc({mode:"visible",children:a.children},r,0,null),(i=zc(i,r,l,null)).flags|=2,a.return=t,i.return=t,a.sibling=i,t.child=a,0!==(1&t.mode)&&ys(t,e.child,null,l),t.child.memoizedState=zl(l),t.memoizedState=Ol,i);if(0===(1&t.mode))return Fl(e,t,l,null);if("$!"===r.data){if(a=r.nextSibling&&r.nextSibling.dataset)var o=a.dgst;return a=o,Fl(e,t,l,a=cl(i=Error(s(419)),a,void 0))}if(o=0!==(l&e.childLanes),bl||o){if(null!==(a=Po)){switch(l&-l){case 4:r=2;break;case 16:r=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:r=32;break;case 536870912:r=268435456;break;default:r=0}0!==(r=0!==(r&(a.suspendedLanes|l))?0:r)&&r!==i.retryLane&&(i.retryLane=r,Os(e,r),nc(a,e,r,-1))}return fc(),Fl(e,t,l,a=cl(Error(s(421))))}return"$?"===r.data?(t.flags|=128,t.child=e.child,t=Ec.bind(null,e),r._reactRetry=t,null):(e=i.treeContext,as=cr(r.nextSibling),ns=t,rs=!0,ss=null,null!==e&&(Qr[Jr++]=Gr,Qr[Jr++]=Yr,Qr[Jr++]=Kr,Gr=e.id,Yr=e.overflow,Kr=t),t=Rl(t,a.children),t.flags|=4096,t)}(e,t,o,r,a,i,n);if(l){l=r.fallback,o=t.mode,a=(i=e.child).sibling;var c={mode:"hidden",children:r.children};return 0===(1&o)&&t.child!==i?((r=t.child).childLanes=0,r.pendingProps=c,t.deletions=null):(r=Tc(i,c)).subtreeFlags=14680064&i.subtreeFlags,null!==a?l=Tc(a,l):(l=zc(l,o,n,null)).flags|=2,l.return=t,r.return=t,r.sibling=l,t.child=r,r=l,l=t.child,o=null===(o=e.child.memoizedState)?zl(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},l.memoizedState=o,l.childLanes=e.childLanes&~n,t.memoizedState=Ol,r}return e=(l=e.child).sibling,r=Tc(l,{mode:"visible",children:r.children}),0===(1&t.mode)&&(r.lanes=n),r.return=t,r.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function Rl(e,t){return(t=Dc({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function Fl(e,t,n,a){return null!==a&&hs(a),ys(t,e.child,null,n),(e=Rl(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Ul(e,t,n){e.lanes|=t;var a=e.alternate;null!==a&&(a.lanes|=t),_s(e.return,t,n)}function Ml(e,t,n,a,r){var s=e.memoizedState;null===s?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:a,tail:n,tailMode:r}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=a,s.tail=n,s.tailMode=r)}function ql(e,t,n){var a=t.pendingProps,r=a.revealOrder,s=a.tail;if(vl(e,t,a.children,n),0!==(2&(a=Zs.current)))a=1&a|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Ul(e,n,t);else if(19===e.tag)Ul(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}a&=1}if(Cr(Zs,a),0===(1&t.mode))t.memoizedState=null;else switch(r){case"forwards":for(n=t.child,r=null;null!==n;)null!==(e=n.alternate)&&null===ei(e)&&(r=n),n=n.sibling;null===(n=r)?(r=t.child,t.child=null):(r=n.sibling,n.sibling=null),Ml(t,!1,r,n,s);break;case"backwards":for(n=null,r=t.child,t.child=null;null!==r;){if(null!==(e=r.alternate)&&null===ei(e)){t.child=r;break}e=r.sibling,r.sibling=n,n=r,r=e}Ml(t,!0,n,null,s);break;case"together":Ml(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Bl(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Vl(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Do|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(s(153));if(null!==t.child){for(n=Tc(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Tc(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Wl(e,t){if(!rs)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var a=null;null!==n;)null!==n.alternate&&(a=n),n=n.sibling;null===a?t||null===e.tail?e.tail=null:e.tail.sibling=null:a.sibling=null}}function Hl(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,a=0;if(t)for(var r=e.child;null!==r;)n|=r.lanes|r.childLanes,a|=14680064&r.subtreeFlags,a|=14680064&r.flags,r.return=e,r=r.sibling;else for(r=e.child;null!==r;)n|=r.lanes|r.childLanes,a|=r.subtreeFlags,a|=r.flags,r.return=e,r=r.sibling;return e.subtreeFlags|=a,e.childLanes=n,t}function $l(e,t,n){var a=t.pendingProps;switch(ts(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Hl(t),null;case 1:case 17:return Lr(t.type)&&Tr(),Hl(t),null;case 3:return a=t.stateNode,Gs(),Sr(Pr),Sr(_r),ni(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),null!==e&&null!==e.child||(us(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==ss&&(ic(ss),ss=null))),Il(e,t),Hl(t),null;case 5:Xs(t);var r=Js(Qs.current);if(n=t.type,null!==e&&null!=t.stateNode)Ll(e,t,n,a,r),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!a){if(null===t.stateNode)throw Error(s(166));return Hl(t),null}if(e=Js(Hs.current),us(t)){a=t.stateNode,n=t.type;var i=t.memoizedProps;switch(a[mr]=t,a[pr]=i,e=0!==(1&t.mode),n){case"dialog":Ua("cancel",a),Ua("close",a);break;case"iframe":case"object":case"embed":Ua("load",a);break;case"video":case"audio":for(r=0;r<za.length;r++)Ua(za[r],a);break;case"source":Ua("error",a);break;case"img":case"image":case"link":Ua("error",a),Ua("load",a);break;case"details":Ua("toggle",a);break;case"input":G(a,i),Ua("invalid",a);break;case"select":a._wrapperState={wasMultiple:!!i.multiple},Ua("invalid",a);break;case"textarea":re(a,i),Ua("invalid",a)}for(var o in be(n,i),r=null,i)if(i.hasOwnProperty(o)){var c=i[o];"children"===o?"string"===typeof c?a.textContent!==c&&(!0!==i.suppressHydrationWarning&&Xa(a.textContent,c,e),r=["children",c]):"number"===typeof c&&a.textContent!==""+c&&(!0!==i.suppressHydrationWarning&&Xa(a.textContent,c,e),r=["children",""+c]):l.hasOwnProperty(o)&&null!=c&&"onScroll"===o&&Ua("scroll",a)}switch(n){case"input":$(a),Z(a,i,!0);break;case"textarea":$(a),ie(a);break;case"select":case"option":break;default:"function"===typeof i.onClick&&(a.onclick=Za)}a=r,t.updateQueue=a,null!==a&&(t.flags|=4)}else{o=9===r.nodeType?r:r.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=le(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=o.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof a.is?e=o.createElement(n,{is:a.is}):(e=o.createElement(n),"select"===n&&(o=e,a.multiple?o.multiple=!0:a.size&&(o.size=a.size))):e=o.createElementNS(e,n),e[mr]=t,e[pr]=a,Al(e,t,!1,!1),t.stateNode=e;e:{switch(o=ve(n,a),n){case"dialog":Ua("cancel",e),Ua("close",e),r=a;break;case"iframe":case"object":case"embed":Ua("load",e),r=a;break;case"video":case"audio":for(r=0;r<za.length;r++)Ua(za[r],e);r=a;break;case"source":Ua("error",e),r=a;break;case"img":case"image":case"link":Ua("error",e),Ua("load",e),r=a;break;case"details":Ua("toggle",e),r=a;break;case"input":G(e,a),r=K(e,a),Ua("invalid",e);break;case"option":default:r=a;break;case"select":e._wrapperState={wasMultiple:!!a.multiple},r=R({},a,{value:void 0}),Ua("invalid",e);break;case"textarea":re(e,a),r=ae(e,a),Ua("invalid",e)}for(i in be(n,r),c=r)if(c.hasOwnProperty(i)){var d=c[i];"style"===i?xe(e,d):"dangerouslySetInnerHTML"===i?null!=(d=d?d.__html:void 0)&&ue(e,d):"children"===i?"string"===typeof d?("textarea"!==n||""!==d)&&me(e,d):"number"===typeof d&&me(e,""+d):"suppressContentEditableWarning"!==i&&"suppressHydrationWarning"!==i&&"autoFocus"!==i&&(l.hasOwnProperty(i)?null!=d&&"onScroll"===i&&Ua("scroll",e):null!=d&&v(e,i,d,o))}switch(n){case"input":$(e),Z(e,a,!1);break;case"textarea":$(e),ie(e);break;case"option":null!=a.value&&e.setAttribute("value",""+W(a.value));break;case"select":e.multiple=!!a.multiple,null!=(i=a.value)?ne(e,!!a.multiple,i,!1):null!=a.defaultValue&&ne(e,!!a.multiple,a.defaultValue,!0);break;default:"function"===typeof r.onClick&&(e.onclick=Za)}switch(n){case"button":case"input":case"select":case"textarea":a=!!a.autoFocus;break e;case"img":a=!0;break e;default:a=!1}}a&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return Hl(t),null;case 6:if(e&&null!=t.stateNode)Tl(e,t,e.memoizedProps,a);else{if("string"!==typeof a&&null===t.stateNode)throw Error(s(166));if(n=Js(Qs.current),Js(Hs.current),us(t)){if(a=t.stateNode,n=t.memoizedProps,a[mr]=t,(i=a.nodeValue!==n)&&null!==(e=ns))switch(e.tag){case 3:Xa(a.nodeValue,n,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&Xa(a.nodeValue,n,0!==(1&e.mode))}i&&(t.flags|=4)}else(a=(9===n.nodeType?n:n.ownerDocument).createTextNode(a))[mr]=t,t.stateNode=a}return Hl(t),null;case 13:if(Sr(Zs),a=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(rs&&null!==as&&0!==(1&t.mode)&&0===(128&t.flags))ms(),ps(),t.flags|=98560,i=!1;else if(i=us(t),null!==a&&null!==a.dehydrated){if(null===e){if(!i)throw Error(s(318));if(!(i=null!==(i=t.memoizedState)?i.dehydrated:null))throw Error(s(317));i[mr]=t}else ps(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;Hl(t),i=!1}else null!==ss&&(ic(ss),ss=null),i=!0;if(!i)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=n,t):((a=null!==a)!==(null!==e&&null!==e.memoizedState)&&a&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&Zs.current)?0===Oo&&(Oo=3):fc())),null!==t.updateQueue&&(t.flags|=4),Hl(t),null);case 4:return Gs(),Il(e,t),null===e&&Ba(t.stateNode.containerInfo),Hl(t),null;case 10:return Es(t.type._context),Hl(t),null;case 19:if(Sr(Zs),null===(i=t.memoizedState))return Hl(t),null;if(a=0!==(128&t.flags),null===(o=i.rendering))if(a)Wl(i,!1);else{if(0!==Oo||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(o=ei(e))){for(t.flags|=128,Wl(i,!1),null!==(a=o.updateQueue)&&(t.updateQueue=a,t.flags|=4),t.subtreeFlags=0,a=n,n=t.child;null!==n;)e=a,(i=n).flags&=14680066,null===(o=i.alternate)?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,e=o.dependencies,i.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Cr(Zs,1&Zs.current|2),t.child}e=e.sibling}null!==i.tail&&Ye()>Bo&&(t.flags|=128,a=!0,Wl(i,!1),t.lanes=4194304)}else{if(!a)if(null!==(e=ei(o))){if(t.flags|=128,a=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),Wl(i,!0),null===i.tail&&"hidden"===i.tailMode&&!o.alternate&&!rs)return Hl(t),null}else 2*Ye()-i.renderingStartTime>Bo&&1073741824!==n&&(t.flags|=128,a=!0,Wl(i,!1),t.lanes=4194304);i.isBackwards?(o.sibling=t.child,t.child=o):(null!==(n=i.last)?n.sibling=o:t.child=o,i.last=o)}return null!==i.tail?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=Ye(),t.sibling=null,n=Zs.current,Cr(Zs,a?1&n|2:1&n),t):(Hl(t),null);case 22:case 23:return uc(),a=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==a&&(t.flags|=8192),a&&0!==(1&t.mode)?0!==(1073741824&Lo)&&(Hl(t),6&t.subtreeFlags&&(t.flags|=8192)):Hl(t),null;case 24:case 25:return null}throw Error(s(156,t.tag))}function Ql(e,t){switch(ts(t),t.tag){case 1:return Lr(t.type)&&Tr(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return Gs(),Sr(Pr),Sr(_r),ni(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return Xs(t),null;case 13:if(Sr(Zs),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(s(340));ps()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return Sr(Zs),null;case 4:return Gs(),null;case 10:return Es(t.type._context),null;case 22:case 23:return uc(),null;default:return null}}Al=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Il=function(){},Ll=function(e,t,n,a){var r=e.memoizedProps;if(r!==a){e=t.stateNode,Js(Hs.current);var s,i=null;switch(n){case"input":r=K(e,r),a=K(e,a),i=[];break;case"select":r=R({},r,{value:void 0}),a=R({},a,{value:void 0}),i=[];break;case"textarea":r=ae(e,r),a=ae(e,a),i=[];break;default:"function"!==typeof r.onClick&&"function"===typeof a.onClick&&(e.onclick=Za)}for(d in be(n,a),n=null,r)if(!a.hasOwnProperty(d)&&r.hasOwnProperty(d)&&null!=r[d])if("style"===d){var o=r[d];for(s in o)o.hasOwnProperty(s)&&(n||(n={}),n[s]="")}else"dangerouslySetInnerHTML"!==d&&"children"!==d&&"suppressContentEditableWarning"!==d&&"suppressHydrationWarning"!==d&&"autoFocus"!==d&&(l.hasOwnProperty(d)?i||(i=[]):(i=i||[]).push(d,null));for(d in a){var c=a[d];if(o=null!=r?r[d]:void 0,a.hasOwnProperty(d)&&c!==o&&(null!=c||null!=o))if("style"===d)if(o){for(s in o)!o.hasOwnProperty(s)||c&&c.hasOwnProperty(s)||(n||(n={}),n[s]="");for(s in c)c.hasOwnProperty(s)&&o[s]!==c[s]&&(n||(n={}),n[s]=c[s])}else n||(i||(i=[]),i.push(d,n)),n=c;else"dangerouslySetInnerHTML"===d?(c=c?c.__html:void 0,o=o?o.__html:void 0,null!=c&&o!==c&&(i=i||[]).push(d,c)):"children"===d?"string"!==typeof c&&"number"!==typeof c||(i=i||[]).push(d,""+c):"suppressContentEditableWarning"!==d&&"suppressHydrationWarning"!==d&&(l.hasOwnProperty(d)?(null!=c&&"onScroll"===d&&Ua("scroll",e),i||o===c||(i=[])):(i=i||[]).push(d,c))}n&&(i=i||[]).push("style",n);var d=i;(t.updateQueue=d)&&(t.flags|=4)}},Tl=function(e,t,n,a){n!==a&&(t.flags|=4)};var Jl=!1,Kl=!1,Gl="function"===typeof WeakSet?WeakSet:Set,Yl=null;function Xl(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(a){kc(e,t,a)}else n.current=null}function Zl(e,t,n){try{n()}catch(a){kc(e,t,a)}}var eo=!1;function to(e,t,n){var a=t.updateQueue;if(null!==(a=null!==a?a.lastEffect:null)){var r=a=a.next;do{if((r.tag&e)===e){var s=r.destroy;r.destroy=void 0,void 0!==s&&Zl(t,n,s)}r=r.next}while(r!==a)}}function no(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var a=n.create;n.destroy=a()}n=n.next}while(n!==t)}}function ao(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"===typeof t?t(e):t.current=e}}function ro(e){var t=e.alternate;null!==t&&(e.alternate=null,ro(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[mr],delete t[pr],delete t[fr],delete t[xr],delete t[gr])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function so(e){return 5===e.tag||3===e.tag||4===e.tag}function io(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||so(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function lo(e,t,n){var a=e.tag;if(5===a||6===a)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Za));else if(4!==a&&null!==(e=e.child))for(lo(e,t,n),e=e.sibling;null!==e;)lo(e,t,n),e=e.sibling}function oo(e,t,n){var a=e.tag;if(5===a||6===a)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==a&&null!==(e=e.child))for(oo(e,t,n),e=e.sibling;null!==e;)oo(e,t,n),e=e.sibling}var co=null,uo=!1;function mo(e,t,n){for(n=n.child;null!==n;)po(e,t,n),n=n.sibling}function po(e,t,n){if(st&&"function"===typeof st.onCommitFiberUnmount)try{st.onCommitFiberUnmount(rt,n)}catch(l){}switch(n.tag){case 5:Kl||Xl(n,t);case 6:var a=co,r=uo;co=null,mo(e,t,n),uo=r,null!==(co=a)&&(uo?(e=co,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):co.removeChild(n.stateNode));break;case 18:null!==co&&(uo?(e=co,n=n.stateNode,8===e.nodeType?or(e.parentNode,n):1===e.nodeType&&or(e,n),Bt(e)):or(co,n.stateNode));break;case 4:a=co,r=uo,co=n.stateNode.containerInfo,uo=!0,mo(e,t,n),co=a,uo=r;break;case 0:case 11:case 14:case 15:if(!Kl&&(null!==(a=n.updateQueue)&&null!==(a=a.lastEffect))){r=a=a.next;do{var s=r,i=s.destroy;s=s.tag,void 0!==i&&(0!==(2&s)||0!==(4&s))&&Zl(n,t,i),r=r.next}while(r!==a)}mo(e,t,n);break;case 1:if(!Kl&&(Xl(n,t),"function"===typeof(a=n.stateNode).componentWillUnmount))try{a.props=n.memoizedProps,a.state=n.memoizedState,a.componentWillUnmount()}catch(l){kc(n,t,l)}mo(e,t,n);break;case 21:mo(e,t,n);break;case 22:1&n.mode?(Kl=(a=Kl)||null!==n.memoizedState,mo(e,t,n),Kl=a):mo(e,t,n);break;default:mo(e,t,n)}}function ho(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new Gl),t.forEach(function(t){var a=_c.bind(null,e,t);n.has(t)||(n.add(t),t.then(a,a))})}}function fo(e,t){var n=t.deletions;if(null!==n)for(var a=0;a<n.length;a++){var r=n[a];try{var i=e,l=t,o=l;e:for(;null!==o;){switch(o.tag){case 5:co=o.stateNode,uo=!1;break e;case 3:case 4:co=o.stateNode.containerInfo,uo=!0;break e}o=o.return}if(null===co)throw Error(s(160));po(i,l,r),co=null,uo=!1;var c=r.alternate;null!==c&&(c.return=null),r.return=null}catch(d){kc(r,t,d)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)xo(t,e),t=t.sibling}function xo(e,t){var n=e.alternate,a=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(fo(t,e),go(e),4&a){try{to(3,e,e.return),no(3,e)}catch(x){kc(e,e.return,x)}try{to(5,e,e.return)}catch(x){kc(e,e.return,x)}}break;case 1:fo(t,e),go(e),512&a&&null!==n&&Xl(n,n.return);break;case 5:if(fo(t,e),go(e),512&a&&null!==n&&Xl(n,n.return),32&e.flags){var r=e.stateNode;try{me(r,"")}catch(x){kc(e,e.return,x)}}if(4&a&&null!=(r=e.stateNode)){var i=e.memoizedProps,l=null!==n?n.memoizedProps:i,o=e.type,c=e.updateQueue;if(e.updateQueue=null,null!==c)try{"input"===o&&"radio"===i.type&&null!=i.name&&Y(r,i),ve(o,l);var d=ve(o,i);for(l=0;l<c.length;l+=2){var u=c[l],m=c[l+1];"style"===u?xe(r,m):"dangerouslySetInnerHTML"===u?ue(r,m):"children"===u?me(r,m):v(r,u,m,d)}switch(o){case"input":X(r,i);break;case"textarea":se(r,i);break;case"select":var p=r._wrapperState.wasMultiple;r._wrapperState.wasMultiple=!!i.multiple;var h=i.value;null!=h?ne(r,!!i.multiple,h,!1):p!==!!i.multiple&&(null!=i.defaultValue?ne(r,!!i.multiple,i.defaultValue,!0):ne(r,!!i.multiple,i.multiple?[]:"",!1))}r[pr]=i}catch(x){kc(e,e.return,x)}}break;case 6:if(fo(t,e),go(e),4&a){if(null===e.stateNode)throw Error(s(162));r=e.stateNode,i=e.memoizedProps;try{r.nodeValue=i}catch(x){kc(e,e.return,x)}}break;case 3:if(fo(t,e),go(e),4&a&&null!==n&&n.memoizedState.isDehydrated)try{Bt(t.containerInfo)}catch(x){kc(e,e.return,x)}break;case 4:default:fo(t,e),go(e);break;case 13:fo(t,e),go(e),8192&(r=e.child).flags&&(i=null!==r.memoizedState,r.stateNode.isHidden=i,!i||null!==r.alternate&&null!==r.alternate.memoizedState||(qo=Ye())),4&a&&ho(e);break;case 22:if(u=null!==n&&null!==n.memoizedState,1&e.mode?(Kl=(d=Kl)||u,fo(t,e),Kl=d):fo(t,e),go(e),8192&a){if(d=null!==e.memoizedState,(e.stateNode.isHidden=d)&&!u&&0!==(1&e.mode))for(Yl=e,u=e.child;null!==u;){for(m=Yl=u;null!==Yl;){switch(h=(p=Yl).child,p.tag){case 0:case 11:case 14:case 15:to(4,p,p.return);break;case 1:Xl(p,p.return);var f=p.stateNode;if("function"===typeof f.componentWillUnmount){a=p,n=p.return;try{t=a,f.props=t.memoizedProps,f.state=t.memoizedState,f.componentWillUnmount()}catch(x){kc(a,n,x)}}break;case 5:Xl(p,p.return);break;case 22:if(null!==p.memoizedState){jo(m);continue}}null!==h?(h.return=p,Yl=h):jo(m)}u=u.sibling}e:for(u=null,m=e;;){if(5===m.tag){if(null===u){u=m;try{r=m.stateNode,d?"function"===typeof(i=r.style).setProperty?i.setProperty("display","none","important"):i.display="none":(o=m.stateNode,l=void 0!==(c=m.memoizedProps.style)&&null!==c&&c.hasOwnProperty("display")?c.display:null,o.style.display=fe("display",l))}catch(x){kc(e,e.return,x)}}}else if(6===m.tag){if(null===u)try{m.stateNode.nodeValue=d?"":m.memoizedProps}catch(x){kc(e,e.return,x)}}else if((22!==m.tag&&23!==m.tag||null===m.memoizedState||m===e)&&null!==m.child){m.child.return=m,m=m.child;continue}if(m===e)break e;for(;null===m.sibling;){if(null===m.return||m.return===e)break e;u===m&&(u=null),m=m.return}u===m&&(u=null),m.sibling.return=m.return,m=m.sibling}}break;case 19:fo(t,e),go(e),4&a&&ho(e);case 21:}}function go(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(so(n)){var a=n;break e}n=n.return}throw Error(s(160))}switch(a.tag){case 5:var r=a.stateNode;32&a.flags&&(me(r,""),a.flags&=-33),oo(e,io(e),r);break;case 3:case 4:var i=a.stateNode.containerInfo;lo(e,io(e),i);break;default:throw Error(s(161))}}catch(l){kc(e,e.return,l)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function bo(e,t,n){Yl=e,vo(e,t,n)}function vo(e,t,n){for(var a=0!==(1&e.mode);null!==Yl;){var r=Yl,s=r.child;if(22===r.tag&&a){var i=null!==r.memoizedState||Jl;if(!i){var l=r.alternate,o=null!==l&&null!==l.memoizedState||Kl;l=Jl;var c=Kl;if(Jl=i,(Kl=o)&&!c)for(Yl=r;null!==Yl;)o=(i=Yl).child,22===i.tag&&null!==i.memoizedState?No(r):null!==o?(o.return=i,Yl=o):No(r);for(;null!==s;)Yl=s,vo(s,t,n),s=s.sibling;Yl=r,Jl=l,Kl=c}yo(e)}else 0!==(8772&r.subtreeFlags)&&null!==s?(s.return=r,Yl=s):yo(e)}}function yo(e){for(;null!==Yl;){var t=Yl;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:Kl||no(5,t);break;case 1:var a=t.stateNode;if(4&t.flags&&!Kl)if(null===n)a.componentDidMount();else{var r=t.elementType===t.type?n.memoizedProps:tl(t.type,n.memoizedProps);a.componentDidUpdate(r,n.memoizedState,a.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;null!==i&&Vs(t,i,a);break;case 3:var l=t.updateQueue;if(null!==l){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}Vs(t,l,n)}break;case 5:var o=t.stateNode;if(null===n&&4&t.flags){n=o;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var d=t.alternate;if(null!==d){var u=d.memoizedState;if(null!==u){var m=u.dehydrated;null!==m&&Bt(m)}}}break;default:throw Error(s(163))}Kl||512&t.flags&&ao(t)}catch(p){kc(t,t.return,p)}}if(t===e){Yl=null;break}if(null!==(n=t.sibling)){n.return=t.return,Yl=n;break}Yl=t.return}}function jo(e){for(;null!==Yl;){var t=Yl;if(t===e){Yl=null;break}var n=t.sibling;if(null!==n){n.return=t.return,Yl=n;break}Yl=t.return}}function No(e){for(;null!==Yl;){var t=Yl;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{no(4,t)}catch(o){kc(t,n,o)}break;case 1:var a=t.stateNode;if("function"===typeof a.componentDidMount){var r=t.return;try{a.componentDidMount()}catch(o){kc(t,r,o)}}var s=t.return;try{ao(t)}catch(o){kc(t,s,o)}break;case 5:var i=t.return;try{ao(t)}catch(o){kc(t,i,o)}}}catch(o){kc(t,t.return,o)}if(t===e){Yl=null;break}var l=t.sibling;if(null!==l){l.return=t.return,Yl=l;break}Yl=t.return}}var wo,ko=Math.ceil,So=y.ReactCurrentDispatcher,Co=y.ReactCurrentOwner,Eo=y.ReactCurrentBatchConfig,_o=0,Po=null,Ao=null,Io=0,Lo=0,To=kr(0),Oo=0,zo=null,Do=0,Ro=0,Fo=0,Uo=null,Mo=null,qo=0,Bo=1/0,Vo=null,Wo=!1,Ho=null,$o=null,Qo=!1,Jo=null,Ko=0,Go=0,Yo=null,Xo=-1,Zo=0;function ec(){return 0!==(6&_o)?Ye():-1!==Xo?Xo:Xo=Ye()}function tc(e){return 0===(1&e.mode)?1:0!==(2&_o)&&0!==Io?Io&-Io:null!==fs.transition?(0===Zo&&(Zo=ft()),Zo):0!==(e=vt)?e:e=void 0===(e=window.event)?16:Gt(e.type)}function nc(e,t,n,a){if(50<Go)throw Go=0,Yo=null,Error(s(185));gt(e,n,a),0!==(2&_o)&&e===Po||(e===Po&&(0===(2&_o)&&(Ro|=n),4===Oo&&lc(e,Io)),ac(e,a),1===n&&0===_o&&0===(1&t.mode)&&(Bo=Ye()+500,Ur&&Br()))}function ac(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,a=e.pingedLanes,r=e.expirationTimes,s=e.pendingLanes;0<s;){var i=31-it(s),l=1<<i,o=r[i];-1===o?0!==(l&n)&&0===(l&a)||(r[i]=pt(l,t)):o<=t&&(e.expiredLanes|=l),s&=~l}}(e,t);var a=mt(e,e===Po?Io:0);if(0===a)null!==n&&Je(n),e.callbackNode=null,e.callbackPriority=0;else if(t=a&-a,e.callbackPriority!==t){if(null!=n&&Je(n),1===t)0===e.tag?function(e){Ur=!0,qr(e)}(oc.bind(null,e)):qr(oc.bind(null,e)),ir(function(){0===(6&_o)&&Br()}),n=null;else{switch(yt(a)){case 1:n=Ze;break;case 4:n=et;break;case 16:default:n=tt;break;case 536870912:n=at}n=Pc(n,rc.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function rc(e,t){if(Xo=-1,Zo=0,0!==(6&_o))throw Error(s(327));var n=e.callbackNode;if(Nc()&&e.callbackNode!==n)return null;var a=mt(e,e===Po?Io:0);if(0===a)return null;if(0!==(30&a)||0!==(a&e.expiredLanes)||t)t=xc(e,a);else{t=a;var r=_o;_o|=2;var i=hc();for(Po===e&&Io===t||(Vo=null,Bo=Ye()+500,mc(e,t));;)try{bc();break}catch(o){pc(e,o)}Cs(),So.current=i,_o=r,null!==Ao?t=0:(Po=null,Io=0,t=Oo)}if(0!==t){if(2===t&&(0!==(r=ht(e))&&(a=r,t=sc(e,r))),1===t)throw n=zo,mc(e,0),lc(e,a),ac(e,Ye()),n;if(6===t)lc(e,a);else{if(r=e.current.alternate,0===(30&a)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var a=0;a<n.length;a++){var r=n[a],s=r.getSnapshot;r=r.value;try{if(!la(s(),r))return!1}catch(l){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(r)&&(2===(t=xc(e,a))&&(0!==(i=ht(e))&&(a=i,t=sc(e,i))),1===t))throw n=zo,mc(e,0),lc(e,a),ac(e,Ye()),n;switch(e.finishedWork=r,e.finishedLanes=a,t){case 0:case 1:throw Error(s(345));case 2:case 5:jc(e,Mo,Vo);break;case 3:if(lc(e,a),(130023424&a)===a&&10<(t=qo+500-Ye())){if(0!==mt(e,0))break;if(((r=e.suspendedLanes)&a)!==a){ec(),e.pingedLanes|=e.suspendedLanes&r;break}e.timeoutHandle=ar(jc.bind(null,e,Mo,Vo),t);break}jc(e,Mo,Vo);break;case 4:if(lc(e,a),(4194240&a)===a)break;for(t=e.eventTimes,r=-1;0<a;){var l=31-it(a);i=1<<l,(l=t[l])>r&&(r=l),a&=~i}if(a=r,10<(a=(120>(a=Ye()-a)?120:480>a?480:1080>a?1080:1920>a?1920:3e3>a?3e3:4320>a?4320:1960*ko(a/1960))-a)){e.timeoutHandle=ar(jc.bind(null,e,Mo,Vo),a);break}jc(e,Mo,Vo);break;default:throw Error(s(329))}}}return ac(e,Ye()),e.callbackNode===n?rc.bind(null,e):null}function sc(e,t){var n=Uo;return e.current.memoizedState.isDehydrated&&(mc(e,t).flags|=256),2!==(e=xc(e,t))&&(t=Mo,Mo=n,null!==t&&ic(t)),e}function ic(e){null===Mo?Mo=e:Mo.push.apply(Mo,e)}function lc(e,t){for(t&=~Fo,t&=~Ro,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-it(t),a=1<<n;e[n]=-1,t&=~a}}function oc(e){if(0!==(6&_o))throw Error(s(327));Nc();var t=mt(e,0);if(0===(1&t))return ac(e,Ye()),null;var n=xc(e,t);if(0!==e.tag&&2===n){var a=ht(e);0!==a&&(t=a,n=sc(e,a))}if(1===n)throw n=zo,mc(e,0),lc(e,t),ac(e,Ye()),n;if(6===n)throw Error(s(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,jc(e,Mo,Vo),ac(e,Ye()),null}function cc(e,t){var n=_o;_o|=1;try{return e(t)}finally{0===(_o=n)&&(Bo=Ye()+500,Ur&&Br())}}function dc(e){null!==Jo&&0===Jo.tag&&0===(6&_o)&&Nc();var t=_o;_o|=1;var n=Eo.transition,a=vt;try{if(Eo.transition=null,vt=1,e)return e()}finally{vt=a,Eo.transition=n,0===(6&(_o=t))&&Br()}}function uc(){Lo=To.current,Sr(To)}function mc(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,rr(n)),null!==Ao)for(n=Ao.return;null!==n;){var a=n;switch(ts(a),a.tag){case 1:null!==(a=a.type.childContextTypes)&&void 0!==a&&Tr();break;case 3:Gs(),Sr(Pr),Sr(_r),ni();break;case 5:Xs(a);break;case 4:Gs();break;case 13:case 19:Sr(Zs);break;case 10:Es(a.type._context);break;case 22:case 23:uc()}n=n.return}if(Po=e,Ao=e=Tc(e.current,null),Io=Lo=t,Oo=0,zo=null,Fo=Ro=Do=0,Mo=Uo=null,null!==Is){for(t=0;t<Is.length;t++)if(null!==(a=(n=Is[t]).interleaved)){n.interleaved=null;var r=a.next,s=n.pending;if(null!==s){var i=s.next;s.next=r,a.next=i}n.pending=a}Is=null}return e}function pc(e,t){for(;;){var n=Ao;try{if(Cs(),ai.current=Yi,ci){for(var a=ii.memoizedState;null!==a;){var r=a.queue;null!==r&&(r.pending=null),a=a.next}ci=!1}if(si=0,oi=li=ii=null,di=!1,ui=0,Co.current=null,null===n||null===n.return){Oo=1,zo=t,Ao=null;break}e:{var i=e,l=n.return,o=n,c=t;if(t=Io,o.flags|=32768,null!==c&&"object"===typeof c&&"function"===typeof c.then){var d=c,u=o,m=u.tag;if(0===(1&u.mode)&&(0===m||11===m||15===m)){var p=u.alternate;p?(u.updateQueue=p.updateQueue,u.memoizedState=p.memoizedState,u.lanes=p.lanes):(u.updateQueue=null,u.memoizedState=null)}var h=fl(l);if(null!==h){h.flags&=-257,xl(h,l,o,0,t),1&h.mode&&hl(i,d,t),c=d;var f=(t=h).updateQueue;if(null===f){var x=new Set;x.add(c),t.updateQueue=x}else f.add(c);break e}if(0===(1&t)){hl(i,d,t),fc();break e}c=Error(s(426))}else if(rs&&1&o.mode){var g=fl(l);if(null!==g){0===(65536&g.flags)&&(g.flags|=256),xl(g,l,o,0,t),hs(ol(c,o));break e}}i=c=ol(c,o),4!==Oo&&(Oo=2),null===Uo?Uo=[i]:Uo.push(i),i=l;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t,qs(i,ml(0,c,t));break e;case 1:o=c;var b=i.type,v=i.stateNode;if(0===(128&i.flags)&&("function"===typeof b.getDerivedStateFromError||null!==v&&"function"===typeof v.componentDidCatch&&(null===$o||!$o.has(v)))){i.flags|=65536,t&=-t,i.lanes|=t,qs(i,pl(i,o,t));break e}}i=i.return}while(null!==i)}yc(n)}catch(y){t=y,Ao===n&&null!==n&&(Ao=n=n.return);continue}break}}function hc(){var e=So.current;return So.current=Yi,null===e?Yi:e}function fc(){0!==Oo&&3!==Oo&&2!==Oo||(Oo=4),null===Po||0===(268435455&Do)&&0===(268435455&Ro)||lc(Po,Io)}function xc(e,t){var n=_o;_o|=2;var a=hc();for(Po===e&&Io===t||(Vo=null,mc(e,t));;)try{gc();break}catch(r){pc(e,r)}if(Cs(),_o=n,So.current=a,null!==Ao)throw Error(s(261));return Po=null,Io=0,Oo}function gc(){for(;null!==Ao;)vc(Ao)}function bc(){for(;null!==Ao&&!Ke();)vc(Ao)}function vc(e){var t=wo(e.alternate,e,Lo);e.memoizedProps=e.pendingProps,null===t?yc(e):Ao=t,Co.current=null}function yc(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=$l(n,t,Lo)))return void(Ao=n)}else{if(null!==(n=Ql(n,t)))return n.flags&=32767,void(Ao=n);if(null===e)return Oo=6,void(Ao=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(Ao=t);Ao=t=e}while(null!==t);0===Oo&&(Oo=5)}function jc(e,t,n){var a=vt,r=Eo.transition;try{Eo.transition=null,vt=1,function(e,t,n,a){do{Nc()}while(null!==Jo);if(0!==(6&_o))throw Error(s(327));n=e.finishedWork;var r=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(s(177));e.callbackNode=null,e.callbackPriority=0;var i=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var a=e.eventTimes;for(e=e.expirationTimes;0<n;){var r=31-it(n),s=1<<r;t[r]=0,a[r]=-1,e[r]=-1,n&=~s}}(e,i),e===Po&&(Ao=Po=null,Io=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||Qo||(Qo=!0,Pc(tt,function(){return Nc(),null})),i=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||i){i=Eo.transition,Eo.transition=null;var l=vt;vt=1;var o=_o;_o|=4,Co.current=null,function(e,t){if(er=Wt,pa(e=ma())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var a=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(a&&0!==a.rangeCount){n=a.anchorNode;var r=a.anchorOffset,i=a.focusNode;a=a.focusOffset;try{n.nodeType,i.nodeType}catch(j){n=null;break e}var l=0,o=-1,c=-1,d=0,u=0,m=e,p=null;t:for(;;){for(var h;m!==n||0!==r&&3!==m.nodeType||(o=l+r),m!==i||0!==a&&3!==m.nodeType||(c=l+a),3===m.nodeType&&(l+=m.nodeValue.length),null!==(h=m.firstChild);)p=m,m=h;for(;;){if(m===e)break t;if(p===n&&++d===r&&(o=l),p===i&&++u===a&&(c=l),null!==(h=m.nextSibling))break;p=(m=p).parentNode}m=h}n=-1===o||-1===c?null:{start:o,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(tr={focusedElem:e,selectionRange:n},Wt=!1,Yl=t;null!==Yl;)if(e=(t=Yl).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,Yl=e;else for(;null!==Yl;){t=Yl;try{var f=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==f){var x=f.memoizedProps,g=f.memoizedState,b=t.stateNode,v=b.getSnapshotBeforeUpdate(t.elementType===t.type?x:tl(t.type,x),g);b.__reactInternalSnapshotBeforeUpdate=v}break;case 3:var y=t.stateNode.containerInfo;1===y.nodeType?y.textContent="":9===y.nodeType&&y.documentElement&&y.removeChild(y.documentElement);break;default:throw Error(s(163))}}catch(j){kc(t,t.return,j)}if(null!==(e=t.sibling)){e.return=t.return,Yl=e;break}Yl=t.return}f=eo,eo=!1}(e,n),xo(n,e),ha(tr),Wt=!!er,tr=er=null,e.current=n,bo(n,e,r),Ge(),_o=o,vt=l,Eo.transition=i}else e.current=n;if(Qo&&(Qo=!1,Jo=e,Ko=r),i=e.pendingLanes,0===i&&($o=null),function(e){if(st&&"function"===typeof st.onCommitFiberRoot)try{st.onCommitFiberRoot(rt,e,void 0,128===(128&e.current.flags))}catch(t){}}(n.stateNode),ac(e,Ye()),null!==t)for(a=e.onRecoverableError,n=0;n<t.length;n++)r=t[n],a(r.value,{componentStack:r.stack,digest:r.digest});if(Wo)throw Wo=!1,e=Ho,Ho=null,e;0!==(1&Ko)&&0!==e.tag&&Nc(),i=e.pendingLanes,0!==(1&i)?e===Yo?Go++:(Go=0,Yo=e):Go=0,Br()}(e,t,n,a)}finally{Eo.transition=r,vt=a}return null}function Nc(){if(null!==Jo){var e=yt(Ko),t=Eo.transition,n=vt;try{if(Eo.transition=null,vt=16>e?16:e,null===Jo)var a=!1;else{if(e=Jo,Jo=null,Ko=0,0!==(6&_o))throw Error(s(331));var r=_o;for(_o|=4,Yl=e.current;null!==Yl;){var i=Yl,l=i.child;if(0!==(16&Yl.flags)){var o=i.deletions;if(null!==o){for(var c=0;c<o.length;c++){var d=o[c];for(Yl=d;null!==Yl;){var u=Yl;switch(u.tag){case 0:case 11:case 15:to(8,u,i)}var m=u.child;if(null!==m)m.return=u,Yl=m;else for(;null!==Yl;){var p=(u=Yl).sibling,h=u.return;if(ro(u),u===d){Yl=null;break}if(null!==p){p.return=h,Yl=p;break}Yl=h}}}var f=i.alternate;if(null!==f){var x=f.child;if(null!==x){f.child=null;do{var g=x.sibling;x.sibling=null,x=g}while(null!==x)}}Yl=i}}if(0!==(2064&i.subtreeFlags)&&null!==l)l.return=i,Yl=l;else e:for(;null!==Yl;){if(0!==(2048&(i=Yl).flags))switch(i.tag){case 0:case 11:case 15:to(9,i,i.return)}var b=i.sibling;if(null!==b){b.return=i.return,Yl=b;break e}Yl=i.return}}var v=e.current;for(Yl=v;null!==Yl;){var y=(l=Yl).child;if(0!==(2064&l.subtreeFlags)&&null!==y)y.return=l,Yl=y;else e:for(l=v;null!==Yl;){if(0!==(2048&(o=Yl).flags))try{switch(o.tag){case 0:case 11:case 15:no(9,o)}}catch(N){kc(o,o.return,N)}if(o===l){Yl=null;break e}var j=o.sibling;if(null!==j){j.return=o.return,Yl=j;break e}Yl=o.return}}if(_o=r,Br(),st&&"function"===typeof st.onPostCommitFiberRoot)try{st.onPostCommitFiberRoot(rt,e)}catch(N){}a=!0}return a}finally{vt=n,Eo.transition=t}}return!1}function wc(e,t,n){e=Us(e,t=ml(0,t=ol(n,t),1),1),t=ec(),null!==e&&(gt(e,1,t),ac(e,t))}function kc(e,t,n){if(3===e.tag)wc(e,e,n);else for(;null!==t;){if(3===t.tag){wc(t,e,n);break}if(1===t.tag){var a=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof a.componentDidCatch&&(null===$o||!$o.has(a))){t=Us(t,e=pl(t,e=ol(n,e),1),1),e=ec(),null!==t&&(gt(t,1,e),ac(t,e));break}}t=t.return}}function Sc(e,t,n){var a=e.pingCache;null!==a&&a.delete(t),t=ec(),e.pingedLanes|=e.suspendedLanes&n,Po===e&&(Io&n)===n&&(4===Oo||3===Oo&&(130023424&Io)===Io&&500>Ye()-qo?mc(e,0):Fo|=n),ac(e,t)}function Cc(e,t){0===t&&(0===(1&e.mode)?t=1:(t=dt,0===(130023424&(dt<<=1))&&(dt=4194304)));var n=ec();null!==(e=Os(e,t))&&(gt(e,t,n),ac(e,n))}function Ec(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),Cc(e,n)}function _c(e,t){var n=0;switch(e.tag){case 13:var a=e.stateNode,r=e.memoizedState;null!==r&&(n=r.retryLane);break;case 19:a=e.stateNode;break;default:throw Error(s(314))}null!==a&&a.delete(t),Cc(e,n)}function Pc(e,t){return Qe(e,t)}function Ac(e,t,n,a){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=a,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ic(e,t,n,a){return new Ac(e,t,n,a)}function Lc(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Tc(e,t){var n=e.alternate;return null===n?((n=Ic(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Oc(e,t,n,a,r,i){var l=2;if(a=e,"function"===typeof e)Lc(e)&&(l=1);else if("string"===typeof e)l=5;else e:switch(e){case w:return zc(n.children,r,i,t);case k:l=8,r|=8;break;case S:return(e=Ic(12,n,t,2|r)).elementType=S,e.lanes=i,e;case P:return(e=Ic(13,n,t,r)).elementType=P,e.lanes=i,e;case A:return(e=Ic(19,n,t,r)).elementType=A,e.lanes=i,e;case T:return Dc(n,r,i,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case C:l=10;break e;case E:l=9;break e;case _:l=11;break e;case I:l=14;break e;case L:l=16,a=null;break e}throw Error(s(130,null==e?e:typeof e,""))}return(t=Ic(l,n,t,r)).elementType=e,t.type=a,t.lanes=i,t}function zc(e,t,n,a){return(e=Ic(7,e,a,t)).lanes=n,e}function Dc(e,t,n,a){return(e=Ic(22,e,a,t)).elementType=T,e.lanes=n,e.stateNode={isHidden:!1},e}function Rc(e,t,n){return(e=Ic(6,e,null,t)).lanes=n,e}function Fc(e,t,n){return(t=Ic(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Uc(e,t,n,a,r){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=xt(0),this.expirationTimes=xt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=xt(0),this.identifierPrefix=a,this.onRecoverableError=r,this.mutableSourceEagerHydrationData=null}function Mc(e,t,n,a,r,s,i,l,o){return e=new Uc(e,t,n,l,o),1===t?(t=1,!0===s&&(t|=8)):t=0,s=Ic(3,null,null,t),e.current=s,s.stateNode=e,s.memoizedState={element:a,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ds(s),e}function qc(e){if(!e)return Er;e:{if(Be(e=e._reactInternals)!==e||1!==e.tag)throw Error(s(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Lr(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(s(171))}if(1===e.tag){var n=e.type;if(Lr(n))return zr(e,n,t)}return t}function Bc(e,t,n,a,r,s,i,l,o){return(e=Mc(n,a,!0,e,0,s,0,l,o)).context=qc(null),n=e.current,(s=Fs(a=ec(),r=tc(n))).callback=void 0!==t&&null!==t?t:null,Us(n,s,r),e.current.lanes=r,gt(e,r,a),ac(e,a),e}function Vc(e,t,n,a){var r=t.current,s=ec(),i=tc(r);return n=qc(n),null===t.context?t.context=n:t.pendingContext=n,(t=Fs(s,i)).payload={element:e},null!==(a=void 0===a?null:a)&&(t.callback=a),null!==(e=Us(r,t,i))&&(nc(e,r,i,s),Ms(e,r,i)),i}function Wc(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Hc(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function $c(e,t){Hc(e,t),(e=e.alternate)&&Hc(e,t)}wo=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||Pr.current)bl=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return bl=!1,function(e,t,n){switch(t.tag){case 3:_l(t),ps();break;case 5:Ys(t);break;case 1:Lr(t.type)&&Dr(t);break;case 4:Ks(t,t.stateNode.containerInfo);break;case 10:var a=t.type._context,r=t.memoizedProps.value;Cr(Ns,a._currentValue),a._currentValue=r;break;case 13:if(null!==(a=t.memoizedState))return null!==a.dehydrated?(Cr(Zs,1&Zs.current),t.flags|=128,null):0!==(n&t.child.childLanes)?Dl(e,t,n):(Cr(Zs,1&Zs.current),null!==(e=Vl(e,t,n))?e.sibling:null);Cr(Zs,1&Zs.current);break;case 19:if(a=0!==(n&t.childLanes),0!==(128&e.flags)){if(a)return ql(e,t,n);t.flags|=128}if(null!==(r=t.memoizedState)&&(r.rendering=null,r.tail=null,r.lastEffect=null),Cr(Zs,Zs.current),a)break;return null;case 22:case 23:return t.lanes=0,wl(e,t,n)}return Vl(e,t,n)}(e,t,n);bl=0!==(131072&e.flags)}else bl=!1,rs&&0!==(1048576&t.flags)&&Zr(t,$r,t.index);switch(t.lanes=0,t.tag){case 2:var a=t.type;Bl(e,t),e=t.pendingProps;var r=Ir(t,_r.current);Ps(t,n),r=fi(null,t,a,e,r,n);var i=xi();return t.flags|=1,"object"===typeof r&&null!==r&&"function"===typeof r.render&&void 0===r.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Lr(a)?(i=!0,Dr(t)):i=!1,t.memoizedState=null!==r.state&&void 0!==r.state?r.state:null,Ds(t),r.updater=al,t.stateNode=r,r._reactInternals=t,ll(t,a,e,n),t=El(null,t,a,!0,i,n)):(t.tag=0,rs&&i&&es(t),vl(null,t,r,n),t=t.child),t;case 16:a=t.elementType;e:{switch(Bl(e,t),e=t.pendingProps,a=(r=a._init)(a._payload),t.type=a,r=t.tag=function(e){if("function"===typeof e)return Lc(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===_)return 11;if(e===I)return 14}return 2}(a),e=tl(a,e),r){case 0:t=Sl(null,t,a,e,n);break e;case 1:t=Cl(null,t,a,e,n);break e;case 11:t=yl(null,t,a,e,n);break e;case 14:t=jl(null,t,a,tl(a.type,e),n);break e}throw Error(s(306,a,""))}return t;case 0:return a=t.type,r=t.pendingProps,Sl(e,t,a,r=t.elementType===a?r:tl(a,r),n);case 1:return a=t.type,r=t.pendingProps,Cl(e,t,a,r=t.elementType===a?r:tl(a,r),n);case 3:e:{if(_l(t),null===e)throw Error(s(387));a=t.pendingProps,r=(i=t.memoizedState).element,Rs(e,t),Bs(t,a,null,n);var l=t.memoizedState;if(a=l.element,i.isDehydrated){if(i={element:a,isDehydrated:!1,cache:l.cache,pendingSuspenseBoundaries:l.pendingSuspenseBoundaries,transitions:l.transitions},t.updateQueue.baseState=i,t.memoizedState=i,256&t.flags){t=Pl(e,t,a,n,r=ol(Error(s(423)),t));break e}if(a!==r){t=Pl(e,t,a,n,r=ol(Error(s(424)),t));break e}for(as=cr(t.stateNode.containerInfo.firstChild),ns=t,rs=!0,ss=null,n=js(t,null,a,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(ps(),a===r){t=Vl(e,t,n);break e}vl(e,t,a,n)}t=t.child}return t;case 5:return Ys(t),null===e&&cs(t),a=t.type,r=t.pendingProps,i=null!==e?e.memoizedProps:null,l=r.children,nr(a,r)?l=null:null!==i&&nr(a,i)&&(t.flags|=32),kl(e,t),vl(e,t,l,n),t.child;case 6:return null===e&&cs(t),null;case 13:return Dl(e,t,n);case 4:return Ks(t,t.stateNode.containerInfo),a=t.pendingProps,null===e?t.child=ys(t,null,a,n):vl(e,t,a,n),t.child;case 11:return a=t.type,r=t.pendingProps,yl(e,t,a,r=t.elementType===a?r:tl(a,r),n);case 7:return vl(e,t,t.pendingProps,n),t.child;case 8:case 12:return vl(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(a=t.type._context,r=t.pendingProps,i=t.memoizedProps,l=r.value,Cr(Ns,a._currentValue),a._currentValue=l,null!==i)if(la(i.value,l)){if(i.children===r.children&&!Pr.current){t=Vl(e,t,n);break e}}else for(null!==(i=t.child)&&(i.return=t);null!==i;){var o=i.dependencies;if(null!==o){l=i.child;for(var c=o.firstContext;null!==c;){if(c.context===a){if(1===i.tag){(c=Fs(-1,n&-n)).tag=2;var d=i.updateQueue;if(null!==d){var u=(d=d.shared).pending;null===u?c.next=c:(c.next=u.next,u.next=c),d.pending=c}}i.lanes|=n,null!==(c=i.alternate)&&(c.lanes|=n),_s(i.return,n,t),o.lanes|=n;break}c=c.next}}else if(10===i.tag)l=i.type===t.type?null:i.child;else if(18===i.tag){if(null===(l=i.return))throw Error(s(341));l.lanes|=n,null!==(o=l.alternate)&&(o.lanes|=n),_s(l,n,t),l=i.sibling}else l=i.child;if(null!==l)l.return=i;else for(l=i;null!==l;){if(l===t){l=null;break}if(null!==(i=l.sibling)){i.return=l.return,l=i;break}l=l.return}i=l}vl(e,t,r.children,n),t=t.child}return t;case 9:return r=t.type,a=t.pendingProps.children,Ps(t,n),a=a(r=As(r)),t.flags|=1,vl(e,t,a,n),t.child;case 14:return r=tl(a=t.type,t.pendingProps),jl(e,t,a,r=tl(a.type,r),n);case 15:return Nl(e,t,t.type,t.pendingProps,n);case 17:return a=t.type,r=t.pendingProps,r=t.elementType===a?r:tl(a,r),Bl(e,t),t.tag=1,Lr(a)?(e=!0,Dr(t)):e=!1,Ps(t,n),sl(t,a,r),ll(t,a,r,n),El(null,t,a,!0,e,n);case 19:return ql(e,t,n);case 22:return wl(e,t,n)}throw Error(s(156,t.tag))};var Qc="function"===typeof reportError?reportError:function(e){console.error(e)};function Jc(e){this._internalRoot=e}function Kc(e){this._internalRoot=e}function Gc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function Yc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Xc(){}function Zc(e,t,n,a,r){var s=n._reactRootContainer;if(s){var i=s;if("function"===typeof r){var l=r;r=function(){var e=Wc(i);l.call(e)}}Vc(t,i,e,r)}else i=function(e,t,n,a,r){if(r){if("function"===typeof a){var s=a;a=function(){var e=Wc(i);s.call(e)}}var i=Bc(t,a,e,0,null,!1,0,"",Xc);return e._reactRootContainer=i,e[hr]=i.current,Ba(8===e.nodeType?e.parentNode:e),dc(),i}for(;r=e.lastChild;)e.removeChild(r);if("function"===typeof a){var l=a;a=function(){var e=Wc(o);l.call(e)}}var o=Mc(e,0,!1,null,0,!1,0,"",Xc);return e._reactRootContainer=o,e[hr]=o.current,Ba(8===e.nodeType?e.parentNode:e),dc(function(){Vc(t,o,n,a)}),o}(n,t,e,r,a);return Wc(i)}Kc.prototype.render=Jc.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(s(409));Vc(e,t,null,null)},Kc.prototype.unmount=Jc.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;dc(function(){Vc(null,e,null,null)}),t[hr]=null}},Kc.prototype.unstable_scheduleHydration=function(e){if(e){var t=kt();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Tt.length&&0!==t&&t<Tt[n].priority;n++);Tt.splice(n,0,e),0===n&&Rt(e)}},jt=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=ut(t.pendingLanes);0!==n&&(bt(t,1|n),ac(t,Ye()),0===(6&_o)&&(Bo=Ye()+500,Br()))}break;case 13:dc(function(){var t=Os(e,1);if(null!==t){var n=ec();nc(t,e,1,n)}}),$c(e,1)}},Nt=function(e){if(13===e.tag){var t=Os(e,134217728);if(null!==t)nc(t,e,134217728,ec());$c(e,134217728)}},wt=function(e){if(13===e.tag){var t=tc(e),n=Os(e,t);if(null!==n)nc(n,e,t,ec());$c(e,t)}},kt=function(){return vt},St=function(e,t){var n=vt;try{return vt=e,t()}finally{vt=n}},Ne=function(e,t,n){switch(t){case"input":if(X(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var a=n[t];if(a!==e&&a.form===e.form){var r=jr(a);if(!r)throw Error(s(90));Q(a),X(a,r)}}}break;case"textarea":se(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},_e=cc,Pe=dc;var ed={usingClientEntryPoint:!1,Events:[vr,yr,jr,Ce,Ee,cc]},td={findFiberByHostInstance:br,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},nd={bundleType:td.bundleType,version:td.version,rendererPackageName:td.rendererPackageName,rendererConfig:td.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:y.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=He(e))?null:e.stateNode},findFiberByHostInstance:td.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var ad=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ad.isDisabled&&ad.supportsFiber)try{rt=ad.inject(nd),st=ad}catch(de){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ed,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Gc(t))throw Error(s(200));return function(e,t,n){var a=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:N,key:null==a?null:""+a,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.createRoot=function(e,t){if(!Gc(e))throw Error(s(299));var n=!1,a="",r=Qc;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(a=t.identifierPrefix),void 0!==t.onRecoverableError&&(r=t.onRecoverableError)),t=Mc(e,1,!1,null,0,n,0,a,r),e[hr]=t.current,Ba(8===e.nodeType?e.parentNode:e),new Jc(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(s(188));throw e=Object.keys(e).join(","),Error(s(268,e))}return e=null===(e=He(t))?null:e.stateNode},t.flushSync=function(e){return dc(e)},t.hydrate=function(e,t,n){if(!Yc(t))throw Error(s(200));return Zc(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!Gc(e))throw Error(s(405));var a=null!=n&&n.hydratedSources||null,r=!1,i="",l=Qc;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(r=!0),void 0!==n.identifierPrefix&&(i=n.identifierPrefix),void 0!==n.onRecoverableError&&(l=n.onRecoverableError)),t=Bc(t,null,e,1,null!=n?n:null,r,0,i,l),e[hr]=t.current,Ba(e),a)for(e=0;e<a.length;e++)r=(r=(n=a[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,r]:t.mutableSourceEagerHydrationData.push(n,r);return new Kc(t)},t.render=function(e,t,n){if(!Yc(t))throw Error(s(200));return Zc(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!Yc(e))throw Error(s(40));return!!e._reactRootContainer&&(dc(function(){Zc(null,null,e,!1,function(){e._reactRootContainer=null,e[hr]=null})}),!0)},t.unstable_batchedUpdates=cc,t.unstable_renderSubtreeIntoContainer=function(e,t,n,a){if(!Yc(n))throw Error(s(200));if(null==e||void 0===e._reactInternals)throw Error(s(38));return Zc(e,t,n,!1,a)},t.version="18.3.1-next-f1338f8080-20240426"},766:function(e,t){var n,a,r;a=[],n=function e(){var t,n="undefined"!=typeof self?self:"undefined"!=typeof window?window:void 0!==n?n:{},a=!n.document&&!!n.postMessage,r=n.IS_PAPA_WORKER||!1,s={},i=0,l={};function o(e){this._handle=null,this._finished=!1,this._completed=!1,this._halted=!1,this._input=null,this._baseIndex=0,this._partialLine="",this._rowCount=0,this._start=0,this._nextChunk=null,this.isFirstChunk=!0,this._completeResults={data:[],errors:[],meta:{}},function(e){var t=v(e);t.chunkSize=parseInt(t.chunkSize),e.step||e.chunk||(t.chunkSize=null),this._handle=new p(t),(this._handle.streamer=this)._config=t}.call(this,e),this.parseChunk=function(e,t){var a=parseInt(this._config.skipFirstNLines)||0;if(this.isFirstChunk&&0<a){let t=this._config.newline;t||(s=this._config.quoteChar||'"',t=this._handle.guessLineEndings(e,s)),e=[...e.split(t).slice(a)].join(t)}this.isFirstChunk&&j(this._config.beforeFirstChunk)&&void 0!==(s=this._config.beforeFirstChunk(e))&&(e=s),this.isFirstChunk=!1,this._halted=!1,a=this._partialLine+e;var s=(this._partialLine="",this._handle.parse(a,this._baseIndex,!this._finished));if(!this._handle.paused()&&!this._handle.aborted()){if(e=s.meta.cursor,this._finished||(this._partialLine=a.substring(e-this._baseIndex),this._baseIndex=e),s&&s.data&&(this._rowCount+=s.data.length),a=this._finished||this._config.preview&&this._rowCount>=this._config.preview,r)n.postMessage({results:s,workerId:l.WORKER_ID,finished:a});else if(j(this._config.chunk)&&!t){if(this._config.chunk(s,this._handle),this._handle.paused()||this._handle.aborted())return void(this._halted=!0);this._completeResults=s=void 0}return this._config.step||this._config.chunk||(this._completeResults.data=this._completeResults.data.concat(s.data),this._completeResults.errors=this._completeResults.errors.concat(s.errors),this._completeResults.meta=s.meta),this._completed||!a||!j(this._config.complete)||s&&s.meta.aborted||(this._config.complete(this._completeResults,this._input),this._completed=!0),a||s&&s.meta.paused||this._nextChunk(),s}this._halted=!0},this._sendError=function(e){j(this._config.error)?this._config.error(e):r&&this._config.error&&n.postMessage({workerId:l.WORKER_ID,error:e,finished:!1})}}function c(e){var t;(e=e||{}).chunkSize||(e.chunkSize=l.RemoteChunkSize),o.call(this,e),this._nextChunk=a?function(){this._readChunk(),this._chunkLoaded()}:function(){this._readChunk()},this.stream=function(e){this._input=e,this._nextChunk()},this._readChunk=function(){if(this._finished)this._chunkLoaded();else{if(t=new XMLHttpRequest,this._config.withCredentials&&(t.withCredentials=this._config.withCredentials),a||(t.onload=y(this._chunkLoaded,this),t.onerror=y(this._chunkError,this)),t.open(this._config.downloadRequestBody?"POST":"GET",this._input,!a),this._config.downloadRequestHeaders){var e,n=this._config.downloadRequestHeaders;for(e in n)t.setRequestHeader(e,n[e])}var r;this._config.chunkSize&&(r=this._start+this._config.chunkSize-1,t.setRequestHeader("Range","bytes="+this._start+"-"+r));try{t.send(this._config.downloadRequestBody)}catch(e){this._chunkError(e.message)}a&&0===t.status&&this._chunkError()}},this._chunkLoaded=function(){4===t.readyState&&(t.status<200||400<=t.status?this._chunkError():(this._start+=this._config.chunkSize||t.responseText.length,this._finished=!this._config.chunkSize||this._start>=(e=>null!==(e=e.getResponseHeader("Content-Range"))?parseInt(e.substring(e.lastIndexOf("/")+1)):-1)(t),this.parseChunk(t.responseText)))},this._chunkError=function(e){e=t.statusText||e,this._sendError(new Error(e))}}function d(e){(e=e||{}).chunkSize||(e.chunkSize=l.LocalChunkSize),o.call(this,e);var t,n,a="undefined"!=typeof FileReader;this.stream=function(e){this._input=e,n=e.slice||e.webkitSlice||e.mozSlice,a?((t=new FileReader).onload=y(this._chunkLoaded,this),t.onerror=y(this._chunkError,this)):t=new FileReaderSync,this._nextChunk()},this._nextChunk=function(){this._finished||this._config.preview&&!(this._rowCount<this._config.preview)||this._readChunk()},this._readChunk=function(){var e=this._input,r=(this._config.chunkSize&&(r=Math.min(this._start+this._config.chunkSize,this._input.size),e=n.call(e,this._start,r)),t.readAsText(e,this._config.encoding));a||this._chunkLoaded({target:{result:r}})},this._chunkLoaded=function(e){this._start+=this._config.chunkSize,this._finished=!this._config.chunkSize||this._start>=this._input.size,this.parseChunk(e.target.result)},this._chunkError=function(){this._sendError(t.error)}}function u(e){var t;o.call(this,e=e||{}),this.stream=function(e){return t=e,this._nextChunk()},this._nextChunk=function(){var e,n;if(!this._finished)return e=this._config.chunkSize,t=e?(n=t.substring(0,e),t.substring(e)):(n=t,""),this._finished=!t,this.parseChunk(n)}}function m(e){o.call(this,e=e||{});var t=[],n=!0,a=!1;this.pause=function(){o.prototype.pause.apply(this,arguments),this._input.pause()},this.resume=function(){o.prototype.resume.apply(this,arguments),this._input.resume()},this.stream=function(e){this._input=e,this._input.on("data",this._streamData),this._input.on("end",this._streamEnd),this._input.on("error",this._streamError)},this._checkIsFinished=function(){a&&1===t.length&&(this._finished=!0)},this._nextChunk=function(){this._checkIsFinished(),t.length?this.parseChunk(t.shift()):n=!0},this._streamData=y(function(e){try{t.push("string"==typeof e?e:e.toString(this._config.encoding)),n&&(n=!1,this._checkIsFinished(),this.parseChunk(t.shift()))}catch(e){this._streamError(e)}},this),this._streamError=y(function(e){this._streamCleanUp(),this._sendError(e)},this),this._streamEnd=y(function(){this._streamCleanUp(),a=!0,this._streamData("")},this),this._streamCleanUp=y(function(){this._input.removeListener("data",this._streamData),this._input.removeListener("end",this._streamEnd),this._input.removeListener("error",this._streamError)},this)}function p(e){var t,n,a,r,s=Math.pow(2,53),i=-s,o=/^\s*-?(\d+\.?|\.\d+|\d+\.\d+)([eE][-+]?\d+)?\s*$/,c=/^((\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z)))$/,d=this,u=0,m=0,p=!1,x=!1,g=[],b={data:[],errors:[],meta:{}};function y(t){return"greedy"===e.skipEmptyLines?""===t.join("").trim():1===t.length&&0===t[0].length}function N(){if(b&&a&&(k("Delimiter","UndetectableDelimiter","Unable to auto-detect delimiting character; defaulted to '"+l.DefaultDelimiter+"'"),a=!1),e.skipEmptyLines&&(b.data=b.data.filter(function(e){return!y(e)})),w()){if(b)if(Array.isArray(b.data[0])){for(var t=0;w()&&t<b.data.length;t++)b.data[t].forEach(n);b.data.splice(0,1)}else b.data.forEach(n);function n(t,n){j(e.transformHeader)&&(t=e.transformHeader(t,n)),g.push(t)}}function r(t,n){for(var a=e.header?{}:[],r=0;r<t.length;r++){var l=r,d=t[r];d=((t,n)=>(t=>(e.dynamicTypingFunction&&void 0===e.dynamicTyping[t]&&(e.dynamicTyping[t]=e.dynamicTypingFunction(t)),!0===(e.dynamicTyping[t]||e.dynamicTyping)))(t)?"true"===n||"TRUE"===n||"false"!==n&&"FALSE"!==n&&((e=>{if(o.test(e)&&(e=parseFloat(e),i<e&&e<s))return 1})(n)?parseFloat(n):c.test(n)?new Date(n):""===n?null:n):n)(l=e.header?r>=g.length?"__parsed_extra":g[r]:l,d=e.transform?e.transform(d,l):d),"__parsed_extra"===l?(a[l]=a[l]||[],a[l].push(d)):a[l]=d}return e.header&&(r>g.length?k("FieldMismatch","TooManyFields","Too many fields: expected "+g.length+" fields but parsed "+r,m+n):r<g.length&&k("FieldMismatch","TooFewFields","Too few fields: expected "+g.length+" fields but parsed "+r,m+n)),a}var d;b&&(e.header||e.dynamicTyping||e.transform)&&(d=1,!b.data.length||Array.isArray(b.data[0])?(b.data=b.data.map(r),d=b.data.length):b.data=r(b.data,0),e.header&&b.meta&&(b.meta.fields=g),m+=d)}function w(){return e.header&&0===g.length}function k(e,t,n,a){e={type:e,code:t,message:n},void 0!==a&&(e.row=a),b.errors.push(e)}j(e.step)&&(r=e.step,e.step=function(t){b=t,w()?N():(N(),0!==b.data.length&&(u+=t.data.length,e.preview&&u>e.preview?n.abort():(b.data=b.data[0],r(b,d))))}),this.parse=function(r,s,i){var o=e.quoteChar||'"';return e.newline||(e.newline=this.guessLineEndings(r,o)),a=!1,e.delimiter?j(e.delimiter)&&(e.delimiter=e.delimiter(r),b.meta.delimiter=e.delimiter):((o=((t,n,a,r,s)=>{var i,o,c,d;s=s||[",","\t","|",";",l.RECORD_SEP,l.UNIT_SEP];for(var u=0;u<s.length;u++){for(var m,p=s[u],h=0,x=0,g=0,b=(c=void 0,new f({comments:r,delimiter:p,newline:n,preview:10}).parse(t)),v=0;v<b.data.length;v++)a&&y(b.data[v])?g++:(x+=m=b.data[v].length,void 0===c?c=m:0<m&&(h+=Math.abs(m-c),c=m));0<b.data.length&&(x/=b.data.length-g),(void 0===o||h<=o)&&(void 0===d||d<x)&&1.99<x&&(o=h,i=p,d=x)}return{successful:!!(e.delimiter=i),bestDelimiter:i}})(r,e.newline,e.skipEmptyLines,e.comments,e.delimitersToGuess)).successful?e.delimiter=o.bestDelimiter:(a=!0,e.delimiter=l.DefaultDelimiter),b.meta.delimiter=e.delimiter),o=v(e),e.preview&&e.header&&o.preview++,t=r,n=new f(o),b=n.parse(t,s,i),N(),p?{meta:{paused:!0}}:b||{meta:{paused:!1}}},this.paused=function(){return p},this.pause=function(){p=!0,n.abort(),t=j(e.chunk)?"":t.substring(n.getCharIndex())},this.resume=function(){d.streamer._halted?(p=!1,d.streamer.parseChunk(t,!0)):setTimeout(d.resume,3)},this.aborted=function(){return x},this.abort=function(){x=!0,n.abort(),b.meta.aborted=!0,j(e.complete)&&e.complete(b),t=""},this.guessLineEndings=function(e,t){e=e.substring(0,1048576),t=new RegExp(h(t)+"([^]*?)"+h(t),"gm");var n=(e=e.replace(t,"")).split("\r");if(e=1<(t=e.split("\n")).length&&t[0].length<n[0].length,1===n.length||e)return"\n";for(var a=0,r=0;r<n.length;r++)"\n"===n[r][0]&&a++;return a>=n.length/2?"\r\n":"\r"}}function h(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function f(e){var t=(e=e||{}).delimiter,n=e.newline,a=e.comments,r=e.step,s=e.preview,i=e.fastMode,o=null,c=!1,d=null==e.quoteChar?'"':e.quoteChar,u=d;if(void 0!==e.escapeChar&&(u=e.escapeChar),("string"!=typeof t||-1<l.BAD_DELIMITERS.indexOf(t))&&(t=","),a===t)throw new Error("Comment character same as delimiter");!0===a?a="#":("string"!=typeof a||-1<l.BAD_DELIMITERS.indexOf(a))&&(a=!1),"\n"!==n&&"\r"!==n&&"\r\n"!==n&&(n="\n");var m=0,p=!1;this.parse=function(l,f,x){if("string"!=typeof l)throw new Error("Input must be a string");var g=l.length,b=t.length,v=n.length,y=a.length,N=j(r),w=[],k=[],S=[],C=m=0;if(!l)return F();if(i||!1!==i&&-1===l.indexOf(d)){for(var E=l.split(n),_=0;_<E.length;_++){if(S=E[_],m+=S.length,_!==E.length-1)m+=n.length;else if(x)return F();if(!a||S.substring(0,y)!==a){if(N){if(w=[],O(S.split(t)),U(),p)return F()}else O(S.split(t));if(s&&s<=_)return w=w.slice(0,s),F(!0)}}return F()}for(var P=l.indexOf(t,m),A=l.indexOf(n,m),I=new RegExp(h(u)+h(d),"g"),L=l.indexOf(d,m);;)if(l[m]===d)for(L=m,m++;;){if(-1===(L=l.indexOf(d,L+1)))return x||k.push({type:"Quotes",code:"MissingQuotes",message:"Quoted field unterminated",row:w.length,index:m}),D();if(L===g-1)return D(l.substring(m,L).replace(I,d));if(d===u&&l[L+1]===u)L++;else if(d===u||0===L||l[L-1]!==u){-1!==P&&P<L+1&&(P=l.indexOf(t,L+1));var T=z(-1===(A=-1!==A&&A<L+1?l.indexOf(n,L+1):A)?P:Math.min(P,A));if(l.substr(L+1+T,b)===t){S.push(l.substring(m,L).replace(I,d)),l[m=L+1+T+b]!==d&&(L=l.indexOf(d,m)),P=l.indexOf(t,m),A=l.indexOf(n,m);break}if(T=z(A),l.substring(L+1+T,L+1+T+v)===n){if(S.push(l.substring(m,L).replace(I,d)),R(L+1+T+v),P=l.indexOf(t,m),L=l.indexOf(d,m),N&&(U(),p))return F();if(s&&w.length>=s)return F(!0);break}k.push({type:"Quotes",code:"InvalidQuotes",message:"Trailing quote on quoted field is malformed",row:w.length,index:m}),L++}}else if(a&&0===S.length&&l.substring(m,m+y)===a){if(-1===A)return F();m=A+v,A=l.indexOf(n,m),P=l.indexOf(t,m)}else if(-1!==P&&(P<A||-1===A))S.push(l.substring(m,P)),m=P+b,P=l.indexOf(t,m);else{if(-1===A)break;if(S.push(l.substring(m,A)),R(A+v),N&&(U(),p))return F();if(s&&w.length>=s)return F(!0)}return D();function O(e){w.push(e),C=m}function z(e){var t=0;return-1!==e&&(e=l.substring(L+1,e))&&""===e.trim()?e.length:t}function D(e){return x||(void 0===e&&(e=l.substring(m)),S.push(e),m=g,O(S),N&&U()),F()}function R(e){m=e,O(S),S=[],A=l.indexOf(n,m)}function F(a){if(e.header&&!f&&w.length&&!c){var r=w[0],s=Object.create(null),i=new Set(r);let t=!1;for(let n=0;n<r.length;n++){let a=r[n];if(s[a=j(e.transformHeader)?e.transformHeader(a,n):a]){let e,l=s[a];for(;e=a+"_"+l,l++,i.has(e););i.add(e),r[n]=e,s[a]++,t=!0,(o=null===o?{}:o)[e]=a}else s[a]=1,r[n]=a;i.add(a)}t&&console.warn("Duplicate headers found and renamed."),c=!0}return{data:w,errors:k,meta:{delimiter:t,linebreak:n,aborted:p,truncated:!!a,cursor:C+(f||0),renamedHeaders:o}}}function U(){r(F()),w=[],k=[]}},this.abort=function(){p=!0},this.getCharIndex=function(){return m}}function x(e){var t=e.data,n=s[t.workerId],a=!1;if(t.error)n.userError(t.error,t.file);else if(t.results&&t.results.data){var r={abort:function(){a=!0,g(t.workerId,{data:[],errors:[],meta:{aborted:!0}})},pause:b,resume:b};if(j(n.userStep)){for(var i=0;i<t.results.data.length&&(n.userStep({data:t.results.data[i],errors:t.results.errors,meta:t.results.meta},r),!a);i++);delete t.results}else j(n.userChunk)&&(n.userChunk(t.results,r,t.file),delete t.results)}t.finished&&!a&&g(t.workerId,t.results)}function g(e,t){var n=s[e];j(n.userComplete)&&n.userComplete(t),n.terminate(),delete s[e]}function b(){throw new Error("Not implemented.")}function v(e){if("object"!=typeof e||null===e)return e;var t,n=Array.isArray(e)?[]:{};for(t in e)n[t]=v(e[t]);return n}function y(e,t){return function(){e.apply(t,arguments)}}function j(e){return"function"==typeof e}return l.parse=function(t,a){var r=(a=a||{}).dynamicTyping||!1;if(j(r)&&(a.dynamicTypingFunction=r,r={}),a.dynamicTyping=r,a.transform=!!j(a.transform)&&a.transform,!a.worker||!l.WORKERS_SUPPORTED)return r=null,l.NODE_STREAM_INPUT,"string"==typeof t?(t=(e=>65279!==e.charCodeAt(0)?e:e.slice(1))(t),r=new(a.download?c:u)(a)):!0===t.readable&&j(t.read)&&j(t.on)?r=new m(a):(n.File&&t instanceof File||t instanceof Object)&&(r=new d(a)),r.stream(t);(r=(()=>{var t;return!!l.WORKERS_SUPPORTED&&(t=(()=>{var t=n.URL||n.webkitURL||null,a=e.toString();return l.BLOB_URL||(l.BLOB_URL=t.createObjectURL(new Blob(["var global = (function() { if (typeof self !== 'undefined') { return self; } if (typeof window !== 'undefined') { return window; } if (typeof global !== 'undefined') { return global; } return {}; })(); global.IS_PAPA_WORKER=true; ","(",a,")();"],{type:"text/javascript"})))})(),(t=new n.Worker(t)).onmessage=x,t.id=i++,s[t.id]=t)})()).userStep=a.step,r.userChunk=a.chunk,r.userComplete=a.complete,r.userError=a.error,a.step=j(a.step),a.chunk=j(a.chunk),a.complete=j(a.complete),a.error=j(a.error),delete a.worker,r.postMessage({input:t,config:a,workerId:r.id})},l.unparse=function(e,t){var n=!1,a=!0,r=",",s="\r\n",i='"',o=i+i,c=!1,d=null,u=!1,m=((()=>{if("object"==typeof t){if("string"!=typeof t.delimiter||l.BAD_DELIMITERS.filter(function(e){return-1!==t.delimiter.indexOf(e)}).length||(r=t.delimiter),"boolean"!=typeof t.quotes&&"function"!=typeof t.quotes&&!Array.isArray(t.quotes)||(n=t.quotes),"boolean"!=typeof t.skipEmptyLines&&"string"!=typeof t.skipEmptyLines||(c=t.skipEmptyLines),"string"==typeof t.newline&&(s=t.newline),"string"==typeof t.quoteChar&&(i=t.quoteChar),"boolean"==typeof t.header&&(a=t.header),Array.isArray(t.columns)){if(0===t.columns.length)throw new Error("Option columns is empty");d=t.columns}void 0!==t.escapeChar&&(o=t.escapeChar+i),t.escapeFormulae instanceof RegExp?u=t.escapeFormulae:"boolean"==typeof t.escapeFormulae&&t.escapeFormulae&&(u=/^[=+\-@\t\r].*$/)}})(),new RegExp(h(i),"g"));if("string"==typeof e&&(e=JSON.parse(e)),Array.isArray(e)){if(!e.length||Array.isArray(e[0]))return p(null,e,c);if("object"==typeof e[0])return p(d||Object.keys(e[0]),e,c)}else if("object"==typeof e)return"string"==typeof e.data&&(e.data=JSON.parse(e.data)),Array.isArray(e.data)&&(e.fields||(e.fields=e.meta&&e.meta.fields||d),e.fields||(e.fields=Array.isArray(e.data[0])?e.fields:"object"==typeof e.data[0]?Object.keys(e.data[0]):[]),Array.isArray(e.data[0])||"object"==typeof e.data[0]||(e.data=[e.data])),p(e.fields||[],e.data||[],c);throw new Error("Unable to serialize unrecognized input");function p(e,t,n){var i="",l=("string"==typeof e&&(e=JSON.parse(e)),"string"==typeof t&&(t=JSON.parse(t)),Array.isArray(e)&&0<e.length),o=!Array.isArray(t[0]);if(l&&a){for(var c=0;c<e.length;c++)0<c&&(i+=r),i+=f(e[c],c);0<t.length&&(i+=s)}for(var d=0;d<t.length;d++){var u=(l?e:t[d]).length,m=!1,p=l?0===Object.keys(t[d]).length:0===t[d].length;if(n&&!l&&(m="greedy"===n?""===t[d].join("").trim():1===t[d].length&&0===t[d][0].length),"greedy"===n&&l){for(var h=[],x=0;x<u;x++){var g=o?e[x]:x;h.push(t[d][g])}m=""===h.join("").trim()}if(!m){for(var b=0;b<u;b++){0<b&&!p&&(i+=r);var v=l&&o?e[b]:b;i+=f(t[d][v],b)}d<t.length-1&&(!n||0<u&&!p)&&(i+=s)}}return i}function f(e,t){var a,s;return null==e?"":e.constructor===Date?JSON.stringify(e).slice(1,25):(s=!1,u&&"string"==typeof e&&u.test(e)&&(e="'"+e,s=!0),a=e.toString().replace(m,o),(s=s||!0===n||"function"==typeof n&&n(e,t)||Array.isArray(n)&&n[t]||((e,t)=>{for(var n=0;n<t.length;n++)if(-1<e.indexOf(t[n]))return!0;return!1})(a,l.BAD_DELIMITERS)||-1<a.indexOf(r)||" "===a.charAt(0)||" "===a.charAt(a.length-1))?i+a+i:a)}},l.RECORD_SEP=String.fromCharCode(30),l.UNIT_SEP=String.fromCharCode(31),l.BYTE_ORDER_MARK="\ufeff",l.BAD_DELIMITERS=["\r","\n",'"',l.BYTE_ORDER_MARK],l.WORKERS_SUPPORTED=!a&&!!n.Worker,l.NODE_STREAM_INPUT=1,l.LocalChunkSize=10485760,l.RemoteChunkSize=5242880,l.DefaultDelimiter=",",l.Parser=f,l.ParserHandle=p,l.NetworkStreamer=c,l.FileStreamer=d,l.StringStreamer=u,l.ReadableStreamStreamer=m,n.jQuery&&((t=n.jQuery).fn.parse=function(e){var a=e.config||{},r=[];return this.each(function(e){if("INPUT"!==t(this).prop("tagName").toUpperCase()||"file"!==t(this).attr("type").toLowerCase()||!n.FileReader||!this.files||0===this.files.length)return!0;for(var s=0;s<this.files.length;s++)r.push({file:this.files[s],inputElem:this,instanceConfig:t.extend({},a)})}),s(),this;function s(){if(0===r.length)j(e.complete)&&e.complete();else{var n,a,s,o,c=r[0];if(j(e.before)){var d=e.before(c.file,c.inputElem);if("object"==typeof d){if("abort"===d.action)return n="AbortError",a=c.file,s=c.inputElem,o=d.reason,void(j(e.error)&&e.error({name:n},a,s,o));if("skip"===d.action)return void i();"object"==typeof d.config&&(c.instanceConfig=t.extend(c.instanceConfig,d.config))}else if("skip"===d)return void i()}var u=c.instanceConfig.complete;c.instanceConfig.complete=function(e){j(u)&&u(e,c.file,c.inputElem),i()},l.parse(c.file,c.instanceConfig)}}function i(){r.splice(0,1),s()}}),r&&(n.onmessage=function(e){e=e.data,void 0===l.WORKER_ID&&e&&(l.WORKER_ID=e.workerId),"string"==typeof e.input?n.postMessage({workerId:l.WORKER_ID,results:l.parse(e.input,e.config),finished:!0}):(n.File&&e.input instanceof File||e.input instanceof Object)&&(e=l.parse(e.input,e.config))&&n.postMessage({workerId:l.WORKER_ID,results:e,finished:!0})}),(c.prototype=Object.create(o.prototype)).constructor=c,(d.prototype=Object.create(o.prototype)).constructor=d,(u.prototype=Object.create(u.prototype)).constructor=u,(m.prototype=Object.create(o.prototype)).constructor=m,l},void 0===(r="function"===typeof n?n.apply(t,a):n)||(e.exports=r)},853:(e,t,n)=>{"use strict";e.exports=n(234)},950:(e,t,n)=>{"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(730)}},t={};function n(a){var r=t[a];if(void 0!==r)return r.exports;var s=t[a]={exports:{}};return e[a].call(s.exports,s,s.exports,n),s.exports}n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},(()=>{var e,t=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__;n.t=function(a,r){if(1&r&&(a=this(a)),8&r)return a;if("object"===typeof a&&a){if(4&r&&a.__esModule)return a;if(16&r&&"function"===typeof a.then)return a}var s=Object.create(null);n.r(s);var i={};e=e||[null,t({}),t([]),t(t)];for(var l=2&r&&a;("object"==typeof l||"function"==typeof l)&&!~e.indexOf(l);l=t(l))Object.getOwnPropertyNames(l).forEach(e=>i[e]=()=>a[e]);return i.default=()=>a,n.d(s,i),s}})(),n.d=(e,t)=>{for(var a in t)n.o(t,a)&&!n.o(e,a)&&Object.defineProperty(e,a,{enumerable:!0,get:t[a]})},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},(()=>{"use strict";var e=n(43),t=n.t(e,2),a=n(391);if(!("undefined"===typeof process||!{NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0})||!function(){try{if("undefined"===typeof window)return!1;const e=window.location.hostname;return/^(localhost|127\.0\.0\.1)$/.test(e)}catch(e){return!1}}()){["log","info","warn","error","debug","trace","group","groupCollapsed","groupEnd"].forEach(e=>{try{"undefined"!==typeof console&&console[e]&&(console[e]=()=>{})}catch(t){}});try{"undefined"!==typeof window&&(window.onerror=null)}catch(Ut){}}var r,s=n(950),i=n.t(s,2);function l(){return l=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},l.apply(this,arguments)}!function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"}(r||(r={}));const o="popstate";function c(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}function d(e,t){if(!e){"undefined"!==typeof console&&console.warn(t);try{throw new Error(t)}catch(Ut){}}}function u(e,t){return{usr:e.state,key:e.key,idx:t}}function m(e,t,n,a){return void 0===n&&(n=null),l({pathname:"string"===typeof e?e:e.pathname,search:"",hash:""},"string"===typeof t?h(t):t,{state:n,key:t&&t.key||a||Math.random().toString(36).substr(2,8)})}function p(e){let{pathname:t="/",search:n="",hash:a=""}=e;return n&&"?"!==n&&(t+="?"===n.charAt(0)?n:"?"+n),a&&"#"!==a&&(t+="#"===a.charAt(0)?a:"#"+a),t}function h(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let a=e.indexOf("?");a>=0&&(t.search=e.substr(a),e=e.substr(0,a)),e&&(t.pathname=e)}return t}function f(e,t,n,a){void 0===a&&(a={});let{window:s=document.defaultView,v5Compat:i=!1}=a,d=s.history,h=r.Pop,f=null,x=g();function g(){return(d.state||{idx:null}).idx}function b(){h=r.Pop;let e=g(),t=null==e?null:e-x;x=e,f&&f({action:h,location:y.location,delta:t})}function v(e){let t="null"!==s.location.origin?s.location.origin:s.location.href,n="string"===typeof e?e:p(e);return n=n.replace(/ $/,"%20"),c(t,"No window.location.(origin|href) available to create URL for href: "+n),new URL(n,t)}null==x&&(x=0,d.replaceState(l({},d.state,{idx:x}),""));let y={get action(){return h},get location(){return e(s,d)},listen(e){if(f)throw new Error("A history only accepts one active listener");return s.addEventListener(o,b),f=e,()=>{s.removeEventListener(o,b),f=null}},createHref:e=>t(s,e),createURL:v,encodeLocation(e){let t=v(e);return{pathname:t.pathname,search:t.search,hash:t.hash}},push:function(e,t){h=r.Push;let a=m(y.location,e,t);n&&n(a,e),x=g()+1;let l=u(a,x),o=y.createHref(a);try{d.pushState(l,"",o)}catch(c){if(c instanceof DOMException&&"DataCloneError"===c.name)throw c;s.location.assign(o)}i&&f&&f({action:h,location:y.location,delta:1})},replace:function(e,t){h=r.Replace;let a=m(y.location,e,t);n&&n(a,e),x=g();let s=u(a,x),l=y.createHref(a);d.replaceState(s,"",l),i&&f&&f({action:h,location:y.location,delta:0})},go:e=>d.go(e)};return y}var x;!function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"}(x||(x={}));new Set(["lazy","caseSensitive","path","id","index","children"]);function g(e,t,n){return void 0===n&&(n="/"),b(e,t,n,!1)}function b(e,t,n,a){let r=L(("string"===typeof t?h(t):t).pathname||"/",n);if(null==r)return null;let s=v(e);!function(e){e.sort((e,t)=>e.score!==t.score?t.score-e.score:function(e,t){let n=e.length===t.length&&e.slice(0,-1).every((e,n)=>e===t[n]);return n?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map(e=>e.childrenIndex),t.routesMeta.map(e=>e.childrenIndex)))}(s);let i=null;for(let l=0;null==i&&l<s.length;++l){let e=I(r);i=P(s[l],e,a)}return i}function v(e,t,n,a){void 0===t&&(t=[]),void 0===n&&(n=[]),void 0===a&&(a="");let r=(e,r,s)=>{let i={relativePath:void 0===s?e.path||"":s,caseSensitive:!0===e.caseSensitive,childrenIndex:r,route:e};i.relativePath.startsWith("/")&&(c(i.relativePath.startsWith(a),'Absolute route path "'+i.relativePath+'" nested under path "'+a+'" is not valid. An absolute child route path must start with the combined path of all its parent routes.'),i.relativePath=i.relativePath.slice(a.length));let l=R([a,i.relativePath]),o=n.concat(i);e.children&&e.children.length>0&&(c(!0!==e.index,'Index routes must not have child routes. Please remove all child routes from route path "'+l+'".'),v(e.children,t,o,l)),(null!=e.path||e.index)&&t.push({path:l,score:_(l,e.index),routesMeta:o})};return e.forEach((e,t)=>{var n;if(""!==e.path&&null!=(n=e.path)&&n.includes("?"))for(let a of y(e.path))r(e,t,a);else r(e,t)}),t}function y(e){let t=e.split("/");if(0===t.length)return[];let[n,...a]=t,r=n.endsWith("?"),s=n.replace(/\?$/,"");if(0===a.length)return r?[s,""]:[s];let i=y(a.join("/")),l=[];return l.push(...i.map(e=>""===e?s:[s,e].join("/"))),r&&l.push(...i),l.map(t=>e.startsWith("/")&&""===t?"/":t)}const j=/^:[\w-]+$/,N=3,w=2,k=1,S=10,C=-2,E=e=>"*"===e;function _(e,t){let n=e.split("/"),a=n.length;return n.some(E)&&(a+=C),t&&(a+=w),n.filter(e=>!E(e)).reduce((e,t)=>e+(j.test(t)?N:""===t?k:S),a)}function P(e,t,n){void 0===n&&(n=!1);let{routesMeta:a}=e,r={},s="/",i=[];for(let l=0;l<a.length;++l){let e=a[l],o=l===a.length-1,c="/"===s?t:t.slice(s.length)||"/",d=A({path:e.relativePath,caseSensitive:e.caseSensitive,end:o},c),u=e.route;if(!d&&o&&n&&!a[a.length-1].route.index&&(d=A({path:e.relativePath,caseSensitive:e.caseSensitive,end:!1},c)),!d)return null;Object.assign(r,d.params),i.push({params:r,pathname:R([s,d.pathname]),pathnameBase:F(R([s,d.pathnameBase])),route:u}),"/"!==d.pathnameBase&&(s=R([s,d.pathnameBase]))}return i}function A(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});let[n,a]=function(e,t,n){void 0===t&&(t=!1);void 0===n&&(n=!0);d("*"===e||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were "'+e.replace(/\*$/,"/*")+'" because the `*` character must always follow a `/` in the pattern. To get rid of this warning, please change the route path to "'+e.replace(/\*$/,"/*")+'".');let a=[],r="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(e,t,n)=>(a.push({paramName:t,isOptional:null!=n}),n?"/?([^\\/]+)?":"/([^\\/]+)"));e.endsWith("*")?(a.push({paramName:"*"}),r+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?r+="\\/*$":""!==e&&"/"!==e&&(r+="(?:(?=\\/|$))");let s=new RegExp(r,t?void 0:"i");return[s,a]}(e.path,e.caseSensitive,e.end),r=t.match(n);if(!r)return null;let s=r[0],i=s.replace(/(.)\/+$/,"$1"),l=r.slice(1);return{params:a.reduce((e,t,n)=>{let{paramName:a,isOptional:r}=t;if("*"===a){let e=l[n]||"";i=s.slice(0,s.length-e.length).replace(/(.)\/+$/,"$1")}const o=l[n];return e[a]=r&&!o?void 0:(o||"").replace(/%2F/g,"/"),e},{}),pathname:s,pathnameBase:i,pattern:e}}function I(e){try{return e.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(t){return d(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding ('+t+")."),e}}function L(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,a=e.charAt(n);return a&&"/"!==a?null:e.slice(n)||"/"}function T(e,t,n,a){return"Cannot include a '"+e+"' character in a manually specified `to."+t+"` field ["+JSON.stringify(a)+"].  Please separate it out to the `to."+n+'` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.'}function O(e){return e.filter((e,t)=>0===t||e.route.path&&e.route.path.length>0)}function z(e,t){let n=O(e);return t?n.map((e,t)=>t===n.length-1?e.pathname:e.pathnameBase):n.map(e=>e.pathnameBase)}function D(e,t,n,a){let r;void 0===a&&(a=!1),"string"===typeof e?r=h(e):(r=l({},e),c(!r.pathname||!r.pathname.includes("?"),T("?","pathname","search",r)),c(!r.pathname||!r.pathname.includes("#"),T("#","pathname","hash",r)),c(!r.search||!r.search.includes("#"),T("#","search","hash",r)));let s,i=""===e||""===r.pathname,o=i?"/":r.pathname;if(null==o)s=n;else{let e=t.length-1;if(!a&&o.startsWith("..")){let t=o.split("/");for(;".."===t[0];)t.shift(),e-=1;r.pathname=t.join("/")}s=e>=0?t[e]:"/"}let d=function(e,t){void 0===t&&(t="/");let{pathname:n,search:a="",hash:r=""}="string"===typeof e?h(e):e,s=n?n.startsWith("/")?n:function(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(e=>{".."===e?n.length>1&&n.pop():"."!==e&&n.push(e)}),n.length>1?n.join("/"):"/"}(n,t):t;return{pathname:s,search:U(a),hash:M(r)}}(r,s),u=o&&"/"!==o&&o.endsWith("/"),m=(i||"."===o)&&n.endsWith("/");return d.pathname.endsWith("/")||!u&&!m||(d.pathname+="/"),d}const R=e=>e.join("/").replace(/\/\/+/g,"/"),F=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),U=e=>e&&"?"!==e?e.startsWith("?")?e:"?"+e:"",M=e=>e&&"#"!==e?e.startsWith("#")?e:"#"+e:"";Error;function q(e){return null!=e&&"number"===typeof e.status&&"string"===typeof e.statusText&&"boolean"===typeof e.internal&&"data"in e}const B=["post","put","patch","delete"],V=(new Set(B),["get",...B]);new Set(V),new Set([301,302,303,307,308]),new Set([307,308]);Symbol("deferred");function W(){return W=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},W.apply(this,arguments)}const H=e.createContext(null);const $=e.createContext(null);const Q=e.createContext(null);const J=e.createContext(null);const K=e.createContext({outlet:null,matches:[],isDataRoute:!1});const G=e.createContext(null);function Y(){return null!=e.useContext(J)}function X(){return Y()||c(!1),e.useContext(J).location}function Z(t){e.useContext(Q).static||e.useLayoutEffect(t)}function ee(){let{isDataRoute:t}=e.useContext(K);return t?function(){let{router:t}=ue(ce.UseNavigateStable),n=pe(de.UseNavigateStable),a=e.useRef(!1);return Z(()=>{a.current=!0}),e.useCallback(function(e,r){void 0===r&&(r={}),a.current&&("number"===typeof e?t.navigate(e):t.navigate(e,W({fromRouteId:n},r)))},[t,n])}():function(){Y()||c(!1);let t=e.useContext(H),{basename:n,future:a,navigator:r}=e.useContext(Q),{matches:s}=e.useContext(K),{pathname:i}=X(),l=JSON.stringify(z(s,a.v7_relativeSplatPath)),o=e.useRef(!1);return Z(()=>{o.current=!0}),e.useCallback(function(e,a){if(void 0===a&&(a={}),!o.current)return;if("number"===typeof e)return void r.go(e);let s=D(e,JSON.parse(l),i,"path"===a.relative);null==t&&"/"!==n&&(s.pathname="/"===s.pathname?n:R([n,s.pathname])),(a.replace?r.replace:r.push)(s,a.state,a)},[n,r,l,i,t])}()}function te(){let{matches:t}=e.useContext(K),n=t[t.length-1];return n?n.params:{}}function ne(t,n){let{relative:a}=void 0===n?{}:n,{future:r}=e.useContext(Q),{matches:s}=e.useContext(K),{pathname:i}=X(),l=JSON.stringify(z(s,r.v7_relativeSplatPath));return e.useMemo(()=>D(t,JSON.parse(l),i,"path"===a),[t,l,i,a])}function ae(t,n,a,s){Y()||c(!1);let{navigator:i}=e.useContext(Q),{matches:l}=e.useContext(K),o=l[l.length-1],d=o?o.params:{},u=(o&&o.pathname,o?o.pathnameBase:"/");o&&o.route;let m,p=X();if(n){var f;let e="string"===typeof n?h(n):n;"/"===u||(null==(f=e.pathname)?void 0:f.startsWith(u))||c(!1),m=e}else m=p;let x=m.pathname||"/",b=x;if("/"!==u){let e=u.replace(/^\//,"").split("/");b="/"+x.replace(/^\//,"").split("/").slice(e.length).join("/")}let v=g(t,{pathname:b});let y=oe(v&&v.map(e=>Object.assign({},e,{params:Object.assign({},d,e.params),pathname:R([u,i.encodeLocation?i.encodeLocation(e.pathname).pathname:e.pathname]),pathnameBase:"/"===e.pathnameBase?u:R([u,i.encodeLocation?i.encodeLocation(e.pathnameBase).pathname:e.pathnameBase])})),l,a,s);return n&&y?e.createElement(J.Provider,{value:{location:W({pathname:"/",search:"",hash:"",state:null,key:"default"},m),navigationType:r.Pop}},y):y}function re(){let t=function(){var t;let n=e.useContext(G),a=me(de.UseRouteError),r=pe(de.UseRouteError);if(void 0!==n)return n;return null==(t=a.errors)?void 0:t[r]}(),n=q(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),a=t instanceof Error?t.stack:null,r="rgba(200,200,200, 0.5)",s={padding:"0.5rem",backgroundColor:r};return e.createElement(e.Fragment,null,e.createElement("h2",null,"Unexpected Application Error!"),e.createElement("h3",{style:{fontStyle:"italic"}},n),a?e.createElement("pre",{style:s},a):null,null)}const se=e.createElement(re,null);class ie extends e.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||"idle"!==t.revalidation&&"idle"===e.revalidation?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:void 0!==e.error?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return void 0!==this.state.error?e.createElement(K.Provider,{value:this.props.routeContext},e.createElement(G.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function le(t){let{routeContext:n,match:a,children:r}=t,s=e.useContext(H);return s&&s.static&&s.staticContext&&(a.route.errorElement||a.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=a.route.id),e.createElement(K.Provider,{value:n},r)}function oe(t,n,a,r){var s;if(void 0===n&&(n=[]),void 0===a&&(a=null),void 0===r&&(r=null),null==t){var i;if(!a)return null;if(a.errors)t=a.matches;else{if(!(null!=(i=r)&&i.v7_partialHydration&&0===n.length&&!a.initialized&&a.matches.length>0))return null;t=a.matches}}let l=t,o=null==(s=a)?void 0:s.errors;if(null!=o){let e=l.findIndex(e=>e.route.id&&void 0!==(null==o?void 0:o[e.route.id]));e>=0||c(!1),l=l.slice(0,Math.min(l.length,e+1))}let d=!1,u=-1;if(a&&r&&r.v7_partialHydration)for(let e=0;e<l.length;e++){let t=l[e];if((t.route.HydrateFallback||t.route.hydrateFallbackElement)&&(u=e),t.route.id){let{loaderData:e,errors:n}=a,r=t.route.loader&&void 0===e[t.route.id]&&(!n||void 0===n[t.route.id]);if(t.route.lazy||r){d=!0,l=u>=0?l.slice(0,u+1):[l[0]];break}}}return l.reduceRight((t,r,s)=>{let i,c=!1,m=null,p=null;var h;a&&(i=o&&r.route.id?o[r.route.id]:void 0,m=r.route.errorElement||se,d&&(u<0&&0===s?(h="route-fallback",!1||he[h]||(he[h]=!0),c=!0,p=null):u===s&&(c=!0,p=r.route.hydrateFallbackElement||null)));let f=n.concat(l.slice(0,s+1)),x=()=>{let n;return n=i?m:c?p:r.route.Component?e.createElement(r.route.Component,null):r.route.element?r.route.element:t,e.createElement(le,{match:r,routeContext:{outlet:t,matches:f,isDataRoute:null!=a},children:n})};return a&&(r.route.ErrorBoundary||r.route.errorElement||0===s)?e.createElement(ie,{location:a.location,revalidation:a.revalidation,component:m,error:i,children:x(),routeContext:{outlet:null,matches:f,isDataRoute:!0}}):x()},null)}var ce=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(ce||{}),de=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(de||{});function ue(t){let n=e.useContext(H);return n||c(!1),n}function me(t){let n=e.useContext($);return n||c(!1),n}function pe(t){let n=function(){let t=e.useContext(K);return t||c(!1),t}(),a=n.matches[n.matches.length-1];return a.route.id||c(!1),a.route.id}const he={};function fe(e,t){null==e||e.v7_startTransition,void 0===(null==e?void 0:e.v7_relativeSplatPath)&&(!t||t.v7_relativeSplatPath),t&&(t.v7_fetcherPersist,t.v7_normalizeFormMethod,t.v7_partialHydration,t.v7_skipActionErrorRevalidation)}t.startTransition;function xe(t){let{to:n,replace:a,state:r,relative:s}=t;Y()||c(!1);let{future:i,static:l}=e.useContext(Q),{matches:o}=e.useContext(K),{pathname:d}=X(),u=ee(),m=D(n,z(o,i.v7_relativeSplatPath),d,"path"===s),p=JSON.stringify(m);return e.useEffect(()=>u(JSON.parse(p),{replace:a,state:r,relative:s}),[u,p,s,a,r]),null}function ge(e){c(!1)}function be(t){let{basename:n="/",children:a=null,location:s,navigationType:i=r.Pop,navigator:l,static:o=!1,future:d}=t;Y()&&c(!1);let u=n.replace(/^\/*/,"/"),m=e.useMemo(()=>({basename:u,navigator:l,static:o,future:W({v7_relativeSplatPath:!1},d)}),[u,d,l,o]);"string"===typeof s&&(s=h(s));let{pathname:p="/",search:f="",hash:x="",state:g=null,key:b="default"}=s,v=e.useMemo(()=>{let e=L(p,u);return null==e?null:{location:{pathname:e,search:f,hash:x,state:g,key:b},navigationType:i}},[u,p,f,x,g,b,i]);return null==v?null:e.createElement(Q.Provider,{value:m},e.createElement(J.Provider,{children:a,value:v}))}function ve(e){let{children:t,location:n}=e;return ae(ye(t),n)}new Promise(()=>{});e.Component;function ye(t,n){void 0===n&&(n=[]);let a=[];return e.Children.forEach(t,(t,r)=>{if(!e.isValidElement(t))return;let s=[...n,r];if(t.type===e.Fragment)return void a.push.apply(a,ye(t.props.children,s));t.type!==ge&&c(!1),t.props.index&&t.props.children&&c(!1);let i={id:t.props.id||s.join("-"),caseSensitive:t.props.caseSensitive,element:t.props.element,Component:t.props.Component,index:t.props.index,path:t.props.path,loader:t.props.loader,action:t.props.action,errorElement:t.props.errorElement,ErrorBoundary:t.props.ErrorBoundary,hasErrorBoundary:null!=t.props.ErrorBoundary||null!=t.props.errorElement,shouldRevalidate:t.props.shouldRevalidate,handle:t.props.handle,lazy:t.props.lazy};t.props.children&&(i.children=ye(t.props.children,s)),a.push(i)}),a}function je(){return je=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},je.apply(this,arguments)}function Ne(e,t){if(null==e)return{};var n,a,r={},s=Object.keys(e);for(a=0;a<s.length;a++)n=s[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);const we=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"];try{window.__reactRouterVersion="6"}catch(Ut){}new Map;const ke=t.startTransition;i.flushSync,t.useId;function Se(t){let{basename:n,children:a,future:r,window:s}=t,i=e.useRef();var l;null==i.current&&(i.current=(void 0===(l={window:s,v5Compat:!0})&&(l={}),f(function(e,t){let{pathname:n,search:a,hash:r}=e.location;return m("",{pathname:n,search:a,hash:r},t.state&&t.state.usr||null,t.state&&t.state.key||"default")},function(e,t){return"string"===typeof t?t:p(t)},null,l)));let o=i.current,[c,d]=e.useState({action:o.action,location:o.location}),{v7_startTransition:u}=r||{},h=e.useCallback(e=>{u&&ke?ke(()=>d(e)):d(e)},[d,u]);return e.useLayoutEffect(()=>o.listen(h),[o,h]),e.useEffect(()=>fe(r),[r]),e.createElement(be,{basename:n,children:a,location:c.location,navigationType:c.action,navigator:o,future:r})}const Ce="undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement,Ee=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,_e=e.forwardRef(function(t,n){let a,{onClick:r,relative:s,reloadDocument:i,replace:l,state:o,target:d,to:u,preventScrollReset:m,viewTransition:h}=t,f=Ne(t,we),{basename:x}=e.useContext(Q),g=!1;if("string"===typeof u&&Ee.test(u)&&(a=u,Ce))try{let e=new URL(window.location.href),t=u.startsWith("//")?new URL(e.protocol+u):new URL(u),n=L(t.pathname,x);t.origin===e.origin&&null!=n?u=n+t.search+t.hash:g=!0}catch(Ut){}let b=function(t,n){let{relative:a}=void 0===n?{}:n;Y()||c(!1);let{basename:r,navigator:s}=e.useContext(Q),{hash:i,pathname:l,search:o}=ne(t,{relative:a}),d=l;return"/"!==r&&(d="/"===l?r:R([r,l])),s.createHref({pathname:d,search:o,hash:i})}(u,{relative:s}),v=function(t,n){let{target:a,replace:r,state:s,preventScrollReset:i,relative:l,viewTransition:o}=void 0===n?{}:n,c=ee(),d=X(),u=ne(t,{relative:l});return e.useCallback(e=>{if(function(e,t){return 0===e.button&&(!t||"_self"===t)&&!function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e)}(e,a)){e.preventDefault();let n=void 0!==r?r:p(d)===p(u);c(t,{replace:n,state:s,preventScrollReset:i,relative:l,viewTransition:o})}},[d,c,u,r,s,a,t,i,l,o])}(u,{replace:l,state:o,target:d,preventScrollReset:m,relative:s,viewTransition:h});return e.createElement("a",je({},f,{href:a||b,onClick:g||i?r:function(e){r&&r(e),e.defaultPrevented||v(e)},ref:n,target:d}))});var Pe,Ae;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(Pe||(Pe={})),function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"}(Ae||(Ae={}));function Ie(e){return Ie="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ie(e)}function Le(e){var t=function(e,t){if("object"!=Ie(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var a=n.call(e,t||"default");if("object"!=Ie(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Ie(t)?t:t+""}function Te(e,t,n){return(t=Le(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Oe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,a)}return n}function ze(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Oe(Object(n),!0).forEach(function(t){Te(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Oe(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function De(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(-1!==t.indexOf(a))continue;n[a]=e[a]}return n}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}const Re=e=>{const t=(e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,n)=>n?n.toUpperCase():t.toLowerCase()))(e);return t.charAt(0).toUpperCase()+t.slice(1)},Fe=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.filter((e,t,n)=>Boolean(e)&&""!==e.trim()&&n.indexOf(e)===t).join(" ").trim()};var Ue={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const Me=["color","size","strokeWidth","absoluteStrokeWidth","className","children","iconNode"],qe=(0,e.forwardRef)((t,n)=>{let{color:a="currentColor",size:r=24,strokeWidth:s=2,absoluteStrokeWidth:i,className:l="",children:o,iconNode:c}=t,d=De(t,Me);return(0,e.createElement)("svg",ze(ze(ze({ref:n},Ue),{},{width:r,height:r,stroke:a,strokeWidth:i?24*Number(s)/Number(r):s,className:Fe("lucide",l)},!o&&!(e=>{for(const t in e)if(t.startsWith("aria-")||"role"===t||"title"===t)return!0})(d)&&{"aria-hidden":"true"}),d),[...c.map(t=>{let[n,a]=t;return(0,e.createElement)(n,a)}),...Array.isArray(o)?o:[o]])}),Be=["className"],Ve=((t,n)=>{const a=(0,e.forwardRef)((a,r)=>{let{className:s}=a,i=De(a,Be);return(0,e.createElement)(qe,ze({ref:r,iconNode:n,className:Fe("lucide-".concat((l=Re(t),l.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase())),"lucide-".concat(t),s)},i));var l});return a.displayName=Re(t),a})("menu",[["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 18h16",key:"19g7jn"}],["path",{d:"M4 6h16",key:"1o0s65"}]]),We=(()=>{var e;if("undefined"!==typeof window&&null!==(e=window.location)&&void 0!==e&&e.origin){const e=window.location.origin.replace(/\/$/,"");return"".concat(e,"/api")}return"".concat(({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_API_BASE_URL||"http://localhost:3002").replace(/\/$/,""),"/api")})();const He=class{static async request(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};console.log("\ud83c\udf10 DatabaseAPI.request called:"),console.log("   Endpoint:",e),console.log("\ud83d\udda5\ufe0f Using BACKEND API");let n=e;"string"===typeof n&&n.startsWith("/api/")&&(n=n.replace(/^\/api/,""));let a="".concat(We).concat(n);const r=JSON.parse(sessionStorage.getItem("adminUser")||"null");let s={};if(r){const e=r.scope||"full";let t=r.allowed_condominiums;if("string"===typeof t)try{t=JSON.parse(t)}catch(d){console.error("Error parsing allowed_condominiums:",d),t=[]}"full"===e||"limited"===e&&t&&Array.isArray(t)&&t.length>0?(s["admin-permissions"]=JSON.stringify({scope:e,allowed_condominiums:t}),console.log("\u2705 Admin permissions header set successfully")):"limited"===e&&(!t||Array.isArray(t)&&0===t.length)?console.log("\u26a0\ufe0f Admin has limited scope but no valid condominiums - not sending permissions header"):console.log("\u26a0\ufe0f Admin permissions not set or invalid, defaulting to full access"),console.log("\ud83d\udd0d Full adminUser object:",r),console.log("\ud83d\udd10 Admin permissions being sent:",{scope:e,allowed_condominiums:t}),r.id?(s["admin-id"]=r.id.toString(),console.log("\ud83d\udc64 Admin ID available:",r.id)):r.username&&(s["admin-username"]=r.username,console.log("\u26a0\ufe0f Admin ID not found, sending username:",r.username)),console.log("\ud83d\udd10 Auto-adding admin permissions to request:",s["admin-permissions"])}const i=JSON.parse(sessionStorage.getItem("maintenanceUser")||"null");if(i&&i.id){s["maintenance-id"]=i.id.toString(),console.log("\ud83d\udd27 Adding maintenance-id header:",i.id);try{const e=new URL(a);e.searchParams.has("maintenance_id")||(e.searchParams.set("maintenance_id",i.id.toString()),a=e.toString(),console.log("\ud83d\udd27 Appended maintenance_id query param:",i.id))}catch(u){console.warn("Could not append maintenance_id query param:",u)}}console.log("   Full URL:",a);const l=ze(ze({},s),t.headers),o=t.body instanceof FormData;o||(l["Content-Type"]="application/json");const c=ze({headers:l},t);!o&&c.body&&"object"===typeof c.body&&(c.body=JSON.stringify(c.body));try{console.log("\ud83d\ude80 Making fetch request...");const e=await fetch(a,c);if(console.log("\ud83d\udce1 Response received:",e.status,e.statusText),!e.ok){const t=await e.text();throw console.error("\u274c Response not OK:",e.status,t),new Error("HTTP ".concat(e.status,": ").concat(t))}const t=await e.json();return console.log("\u2705 Data parsed successfully, length:",Array.isArray(t)?t.length:"not array"),t}catch(d){throw console.error("\u274c API request failed: ".concat(e),d),d}}static async healthCheck(){console.log("=== HEALTH CHECK ===");try{const e=await this.request("/health");return console.log("Health check response:",e),e&&("ok"===e.status||"OK"===e.status)}catch(e){return console.error("Health check failed:",e),!1}}static async health(){return this.request("/health")}static async login(e,t){return this.request("/login",{method:"POST",body:{nif:e,password:t}})}static async adminLogin(e,t){return this.request("/admin/login",{method:"POST",body:{username:e,password:t}})}static async changePassword(e,t,n){return this.request("/change-password",{method:"POST",body:{nif:e,currentPassword:t,newPassword:n}})}static async getAllUsers(){return this.request("/users")}static async getUserById(e){return this.request("/users/".concat(e))}static async createUser(e){return this.request("/users",{method:"POST",body:e})}static async updateUser(e,t){return this.request("/users/".concat(e),{method:"PUT",body:t})}static async deleteUser(e){return this.request("/users/".concat(e),{method:"DELETE"})}static async getUsersByGroup(e){return this.request("/users/group/".concat(encodeURIComponent(e)))}static async getUserCondominiums(e){return this.request("/users/".concat(e,"/condominiums"))}static async updateUserProfile(e,t){return this.request("/users/".concat(e,"/profile"),{method:"PUT",body:t})}static async postAdminMessage(e){const t="".concat(We,"/admin/messages"),n=JSON.parse(sessionStorage.getItem("adminUser")||"null"),a={};if(n&&n.id&&(a["admin-id"]=n.id.toString()),n){const e=n.scope||"full";let t=n.allowed_condominiums;if("string"===typeof t)try{t=JSON.parse(t)}catch(Ut){t=[]}("full"===e||"limited"===e&&Array.isArray(t)&&t.length>0)&&(a["admin-permissions"]=JSON.stringify({scope:e,allowed_condominiums:t}))}try{const t=[];for(const n of e.entries())t.push(n[0]);console.log("\ud83e\uddfe postAdminMessage FormData keys:",t)}catch(Ut){console.log("Could not enumerate FormData keys",Ut)}console.log("\ud83e\uddfe postAdminMessage headers being sent:",a);const r=await fetch(t,{method:"POST",body:e,headers:a});if(!r.ok){const e=await r.text();throw new Error("HTTP ".concat(r.status,": ").concat(e))}return r.json()}static async getUserAdminMessages(e){return this.request("/users/".concat(e,"/admin-messages"))}static async getUserAdminMessage(e,t){return this.request("/users/".concat(e,"/admin-messages/").concat(t))}static async getAdminMessages(){return this.request("/admin/messages")}static async addUserToCondominium(e,t){try{return await this.request("/users/".concat(e,"/condominiums"),{method:"POST",body:{condominiumId:t,condominium_id:t}})}catch(n){return console.error("Error in addUserToCondominium:",n),{success:!1,error:n.message||String(n)}}}static async removeUserFromCondominium(e,t){return this.request("/users/".concat(e,"/condominiums/").concat(t),{method:"DELETE"})}static async getAllCondominiums(){return this.request("/condominiums")}static async getCondominiumById(e){return this.request("/condominiums/".concat(e))}static async createCondominium(e){return this.request("/condominiums",{method:"POST",body:e})}static async updateCondominium(e,t){return this.request("/condominiums/".concat(e),{method:"PUT",body:t})}static async deleteCondominium(e){return this.request("/condominiums/".concat(e),{method:"DELETE"})}static async getUnreadNotificationsCount(){return this.request("/notifications/unread-count")}static async getUserUnreadNotificationsCount(e){if(!e)throw new Error("userId is required");return this.request("/users/".concat(e,"/notifications/unread-count"))}static async markUserNotificationAsRead(e,t){if(!e||!t)throw new Error("userId and notificationId are required");return this.request("/users/".concat(e,"/notifications/").concat(t,"/read"),{method:"PUT"})}static async get(e){return this.request(e)}static async post(e,t){return this.request(e,{method:"POST",body:t})}static async put(e,t){return this.request(e,{method:"PUT",body:t})}static async delete(e){return this.request(e,{method:"DELETE"})}static async upload(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const a="".concat(We).concat(e),r=JSON.parse(sessionStorage.getItem("adminUser")||"null");let s={};if(r){const e=r.scope||"full";let t=r.allowed_condominiums;if("string"===typeof t)try{t=JSON.parse(t)}catch(Ut){t=[]}("full"===e||"limited"===e&&Array.isArray(t)&&t.length>0)&&(s["admin-permissions"]=JSON.stringify({scope:e,allowed_condominiums:t})),r.id&&(s["admin-id"]=r.id.toString())}const i=ze(ze({},s),n),l=await fetch(a,{method:"POST",body:t,headers:i});if(!l.ok){const e=await l.text();throw new Error("HTTP ".concat(l.status,": ").concat(e))}return l.json()}static assembleiaFileUrl(e,t){return"".concat(We,"/assembleias/").concat(e,"/files/").concat(t)}static fileUrl(e,t){return"".concat(We,"/admin/messages/").concat(e,"/files/").concat(t)}static async getUsersByCondominiumName(e){const t=(await this.getAllCondominiums()).find(t=>t.name===e);if(!t)throw new Error("Condominium '".concat(e,"' not found"));return(await this.getAllUsers()).filter(e=>e.condominiums&&e.condominiums.some(e=>e.id===t.id))}static async getUserNotifications(e){return this.request("/users/".concat(e,"/notifications"))}static async getUserOcorrencias(e){return this.request("/users/".concat(e,"/ocorrencias"))}static async getUserAssembleia(e,t){return this.request("/users/".concat(e,"/assembleias/").concat(t))}static async getUserDocument(e,t){return this.request("/users/".concat(e,"/documents/").concat(t))}};var $e=n(579);function Qe(){var t,n;const[a,r]=(0,e.useState)(!1),[s,i]=(0,e.useState)(!1),[l,o]=(0,e.useState)(null),[c,d]=(0,e.useState)(!1),[u,m]=(0,e.useState)(null),[p,h]=(0,e.useState)(!1),[f,x]=(0,e.useState)(null),[g,b]=(0,e.useState)(0),v="bg-white",y="text-[#2E2A86]";(0,e.useEffect)(()=>{sessionStorage.getItem("logoAnimated")||(i(!0),sessionStorage.setItem("logoAnimated","true"),setTimeout(()=>i(!1),1e3));const e=sessionStorage.getItem("loggedUser");e&&o(JSON.parse(e));const t=sessionStorage.getItem("isAdmin");d("true"===t);const n=sessionStorage.getItem("adminUser");n&&m(JSON.parse(n));const a=sessionStorage.getItem("isMaintenance");h("true"===a);const r=sessionStorage.getItem("maintenanceUser");r&&x(JSON.parse(r));const s=()=>{const e=sessionStorage.getItem("loggedUser");o(e?JSON.parse(e):null);const t=sessionStorage.getItem("isAdmin");d("true"===t);const n=sessionStorage.getItem("adminUser");m(n?JSON.parse(n):null);const a=sessionStorage.getItem("isMaintenance");h("true"===a);const r=sessionStorage.getItem("maintenanceUser");x(r?JSON.parse(r):null)};return window.addEventListener("storage",s),window.addEventListener("userLoggedIn",s),window.addEventListener("adminLoggedIn",s),window.addEventListener("maintenanceLoggedIn",s),()=>{window.removeEventListener("storage",s),window.removeEventListener("userLoggedIn",s),window.removeEventListener("adminLoggedIn",s),window.removeEventListener("maintenanceLoggedIn",s)}},[]),(0,e.useEffect)(()=>{document.body.style.paddingTop||(document.body.style.paddingTop="0px");let e=null,t=null,n=null;const a=()=>{const e=document.querySelector("header");if(!e)return;const t=e.getBoundingClientRect(),n=Math.max(0,Math.round(t.height));n>0&&(e=>{const t=Math.max(32,Math.round(e));document.body.style.paddingTop="".concat(t,"px"),document.documentElement.style.setProperty("--site-header-height","".concat(t,"px"))})(n)},r=()=>{t&&cancelAnimationFrame(t),t=requestAnimationFrame(()=>{a(),n&&clearTimeout(n),n=setTimeout(()=>a(),250)})};requestAnimationFrame(()=>{r()}),window.addEventListener("resize",r);const s=document.querySelector("header");if(s)try{e=new ResizeObserver(r),e.observe(s),s.addEventListener("transitionend",r),s.addEventListener("animationend",r)}catch(Ut){console.warn("ResizeObserver not available for header measurement",Ut)}const i=setTimeout(()=>a(),600);return()=>{window.removeEventListener("resize",r);try{e&&s&&e.unobserve(s)}catch(Ut){}try{s&&(s.removeEventListener("transitionend",r),s.removeEventListener("animationend",r))}catch(Ut){}t&&cancelAnimationFrame(t),n&&clearTimeout(n),clearTimeout(i)}},[]);const j=async()=>{try{if(c){const e=await He.getUnreadNotificationsCount();b(e&&e.count?Number(e.count):0)}else if(l&&l.id)try{const e=await He.getUserUnreadNotificationsCount(l.id);b(e&&e.count?Number(e.count):0)}catch(Ut){console.warn("User unread-count endpoint failed, falling back to admin unread-count",Ut.message||Ut);const t=await He.getUnreadNotificationsCount();b(t&&t.count?Number(t.count):0)}else b(0)}catch(e){console.error("Error loading unread notifications:",e)}};function N(){sessionStorage.removeItem("loggedUser"),sessionStorage.removeItem("isAdmin"),sessionStorage.removeItem("adminUser"),sessionStorage.removeItem("isMaintenance"),sessionStorage.removeItem("maintenanceUser"),o(null),d(!1),h(!1),x(null),window.location.href="/"}return(0,e.useEffect)(()=>{j();const e=setInterval(j,6e4),t=()=>j();window.addEventListener("notificationCreated",t);let n=null;try{const e=JSON.parse(sessionStorage.getItem("adminUser")||"{}"),t=e&&e.id?e.id:null;if(t){n=new EventSource("".concat("http://localhost:3002","/api/notifications/stream?admin_id=").concat(t)),n.addEventListener("notification_created",e=>{try{const t=JSON.parse(e.data);console.log("SSE notification_created",t)}catch(t){}j()}),n.addEventListener("notifications_cleared",e=>{try{const t=JSON.parse(e.data);console.log("SSE notifications_cleared",t)}catch(t){}j()}),n.addEventListener("connected",e=>console.log("SSE connected for admin",t))}}catch(Ut){console.warn("Error opening SSE",Ut)}return()=>{clearInterval(e),window.removeEventListener("notificationCreated",t);try{n&&n.close()}catch(Ut){}}},[c,l,u]),(0,e.useEffect)(()=>{j()},[c,u,l]),(0,$e.jsx)("header",{className:"fixed top-0 left-0 w-full shadow-md z-50 ".concat(v),children:(0,$e.jsxs)("div",{className:"container mx-auto flex flex-wrap items-center justify-between gap-3 p-4 bg-opacity-90",children:[(0,$e.jsx)("div",{className:"flex items-center flex-shrink-0",children:(0,$e.jsxs)(_e,{to:"/",className:"flex items-center","aria-label":"Ir para a p\xe1gina inicial",children:[(0,$e.jsx)("img",{src:"/logo192.png",alt:"DomusGest Logo",className:"h-10 w-auto object-contain ".concat(s?"fade-in":""),style:{maxWidth:48},tabIndex:"0"}),(0,$e.jsx)("span",{className:"font-bold text-lg ml-2 ".concat(y),children:"DOMUSGEST"})]})}),(0,$e.jsx)("nav",{className:"flex-1 md:flex md:items-center md:justify-center hidden md:flex-wrap md:gap-4",children:(0,$e.jsxs)("div",{className:"flex flex-wrap items-center gap-3 text-sm font-medium",children:[(0,$e.jsx)(_e,{to:"/",className:"btn-animated",tabIndex:"0",children:"Quem Somos"}),(0,$e.jsx)(_e,{to:"/equipa",className:"btn-animated",tabIndex:"0",children:"A Equipa"}),(0,$e.jsx)(_e,{to:"/administracao",className:"btn-animated",tabIndex:"0",children:"Administra\xe7\xe3o"}),(0,$e.jsx)(_e,{to:"/objetivos",className:"btn-animated",tabIndex:"0",children:"Objetivos"}),(0,$e.jsx)(_e,{to:"/contactos",className:"btn-animated",tabIndex:"0",children:"Contactos"})]})}),(0,$e.jsxs)("div",{className:"flex items-center gap-2",children:[(0,$e.jsx)("div",{className:"hidden md:flex items-center gap-3",children:l?(0,$e.jsxs)("div",{className:"flex items-center flex-wrap gap-3",children:[(0,$e.jsx)(_e,{to:"/condo-info",className:"dashboard-button documents text-sm",children:"\ud83c\udfe0 \xc1rea Cond\xf3mino"}),(0,$e.jsxs)(_e,{to:"/notifications",className:"dashboard-button text-sm relative",children:["\ud83d\udd14 Notifica\xe7\xf5es",g>0&&(0,$e.jsx)("span",{className:"absolute -top-2 -right-2 bg-red-500 text-white text-xs rounded-full h-5 w-5 flex items-center justify-center font-bold",children:g>9?"9+":g})]}),(0,$e.jsx)(_e,{to:"/profile",className:"dashboard-button text-sm",children:"\ud83d\udc64 Meu Perfil"}),c&&(0,$e.jsxs)($e.Fragment,{children:[(0,$e.jsx)(_e,{to:"/admin/messages",className:"dashboard-button contact text-sm",children:"\ud83d\udce3 Mensagens"}),(0,$e.jsxs)(_e,{to:"/admin/database",className:"dashboard-button contact text-sm relative",children:["\u2699\ufe0f Admin BD",g>0&&(0,$e.jsx)("span",{className:"absolute -top-2 -right-2 bg-red-500 text-white text-xs rounded-full h-5 w-5 flex items-center justify-center font-bold",children:g>9?"9+":g})]})]}),c&&u&&"admin"===u.username&&(0,$e.jsxs)($e.Fragment,{children:[(0,$e.jsx)(_e,{to:"/admin/manage",className:"dashboard-button contact text-sm",children:"\ud83e\uddd1\u200d\ud83d\udcbc Gerir Utilizadores"}),(0,$e.jsx)(_e,{to:"/admin/create-admin",className:"dashboard-button contact text-sm",children:"\u2795 Criar Admin"}),(0,$e.jsx)(_e,{to:"/admin/create-maintenance",className:"dashboard-button contact text-sm",children:"\u2795 Criar Manuten\xe7\xe3o"})]}),(0,$e.jsxs)("span",{className:"text-sm text-current",children:["Ol\xe1, ",(null===l||void 0===l||null===(t=l.Nome)||void 0===t?void 0:t.split(" ")[0])||"Cond\xf3mino",c&&(0,$e.jsx)("span",{className:"ml-1 text-purple-600 font-bold",children:"(Admin)"})]}),(0,$e.jsx)("button",{onClick:N,className:"dashboard-button logout text-sm",children:"\ud83d\udeaa Sair"})]}):c?(0,$e.jsxs)("div",{className:"flex items-center gap-3",children:[(0,$e.jsx)(_e,{to:"/admin/messages",className:"dashboard-button contact text-sm",children:"\ud83d\udce3 Mensagens"}),(0,$e.jsxs)(_e,{to:"/admin/database",className:"dashboard-button contact text-sm relative",children:["\u2699\ufe0f Admin BD",g>0&&(0,$e.jsx)("span",{className:"absolute -top-2 -right-2 bg-red-500 text-white text-xs rounded-full h-5 w-5 flex items-center justify-center font-bold",children:g>9?"9+":g})]}),(0,$e.jsx)("span",{className:"text-sm text-purple-600 font-bold",children:"Administrador"}),u&&"admin"===u.username&&(0,$e.jsxs)($e.Fragment,{children:[(0,$e.jsx)(_e,{to:"/admin/manage",className:"dashboard-button contact text-sm",children:"\ud83e\uddd1\u200d\ud83d\udcbc Gerir Utilizadores"}),(0,$e.jsx)(_e,{to:"/admin/create-admin",className:"dashboard-button contact text-sm",children:"\u2795 Criar Admin"}),(0,$e.jsx)(_e,{to:"/admin/create-maintenance",className:"dashboard-button contact text-sm",children:"\u2795 Criar Manuten\xe7\xe3o"})]}),(0,$e.jsx)("button",{onClick:N,className:"dashboard-button logout text-sm",children:"\ud83d\udeaa Sair (Admin)"})]}):p?(0,$e.jsxs)("div",{className:"flex items-center gap-3",children:[(0,$e.jsx)(_e,{to:"/maintenance",className:"dashboard-button text-sm",children:"\ud83d\udd27 Manuten\xe7\xe3o"}),(0,$e.jsx)("span",{className:"text-sm text-blue-600 font-bold",children:(null===f||void 0===f?void 0:f.nome)||"Manuten\xe7\xe3o"}),(0,$e.jsx)("button",{onClick:N,className:"dashboard-button logout text-sm",children:"\ud83d\udeaa Sair"})]}):(0,$e.jsx)(_e,{to:"/login",className:"dashboard-button text-sm",children:"\ud83d\udd10 Fazer Login"})}),(0,$e.jsx)("div",{className:"flex md:hidden items-center gap-2",children:(0,$e.jsx)("button",{className:"p-2 btn-animated",onClick:()=>r(!a),"aria-label":"Abrir menu de navega\xe7\xe3o",children:(0,$e.jsx)(Ve,{})})})]}),a&&(0,$e.jsxs)("div",{className:"w-full md:hidden mt-2 p-4 space-y-2 bg-white rounded",children:[(0,$e.jsx)(_e,{to:"/",className:"btn-animated block",onClick:()=>r(!1),children:"Quem Somos"}),(0,$e.jsx)(_e,{to:"/equipa",className:"btn-animated block",onClick:()=>r(!1),children:"A Equipa"}),(0,$e.jsx)(_e,{to:"/administracao",className:"btn-animated block",onClick:()=>r(!1),children:"Administra\xe7\xe3o"}),(0,$e.jsx)(_e,{to:"/objetivos",className:"btn-animated block",onClick:()=>r(!1),children:"Objetivos"}),(0,$e.jsx)(_e,{to:"/contactos",className:"btn-animated block",onClick:()=>r(!1),children:"Contactos"}),l?(0,$e.jsxs)("div",{className:"pt-2 border-t",children:[(0,$e.jsxs)("div",{className:"text-sm text-gray-600 mb-2",children:["Ol\xe1, ",(null===(n=l.Nome)||void 0===n?void 0:n.split(" ")[0])||"Cond\xf3mino",c&&(0,$e.jsx)("span",{className:"ml-1 text-purple-600 font-bold",children:"(Admin)"})]}),(0,$e.jsx)(_e,{to:"/condo-info",className:"dashboard-button documents w-full mb-3 text-center",onClick:()=>r(!1),children:"\ud83c\udfe0 \xc1rea Cond\xf3mino"}),(0,$e.jsxs)("div",{className:"relative w-full mb-3",children:[(0,$e.jsx)(_e,{to:"/notifications",className:"dashboard-button w-full text-center",onClick:()=>r(!1),children:"\ud83d\udd14 Notifica\xe7\xf5es"}),g>0&&(0,$e.jsx)("span",{className:"absolute -top-2 -right-2 bg-red-500 text-white text-xs rounded-full h-5 w-5 flex items-center justify-center font-bold",children:g>9?"9+":g})]}),(0,$e.jsx)(_e,{to:"/profile",className:"dashboard-button w-full mb-3 text-center",onClick:()=>r(!1),children:"\ud83d\udc64 Meu Perfil"}),c&&(0,$e.jsxs)("div",{style:{position:"relative"},children:[(0,$e.jsx)(_e,{to:"/admin/messages",className:"dashboard-button contact w-full mb-3 text-center",onClick:()=>r(!1),children:"\ud83d\udce3 Mensagens"}),(0,$e.jsx)(_e,{to:"/admin/database",className:"dashboard-button contact w-full mb-3 text-center",onClick:()=>r(!1),children:"\u2699\ufe0f Admin BD"}),g>0&&(0,$e.jsx)("span",{className:"absolute top-0 right-2 bg-red-500 text-white text-xs rounded-full h-5 w-5 flex items-center justify-center font-bold",children:g>9?"9+":g})]}),c&&u&&"admin"===u.username&&(0,$e.jsxs)("div",{children:[(0,$e.jsx)(_e,{to:"/admin/manage",className:"dashboard-button w-full mb-3 text-center",onClick:()=>r(!1),children:"\ud83e\uddd1\u200d\ud83d\udcbc Gerir Utilizadores"}),(0,$e.jsx)(_e,{to:"/admin/create-admin",className:"dashboard-button w-full mb-3 text-center",onClick:()=>r(!1),children:"\u2795 Criar Admin"}),(0,$e.jsx)(_e,{to:"/admin/create-maintenance",className:"dashboard-button w-full mb-3 text-center",onClick:()=>r(!1),children:"\u2795 Criar Manuten\xe7\xe3o"})]}),(0,$e.jsx)("button",{onClick:()=>{N(),r(!1)},className:"dashboard-button logout w-full",children:"\ud83d\udeaa Sair"})]}):c?(0,$e.jsxs)("div",{className:"pt-2 border-t",children:[(0,$e.jsx)("div",{className:"text-sm text-purple-600 font-bold mb-2",children:"Administrador"}),(0,$e.jsx)(_e,{to:"/admin/messages",className:"dashboard-button contact w-full mb-3 text-center",onClick:()=>r(!1),children:"\ud83d\udce3 Mensagens"}),(0,$e.jsx)(_e,{to:"/database-admin",className:"dashboard-button contact w-full mb-3 text-center",onClick:()=>r(!1),children:"\u2699\ufe0f Admin BD"}),(0,$e.jsx)("button",{onClick:()=>{N(),r(!1)},className:"dashboard-button logout w-full",children:"\ud83d\udeaa Sair (Admin)"})]}):p?(0,$e.jsxs)("div",{className:"pt-2 border-t",children:[(0,$e.jsx)("div",{className:"text-sm text-blue-600 font-bold mb-2",children:(null===f||void 0===f?void 0:f.nome)||"Manuten\xe7\xe3o"}),(0,$e.jsx)(_e,{to:"/maintenance",className:"dashboard-button w-full mb-3 text-center",onClick:()=>r(!1),children:"\ud83d\udd27 Manuten\xe7\xe3o"}),(0,$e.jsx)("button",{onClick:()=>{N(),r(!1)},className:"dashboard-button logout w-full",children:"\ud83d\udeaa Sair"})]}):(0,$e.jsx)(_e,{to:"/login",className:"dashboard-button w-full text-center",onClick:()=>r(!1),children:"\ud83d\udd10 Fazer Login"})]})]})})}class Je extends e.Component{constructor(e){super(e),this.handleReset=()=>{this.setState({hasError:!1,error:null}),this.props.onReset&&this.props.onReset()},this.state={hasError:!1,error:null}}static getDerivedStateFromError(e){return{hasError:!0,error:e}}componentDidCatch(e,t){console.error("\ud83e\udde8 ErrorBoundary caught error:",e,t)}render(){var e;return this.state.hasError?(0,$e.jsxs)("div",{className:"p-6 m-4 border border-red-300 bg-red-50 rounded",children:[(0,$e.jsx)("h2",{className:"text-xl font-bold text-red-700 mb-2",children:"Ocorreu um erro nesta p\xe1gina"}),(0,$e.jsx)("p",{className:"text-sm text-red-600 break-all mb-4",children:null===(e=this.state.error)||void 0===e?void 0:e.message}),(0,$e.jsx)("button",{onClick:this.handleReset,className:"px-4 py-2 bg-red-600 text-white rounded",children:"Tentar novamente"})]}):this.props.children}}const Ke=Je,Ge=(0,e.createContext)();function Ye(e){let{children:t}=e;return(0,$e.jsx)(Ge.Provider,{value:{site:"domusgest",setSite:()=>{}},children:t})}function Xe(){return(0,e.useContext)(Ge)}function Ze(){const{site:e}=Xe(),t="domusgest"===e,n={bg:t?"bg-white":"bg-black",text:t?"text-gray-700":"text-gray-300",title:t?"text-[#2E2A86]":"text-[#FFD700]",footerBg:t?"bg-[#2E2A86]":"bg-black",footerText:t?"text-white":"text-[#FFD700]",footerBorder:t?"":"border-t border-yellow-500"};return(0,$e.jsxs)("div",{className:"font-sans ".concat(n.bg),children:[(0,$e.jsxs)("main",{className:"pt-4",children:[(0,$e.jsxs)("section",{className:"h-[70vh] flex items-center justify-center text-center px-4 relative overflow-hidden","aria-label":"Hero",children:[t?(0,$e.jsx)("div",{className:"absolute inset-0 bg-cover bg-center",style:{backgroundImage:"url('/Foto_Espinho.jpg')"}}):(0,$e.jsxs)($e.Fragment,{children:[(0,$e.jsx)("div",{className:"absolute top-0 left-0 w-1/2 h-full bg-cover bg-center",style:{backgroundImage:"url('/deep-clean.jpeg')"}}),(0,$e.jsx)("div",{className:"absolute top-0 right-0 w-1/2 h-full bg-cover bg-center",style:{backgroundImage:"url('/construction-workers.jpg')"}})]}),(0,$e.jsx)("div",{className:"absolute inset-0 bg-black/60"}),(0,$e.jsxs)("div",{className:"relative z-10 max-w-3xl",children:[(0,$e.jsx)("h1",{className:"text-4xl md:text-5xl font-bold text-white mb-4",children:t?"Gest\xe3o e Administra\xe7\xe3o de Condom\xednios":"Servi\xe7os Profissionais de Limpeza"}),(0,$e.jsx)("p",{className:"text-lg text-white/90 max-w-2xl mx-auto mb-6",children:t?"Profissionalismo, rigor e transpar\xeancia na gest\xe3o do seu condom\xednio.":"Qualidade e excel\xeancia em cada detalhe da limpeza."}),(0,$e.jsx)(_e,{to:"/contactos",className:"hero-cta px-6 py-3 rounded-xl transition",children:"Contacte-nos"})]})]}),(0,$e.jsx)("section",{id:"quem-somos",className:"py-20 ".concat(n.bg),children:(0,$e.jsxs)("div",{className:"container mx-auto px-4 text-center max-w-3xl",children:[(0,$e.jsx)("h2",{className:"text-3xl font-semibold mb-6 ".concat(n.title),children:"Quem Somos"}),(0,$e.jsx)("p",{className:n.text,children:t?"A DomusGest dedica-se \xe0 gest\xe3o e administra\xe7\xe3o de condom\xednios, com uma equipa experiente e focada na qualidade do servi\xe7o e satisfa\xe7\xe3o dos cond\xf3minos.":"A Oklanderlig dedica-se \xe0 limpeza e repara\xe7\xe3o de condom\xednios, com uma equipa experiente e focada na qualidade do servi\xe7o e satisfa\xe7\xe3o dos cond\xf3minos."})]})}),(0,$e.jsx)("section",{id:"contactos",className:"py-20 ".concat(n.bg),children:(0,$e.jsxs)("div",{className:"container mx-auto px-4 text-center",children:[(0,$e.jsx)("h2",{className:"text-3xl font-semibold mb-6 ".concat(n.title),children:"Contactos"}),(0,$e.jsx)("p",{className:"mb-2 ".concat(n.text),children:"Rua 26, 661 - 4500-282 Espinho"}),(0,$e.jsx)("p",{className:"mb-2 ".concat(n.text),children:"Tel: 227 320 866"}),(0,$e.jsx)("p",{className:"mb-2 ".concat(n.text),children:"Tlm: 964 875 154"}),(0,$e.jsxs)("p",{className:"mb-4 ".concat(n.text),children:["Email: ",t?"geral@domusgest.net":"Oklanderlig.go@gmail.com"]})]})})]}),(0,$e.jsx)("footer",{className:"".concat(n.footerBg," ").concat(n.footerText," ").concat(n.footerBorder),children:(0,$e.jsx)("div",{className:"py-6 text-center",children:(0,$e.jsxs)("p",{children:["\xa9 ",(new Date).getFullYear()," ",t?"DomusGest":"Oklanderlig"]})})})]})}function et(){const{site:e}=Xe();return"domusgest"===e?(0,$e.jsx)(xe,{to:"/",replace:!0}):(0,$e.jsx)("div",{className:"min-h-screen bg-black text-gray-300",children:(0,$e.jsx)("main",{className:"pt-4",children:(0,$e.jsxs)("div",{className:"container mx-auto px-4",children:[(0,$e.jsx)(_e,{to:"/",className:"text-sm text-[#FFD700] mb-4 inline-block",children:"\u2190 Voltar ao In\xedcio"}),(0,$e.jsx)("h1",{className:"text-4xl font-bold text-[#FFD700] mb-6",children:"Nossos Servi\xe7os de Limpeza"}),(0,$e.jsx)("p",{className:"mb-8 max-w-3xl",children:"Oferecemos um leque completo de solu\xe7\xf5es de limpeza e manuten\xe7\xe3o para garantir que o seu espa\xe7o esteja sempre impec\xe1vel, seguro e acolhedor."}),(0,$e.jsxs)("ul",{className:"list-disc pl-6 space-y-3 text-lg",children:[(0,$e.jsx)("li",{children:"Limpeza Profunda Residencial e Comercial"}),(0,$e.jsx)("li",{children:"Manuten\xe7\xe3o e Limpeza de \xc1reas Comuns de Condom\xednios"}),(0,$e.jsx)("li",{children:"Limpeza P\xf3s-Obra e P\xf3s-Remodela\xe7\xe3o"}),(0,$e.jsx)("li",{children:"Higieniza\xe7\xe3o e Tratamento de Pavimentos"}),(0,$e.jsx)("li",{children:"Limpeza de Vidros, Fachadas e Zonas de Dif\xedcil Acesso"}),(0,$e.jsx)("li",{children:"Desinfe\xe7\xe3o e Sanitiza\xe7\xe3o de Espa\xe7os"})]})]})})})}function tt(){const{site:e}=Xe(),t="domusgest"===e,n={bg:t?"bg-white":"bg-black",text:t?"text-gray-700":"text-gray-300",title:t?"text-[#2E2A86]":"text-[#FFD700]",link:t?"text-[#2E2A86]":"text-[#FFD700]",cardBg:t?"bg-white":"bg-gray-900",cardBorder:t?"border-gray-200":"border-yellow-500/50"},a=t?[{name:"Paulo Peixoto",role:"CEO",img:"/51JOipANhqL._UF894,1000_QL80_.jpg"},{name:"Pedro",role:"Administrador de Condominios",img:"/51JOipANhqL._UF894,1000_QL80_.jpg"},{name:"Paula",role:"Front Office",img:"/51JOipANhqL._UF894,1000_QL80_.jpg"}]:[{name:"Dona Nat\xe1lia",role:"Chefe das Limpezas",img:"/oklanderlig-team-drip.jpg"},{name:"Senhor Carlos",role:"Chefe da Eletricidade",img:"/oklanderlig-team-drip.jpg"},{name:"Senhor Beto",role:"Reiz\xe3o do Bet\xe3o",img:"/oklanderlig-team-drip.jpg"}];return(0,$e.jsx)("div",{className:"min-h-screen ".concat(n.bg," ").concat(n.text),children:(0,$e.jsx)("main",{className:"pt-4",children:(0,$e.jsxs)("div",{className:"container mx-auto px-4",children:[(0,$e.jsx)(_e,{to:"/",className:"text-sm ".concat(n.link," mb-4 inline-block"),children:"\u2190 Voltar ao In\xedcio"}),(0,$e.jsx)("h1",{className:"text-4xl font-bold mb-6 ".concat(n.title),children:t?"A Equipa DomusGest":"A Equipa Oklanderlig"}),(0,$e.jsx)("p",{className:"mb-12 max-w-3xl",children:t?"Contamos com profissionais qualificados em administra\xe7\xe3o, contabilidade e gest\xe3o de condom\xednios.":"A nossa equipa \xe9 composta por especialistas em limpeza dedicados a garantir um ambiente impec\xe1vel."}),(0,$e.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:a.map(e=>(0,$e.jsxs)("div",{className:"p-6 border ".concat(n.cardBorder," ").concat(n.cardBg," rounded-lg shadow-sm text-center"),children:[(0,$e.jsx)("h3",{className:"font-semibold text-lg",children:e.name}),(0,$e.jsx)("img",{src:e.img,alt:e.name,className:"mx-auto h-24 w-24 object-cover rounded-full my-4"}),(0,$e.jsx)("p",{className:"text-sm",children:e.role})]},e.name))})]})})})}function nt(){const{site:e}=Xe(),t="domusgest"===e,n={bg:t?"bg-white":"bg-black",text:t?"text-gray-700":"text-gray-300",title:t?"text-[#2E2A86]":"text-[#FFD700]",link:t?"text-[#2E2A86]":"text-[#FFD700]",cardBg:t?"bg-white":"bg-gray-900",cardBorder:t?"border-gray-200":"border-yellow-500/50"},a=t?[{title:"Transpar\xeancia",description:"Relat\xf3rios claros e contas acess\xedveis a todos os cond\xf3minos."},{title:"Efici\xeancia",description:"Respostas r\xe1pidas e processos otimizados para resolver qualquer quest\xe3o."},{title:"Proximidade",description:"Uma gest\xe3o presente e atenta \xe0s necessidades de cada condom\xednio."}]:[{title:"Qualidade Superior",description:"Utilizamos os melhores produtos e t\xe9cnicas para um resultado impec\xe1vel."},{title:"Confian\xe7a",description:"Equipas de confian\xe7a, rigorosamente selecionadas e formadas."},{title:"Flexibilidade",description:"Adaptamos os nossos servi\xe7os \xe0s necessidades espec\xedficas de cada cliente."}];return(0,$e.jsx)("div",{className:"min-h-screen ".concat(n.bg," ").concat(n.text),children:(0,$e.jsx)("main",{className:"pt-4",children:(0,$e.jsxs)("div",{className:"container mx-auto px-4",children:[(0,$e.jsx)(_e,{to:"/",className:"text-sm ".concat(n.link," mb-4 inline-block"),children:"\u2190 Voltar ao In\xedcio"}),(0,$e.jsx)("h1",{className:"text-4xl font-bold mb-6 ".concat(n.title),children:"Nossos Objetivos"}),(0,$e.jsx)("p",{className:"mb-12 max-w-3xl",children:t?"Garantir a satisfa\xe7\xe3o dos cond\xf3minos, atrav\xe9s de uma gest\xe3o transparente, eficiente e pr\xf3xima.":"Ser a refer\xeancia em servi\xe7os de limpeza, garantindo ambientes saud\xe1veis e agrad\xe1veis."}),(0,$e.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:a.map(e=>(0,$e.jsxs)("div",{className:"p-6 border ".concat(n.cardBorder," ").concat(n.cardBg," rounded-lg"),children:[(0,$e.jsx)("h3",{className:"font-semibold text-xl mb-3 ".concat(n.title),children:e.title}),(0,$e.jsx)("p",{children:e.description})]},e.title))})]})})})}function at(){const{site:e}=Xe();return"domusgest"===e?(0,$e.jsx)("div",{className:"min-h-screen bg-white text-gray-800",children:(0,$e.jsx)("main",{className:"pt-4",children:(0,$e.jsxs)("div",{className:"container mx-auto px-4",children:[(0,$e.jsx)(_e,{to:"/",className:"text-sm text-[#2E2A86] mb-4 inline-block",children:"\u2190 Voltar ao In\xedcio"}),(0,$e.jsx)("h1",{className:"text-4xl font-bold text-[#2E2A86] mb-6",children:"Administra\xe7\xe3o de Condom\xednios"}),(0,$e.jsx)("p",{className:"text-gray-700 mb-6 max-w-3xl",children:"Prestamos servi\xe7os completos de gest\xe3o financeira, manuten\xe7\xe3o, acompanhamento legal e organiza\xe7\xe3o de assembleias."}),(0,$e.jsxs)("ul",{className:"list-disc pl-6 text-gray-700 space-y-2",children:[(0,$e.jsx)("li",{children:"Gest\xe3o Financeira e Contabilidade"}),(0,$e.jsx)("li",{children:"Manuten\xe7\xe3o Preventiva e Repara\xe7\xf5es"}),(0,$e.jsx)("li",{children:"Apoio Jur\xeddico e Resolu\xe7\xe3o de Conflitos"}),(0,$e.jsx)("li",{children:"Convoca\xe7\xe3o e Realiza\xe7\xe3o de Assembleias"}),(0,$e.jsx)("li",{children:"Gest\xe3o de Contratos com Fornecedores"})]})]})})}):(0,$e.jsx)(xe,{to:"/",replace:!0})}function rt(){const{site:t}=Xe(),n="domusgest"===t,[a,r]=(0,e.useState)({name:"",email:"",building:"",fraction:"",message:""}),s={bg:n?"bg-white":"bg-black",text:n?"text-gray-700":"text-gray-300",title:n?"text-[#2E2A86]":"text-[#FFD700]",link:n?"text-[#2E2A86]":"text-[#FFD700]",inputBg:n?"bg-white":"bg-gray-800",inputBorder:n?"border-gray-300":"border-gray-600",button:n?"bg-[#2E2A86] text-white":"bg-[#FFD700] text-black"},i=n?"geral@domusgest.net":"Oklanderlig@email.com";function l(e){r(t=>ze(ze({},t),{},{[e.target.name]:e.target.value}))}return(0,$e.jsx)("div",{className:"min-h-screen ".concat(s.bg," ").concat(s.text),children:(0,$e.jsx)("main",{className:"pt-4",children:(0,$e.jsxs)("div",{className:"container mx-auto px-4 max-w-2xl",children:[(0,$e.jsx)(_e,{to:"/",className:"text-sm ".concat(s.link," mb-4 inline-block"),children:"\u2190 Voltar ao In\xedcio"}),(0,$e.jsx)("h1",{className:"text-4xl font-bold mb-6 ".concat(s.title),children:"Fale Connosco"}),(0,$e.jsx)("p",{className:"mb-8",children:n?"Preencha o formul\xe1rio para quest\xf5es sobre a administra\xe7\xe3o do seu condom\xednio.":"Pe\xe7a um or\xe7amento ou agende uma visita para os nossos servi\xe7os de limpeza."}),(0,$e.jsxs)("form",{onSubmit:function(e){e.preventDefault();const n=encodeURIComponent("Contacto via site (".concat(t,") - ").concat(a.name||"Sem nome")),r=encodeURIComponent("Nome: ".concat(a.name,"\nEmail: ").concat(a.email,"\nPr\xe9dio: ").concat(a.building,"\nFra\xe7\xe3o: ").concat(a.fraction,"\n\nMensagem:\n").concat(a.message));window.location.href="mailto:".concat(i,"?subject=").concat(n,"&body=").concat(r)},className:"space-y-4",children:[(0,$e.jsxs)("div",{children:[(0,$e.jsx)("label",{className:"block text-sm font-medium mb-1",children:"Nome"}),(0,$e.jsx)("input",{required:!0,name:"name",value:a.name,onChange:l,className:"w-full border ".concat(s.inputBorder," ").concat(s.inputBg," rounded px-3 py-2")})]}),(0,$e.jsxs)("div",{children:[(0,$e.jsx)("label",{className:"block text-sm font-medium mb-1",children:"Email"}),(0,$e.jsx)("input",{required:!0,type:"email",name:"email",value:a.email,onChange:l,className:"w-full border ".concat(s.inputBorder," ").concat(s.inputBg," rounded px-3 py-2")})]}),(0,$e.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,$e.jsxs)("div",{children:[(0,$e.jsx)("label",{className:"block text-sm font-medium mb-1",children:"Pr\xe9dio"}),(0,$e.jsx)("input",{name:"building",value:a.building,onChange:l,className:"w-full border ".concat(s.inputBorder," ").concat(s.inputBg," rounded px-3 py-2")})]}),(0,$e.jsxs)("div",{children:[(0,$e.jsx)("label",{className:"block text-sm font-medium mb-1",children:"Fra\xe7\xe3o"}),(0,$e.jsx)("input",{name:"fraction",value:a.fraction,onChange:l,className:"w-full border ".concat(s.inputBorder," ").concat(s.inputBg," rounded px-3 py-2")})]})]}),(0,$e.jsxs)("div",{children:[(0,$e.jsx)("label",{className:"block text-sm font-medium mb-1",children:"Mensagem"}),(0,$e.jsx)("textarea",{required:!0,name:"message",value:a.message,onChange:l,className:"w-full border ".concat(s.inputBorder," ").concat(s.inputBg," rounded px-3 py-2 h-32")})]}),(0,$e.jsx)("div",{children:(0,$e.jsx)("button",{type:"submit",className:"px-6 py-3 rounded ".concat(s.button),children:"Enviar Mensagem"})})]})]})})})}function st(){const[t,n]=(0,e.useState)(""),[a,r]=(0,e.useState)(""),[s,i]=(0,e.useState)(""),[l,o]=(0,e.useState)(!1),[c,d]=(0,e.useState)(!0),u=ee();return(0,e.useEffect)(()=>{(async()=>{console.log("=== LOGIN COMPONENT - CHECKING CONNECTION ===");const e=await He.healthCheck();console.log("Health check result:",e),d(e),e||i("Erro: N\xe3o foi poss\xedvel conectar \xe0 base de dados.")})()},[]),(0,$e.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-blue-100 flex items-center justify-center px-4",style:{marginTop:"calc(var(--site-header-height, 0px) * -1)"},children:(0,$e.jsxs)("div",{className:"max-w-md w-full",children:[(0,$e.jsxs)("div",{className:"text-center mb-8",children:[(0,$e.jsx)("img",{src:"/logo192.png",alt:"DomusGest Logo",className:"h-16 w-auto mx-auto mb-4 fade-in object-contain",style:{maxWidth:"100%"}}),(0,$e.jsx)("h1",{className:"text-3xl font-bold text-blue-900 mb-2",children:"DomusGest"}),(0,$e.jsx)("p",{className:"text-gray-600",children:"\xc1rea do Cond\xf3mino"})]}),(0,$e.jsxs)("div",{className:"bg-white rounded-xl shadow-lg p-8 fade-in",children:[(0,$e.jsx)("h2",{className:"text-2xl font-bold mb-6 text-blue-900 text-center",children:"Iniciar Sess\xe3o"}),(0,$e.jsxs)("form",{onSubmit:async function(e){if(e.preventDefault(),o(!0),i(""),console.log("=== UNIFIED LOGIN ATTEMPT ==="),console.log("Entered identifier:",t),console.log("Database connected:",c),!c)return i("Erro: Base de dados n\xe3o dispon\xedvel."),void o(!1);try{if(!/^\d{9}$/.test(t.trim())){try{console.log("\ud83d\udd10 Attempting admin login (non-NIF identifier)...");const e=await He.adminLogin(t,a);if(e&&e.success)return console.log("\u2705 Admin login successful!",e.admin.username),sessionStorage.setItem("adminUser",JSON.stringify(e.admin)),sessionStorage.setItem("isAdmin","true"),window.dispatchEvent(new Event("adminLoggedIn")),u("/database-admin"),void o(!1);console.log("\u274c Admin login failed or not applicable, trying maintenance login")}catch(e){console.log("\u274c Admin login attempt errored, will try maintenance; error:",e)}try{console.log("\ud83d\udd27 Attempting maintenance login...");const e=await He.request("/maintenance/login",{method:"POST",body:{username:t,password:a}});if(e&&e.success)return console.log("\u2705 Maintenance login successful!",e),sessionStorage.setItem("maintenanceUser",JSON.stringify(e.maintenance||e)),sessionStorage.setItem("isMaintenance","true"),window.dispatchEvent(new Event("maintenanceLoggedIn")),u("/maintenance"),void o(!1);console.log("\u274c Maintenance login failed:",e.error||e)}catch(n){console.log("\u274c Maintenance login error:",n)}}console.log("\ud83d\udc64 Attempting user login...");const r=await He.login(t,a);r.success?(console.log("\u2705 User login successful! User found:",r.user.nome),sessionStorage.setItem("loggedUser",JSON.stringify(r.user)),window.dispatchEvent(new Event("userLoggedIn")),u("/condo-info")):(console.log("\u274c Login failed:",r.error),i(r.error||"NIF ou password incorretos."))}catch(s){console.error("Login error:",s),i("Erro inesperado. Tente novamente.")}o(!1)},className:"space-y-6",children:[(0,$e.jsxs)("div",{children:[(0,$e.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"NIF"}),(0,$e.jsx)("input",{type:"text",value:t,onChange:e=>n(e.target.value),className:"w-full border border-gray-300 rounded-lg px-4 py-3 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors",placeholder:"Digite o seu NIF",required:!0})]}),(0,$e.jsxs)("div",{children:[(0,$e.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Password"}),(0,$e.jsx)("input",{type:"password",value:a,onChange:e=>r(e.target.value),className:"w-full border border-gray-300 rounded-lg px-4 py-3 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors",placeholder:"Digite a sua password",required:!0})]}),s&&(0,$e.jsx)("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-lg text-center",children:s}),(0,$e.jsx)("button",{type:"submit",disabled:l||!c,className:"w-full py-3 rounded-lg font-medium transition-all duration-200 ".concat(c&&!l?"bg-blue-700 hover:bg-blue-800 text-white btn-animated":"bg-gray-400 text-gray-200 cursor-not-allowed"),children:l?"Autenticando...":c?"Entrar":"Base de dados indispon\xedvel"})]}),(0,$e.jsxs)("div",{className:"mt-6 pt-6 border-t border-gray-200 text-center",children:[(0,$e.jsx)("p",{className:"text-sm text-gray-600 mb-2",children:"Problemas com o acesso?"}),(0,$e.jsx)("a",{href:"/contactos",className:"text-blue-700 hover:text-blue-800 text-sm font-medium btn-animated",children:"Contacte-nos"})]})]}),(0,$e.jsx)("div",{className:"text-center mt-8",children:(0,$e.jsxs)("p",{className:"text-sm text-gray-500",children:["\xa9 ",(new Date).getFullYear()," DomusGest. Todos os direitos reservados."]})})]})})}function it(){const[t,n]=(0,e.useState)(null),[a,r]=(0,e.useState)([]),[s,i]=(0,e.useState)([]),[l,o]=(0,e.useState)({}),[c,d]=(0,e.useState)(!0),[u,m]=(0,e.useState)(!0),[p,h]=(0,e.useState)("upcoming"),[f,x]=(0,e.useState)(null);(0,e.useEffect)(()=>{const e=JSON.parse(sessionStorage.getItem("loggedUser"));if(!e)return;const t=async()=>{try{const n=await He.request("/users/".concat(e.id));if(n&&n.id){const a=ze(ze({},e),n);if((!a.condominiumsList||0===a.condominiumsList.length)&&e.id)try{const t=await He.getUserCondominiums(e.id);if(Array.isArray(t)&&t.length>0){const e=t.map(e=>({id:e.id,name:e.name||e.nome||"",apartment:e.apartment||e.apartamento||"",nome:e.name||e.nome||"",apartamento:e.apartment||e.apartamento||""}));a.condominiumsList=e}}catch(t){console.error("Fallback fetch user condominiums failed:",t)}x(a)}else x(e)}catch(t){console.error("Error loading full user data:",t),x(e)}};t();const n=()=>{t()};return window.addEventListener("userLoggedIn",n),()=>{window.removeEventListener("userLoggedIn",n)}},[]),(0,e.useEffect)(()=>{f&&f.id&&(g(),b(),v())},[f]);const g=async()=>{if(f&&f.id)try{d(!0),console.log("Fetching assembleia for user:",f),console.log("User ID:",f.id);const e=await He.request("/users/".concat(f.id,"/next-assembleia"));console.log("Assembleia data received:",e),n(e)}catch(e){console.error("Error fetching next assembleia:",e)}finally{d(!1)}},b=async()=>{if(f&&f.id)try{console.log("Fetching all assembleias for user:",f),console.log("User ID:",f.id);const e=await He.request("/users/".concat(f.id,"/assembleias"));console.log("All assembleias data received:",e),r(e||[])}catch(e){console.error("Error fetching all assembleias:",e),r([])}},v=async()=>{if(f&&f.id)try{m(!0),console.log("Fetching previous assembleias for user:",f);const e=await He.request("/users/".concat(f.id,"/assembleias-anteriores"));if(console.log("Previous assembleias data received:",e),i(e||[]),e&&e.length>0)for(const t of e)await y(t.id)}catch(e){console.error("Error fetching previous assembleias:",e),i([])}finally{m(!1)}},y=async e=>{try{const t=await He.request("/assembleias/".concat(e,"/files"));o(n=>ze(ze({},n),{},{[e]:t}))}catch(t){console.error("Error fetching assembleia files:",t)}},j=e=>new Date(e+"T00:00:00").toLocaleDateString("pt-PT",{weekday:"long",year:"numeric",month:"long",day:"numeric"}),N=e=>e.substring(0,5);if(!f)return(0,$e.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:(0,$e.jsxs)("div",{className:"text-center",children:[(0,$e.jsx)("h2",{className:"text-2xl font-bold mb-4 text-red-600",children:"Acesso Negado"}),(0,$e.jsx)("p",{className:"mb-4",children:"Por favor fa\xe7a login para aceder a esta p\xe1gina."}),(0,$e.jsx)(_e,{to:"/login",className:"bg-blue-700 text-white px-6 py-2 rounded btn-animated",children:"Fazer Login"})]})});return(0,$e.jsx)("div",{className:"min-h-screen bg-gray-50",children:(0,$e.jsx)("main",{className:"pb-8",children:(0,$e.jsxs)("div",{className:"container mx-auto px-4 max-w-4xl",children:[(0,$e.jsxs)("div",{className:"dashboard-card mb-6 fade-in",children:[(0,$e.jsx)("div",{className:"flex justify-between items-center mb-4",children:(0,$e.jsx)("h1",{className:"text-3xl font-bold text-blue-900",children:"\xc1rea do Cond\xf3mino"})}),(0,$e.jsxs)("p",{className:"text-gray-600 mb-6",children:["Bem-vindo, ",f.Nome||"Cond\xf3mino","!"]}),(0,$e.jsxs)("div",{className:"flex flex-wrap gap-4",children:[(0,$e.jsx)(_e,{to:"/notifications",className:"dashboard-button notifications",children:"\ud83d\udd14 Notifica\xe7\xf5es"}),(0,$e.jsx)(_e,{to:"/meu-contacto",className:"dashboard-button contact",children:"\ud83d\udce7 Meu Contacto"}),(0,$e.jsx)(_e,{to:"/my-admin-messages",className:"dashboard-button documents",children:"\ud83d\udce2 Mensagens"}),(0,$e.jsx)(_e,{to:"/meus-documentos",className:"dashboard-button documents",children:"\ud83d\udcc4 Meus Documentos"}),(0,$e.jsx)(_e,{to:"/change-password",className:"dashboard-button password",children:"\ud83d\udd12 Alterar Password"}),(0,$e.jsx)("button",{onClick:function(){sessionStorage.removeItem("loggedUser"),sessionStorage.removeItem("isAdmin"),sessionStorage.removeItem("adminUser");try{window.dispatchEvent(new Event("userLoggedIn")),window.dispatchEvent(new Event("adminLoggedIn"))}catch(Ut){}window.location.href="/"},className:"dashboard-button logout",children:"\ud83d\udeaa Logout"})]})]}),(0,$e.jsxs)("div",{className:"info-section fade-in",children:[(0,$e.jsx)("h2",{className:"text-2xl font-semibold text-blue-900 mb-4 flex items-center gap-2",children:"\ud83d\udc64 Informa\xe7\xf5es Pessoais"}),(0,$e.jsxs)("div",{className:"info-grid",children:[(0,$e.jsxs)("div",{className:"info-field",children:[(0,$e.jsx)("div",{className:"info-label",children:"Nome"}),(0,$e.jsx)("div",{className:"info-value",children:f.Nome||"N\xe3o dispon\xedvel"})]}),(0,$e.jsxs)("div",{className:"info-field",children:[(0,$e.jsx)("div",{className:"info-label",children:"NIF"}),(0,$e.jsx)("div",{className:"info-value",children:f.NIF||"N\xe3o dispon\xedvel"})]}),(0,$e.jsxs)("div",{className:"info-field",children:[(0,$e.jsx)("div",{className:"info-label",children:"Telem\xf3vel"}),(0,$e.jsx)("div",{className:"info-value",children:f.Telemovel||"N\xe3o dispon\xedvel"})]}),(0,$e.jsxs)("div",{className:"info-field",children:[(0,$e.jsx)("div",{className:"info-label",children:"Telefone"}),(0,$e.jsx)("div",{className:"info-value",children:f.Telefone||"N\xe3o dispon\xedvel"})]}),(0,$e.jsxs)("div",{className:"info-field",children:[(0,$e.jsx)("div",{className:"info-label",children:"C\xf4njuge"}),(0,$e.jsx)("div",{className:"info-value",children:f["C\xf4njuge"]||"N\xe3o dispon\xedvel"})]})]})]}),(0,$e.jsxs)("div",{className:"dashboard-card mb-6 fade-in",children:[(0,$e.jsx)("h2",{className:"text-2xl font-semibold text-blue-900 mb-4 flex items-center gap-2",children:"\ud83c\udfe2 Informa\xe7\xf5es do Condom\xednio"}),(0,$e.jsx)("div",{className:"grid grid-cols-1 gap-4",children:(0,$e.jsxs)("div",{children:[(0,$e.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Condom\xednios Associados"}),f.condominiumsList&&f.condominiumsList.length>0?(0,$e.jsxs)("div",{className:"space-y-2",children:[f.condominiumsList.map((e,t)=>(0,$e.jsxs)("div",{className:"bg-gradient-to-r from-blue-50 to-indigo-50 p-4 rounded-xl border border-blue-200 font-semibold text-blue-800 flex justify-between items-center shadow-sm",children:[(0,$e.jsxs)("span",{className:"flex items-center gap-2",children:["\ud83c\udfe2 ",e.nome]}),e.apartamento&&(0,$e.jsx)("span",{className:"bg-blue-600 text-white px-3 py-1 rounded-full text-sm font-medium",children:e.apartamento})]},t)),f.condominiumsList.length>1&&(0,$e.jsx)("div",{className:"mt-3 p-3 bg-gradient-to-r from-green-50 to-emerald-50 border border-green-200 rounded-xl text-sm text-green-700 font-medium",children:(0,$e.jsxs)("strong",{children:["\ud83d\udccd Est\xe1 associado a ",f.condominiumsList.length," condom\xednios"]})})]}):(0,$e.jsx)("div",{className:"bg-gray-50 p-4 rounded-xl border text-gray-500",children:f.Grupo||"N\xe3o dispon\xedvel"})]})})]}),(0,$e.jsxs)("div",{className:"dashboard-card mb-6 fade-in",children:[(0,$e.jsx)("h2",{className:"text-2xl font-semibold text-blue-900 mb-4 flex items-center gap-2",children:"\ud83d\udcc5 Minhas Assembleias"}),(0,$e.jsxs)("div",{className:"flex border-b border-gray-200 mb-6",children:[(0,$e.jsxs)("button",{onClick:()=>h("upcoming"),className:"px-6 py-3 font-medium text-sm border-b-2 transition-colors ".concat("upcoming"===p?"border-blue-600 text-blue-600 bg-blue-50":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"),children:["\ud83d\udcc5 Pr\xf3ximas Assembleias",a.length>0&&(0,$e.jsx)("span",{className:"ml-2 bg-blue-600 text-white text-xs rounded-full px-2 py-1",children:a.length})]}),(0,$e.jsxs)("button",{onClick:()=>h("previous"),className:"px-6 py-3 font-medium text-sm border-b-2 transition-colors ".concat("previous"===p?"border-blue-600 text-blue-600 bg-blue-50":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"),children:["\ud83d\udccb Assembleias Anteriores",s.length>0&&(0,$e.jsx)("span",{className:"ml-2 bg-gray-600 text-white text-xs rounded-full px-2 py-1",children:s.length})]})]}),"upcoming"===p&&(0,$e.jsx)("div",{children:c?(0,$e.jsxs)("div",{className:"flex items-center justify-center py-8",children:[(0,$e.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"}),(0,$e.jsx)("span",{className:"ml-2 text-gray-600",children:"A carregar assembleias..."})]}):a&&a.length>0?(0,$e.jsxs)("div",{className:"space-y-4",children:[a.length>1&&(0,$e.jsx)("div",{className:"mb-4 p-3 bg-gradient-to-r from-blue-50 to-indigo-50 border border-blue-200 rounded-xl text-blue-700 font-medium",children:(0,$e.jsxs)("strong",{children:["\ud83d\udccd Tem ",a.length," assembleias agendadas"]})}),a.map((e,t)=>(0,$e.jsx)("div",{className:"bg-gradient-to-r from-blue-50 to-indigo-50 p-6 rounded-xl border border-blue-200 shadow-sm",children:(0,$e.jsxs)("div",{className:"flex items-start justify-between",children:[(0,$e.jsxs)("div",{className:"flex-1",children:[(0,$e.jsxs)("div",{className:"flex items-center gap-2 mb-3",children:[(0,$e.jsx)("h3",{className:"text-xl font-bold text-blue-900",children:e.title}),0===t&&(0,$e.jsx)("span",{className:"inline-flex px-2 py-1 text-xs font-semibold rounded-full bg-green-100 text-green-800",children:"Pr\xf3xima"})]}),(0,$e.jsxs)("div",{className:"space-y-3 text-sm",children:[(0,$e.jsxs)("div",{className:"flex items-center gap-3 bg-white p-3 rounded-lg",children:[(0,$e.jsx)("span",{className:"font-medium text-gray-700",children:"\ud83c\udfe2 Condom\xednio:"}),(0,$e.jsx)("span",{className:"text-blue-800 font-semibold",children:e.condominium_name})]}),(0,$e.jsxs)("div",{className:"flex items-center gap-3 bg-white p-3 rounded-lg",children:[(0,$e.jsx)("span",{className:"font-medium text-gray-700",children:"\ud83d\udcc5 Data:"}),(0,$e.jsx)("span",{className:"text-gray-900 font-medium",children:j(e.date)})]}),(0,$e.jsxs)("div",{className:"flex items-center gap-3 bg-white p-3 rounded-lg",children:[(0,$e.jsx)("span",{className:"font-medium text-gray-700",children:"\ud83d\udd50 Hora:"}),(0,$e.jsx)("span",{className:"text-gray-900 font-medium",children:N(e.time)})]}),e.location&&(0,$e.jsxs)("div",{className:"flex items-center gap-3 bg-white p-3 rounded-lg",children:[(0,$e.jsx)("span",{className:"font-medium text-gray-700",children:"\ud83d\udccd Local:"}),(0,$e.jsx)("span",{className:"text-gray-900 font-medium",children:e.location})]}),e.description&&(0,$e.jsxs)("div",{className:"bg-white p-4 rounded-lg",children:[(0,$e.jsx)("span",{className:"font-medium text-gray-700 flex items-center gap-2 mb-2",children:"\ud83d\udccb Descri\xe7\xe3o:"}),(0,$e.jsx)("p",{className:"text-gray-900 leading-relaxed",children:e.description})]})]})]}),(0,$e.jsx)("div",{className:"ml-4",children:(0,$e.jsx)("span",{className:"inline-flex px-3 py-1 text-xs font-semibold rounded-full bg-green-100 text-green-800",children:"Agendada"})})]})},e.id))]}):(0,$e.jsxs)("div",{className:"text-center py-8 text-gray-500",children:[(0,$e.jsx)("div",{className:"text-4xl mb-2",children:"\ud83d\udcc5"}),(0,$e.jsx)("p",{className:"text-lg",children:"Nenhuma assembleia agendada"}),(0,$e.jsx)("p",{className:"text-sm",children:"N\xe3o h\xe1 assembleias programadas para os seus condom\xednios."})]})}),"previous"===p&&(0,$e.jsx)("div",{children:u?(0,$e.jsxs)("div",{className:"flex items-center justify-center py-8",children:[(0,$e.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"}),(0,$e.jsx)("span",{className:"ml-2 text-gray-600",children:"A carregar assembleias anteriores..."})]}):s&&s.length>0?(0,$e.jsxs)("div",{className:"space-y-4",children:[(0,$e.jsx)("div",{className:"mb-4 p-3 bg-gradient-to-r from-gray-50 to-slate-50 border border-gray-200 rounded-xl text-gray-700 font-medium",children:(0,$e.jsxs)("strong",{children:["\ud83d\udccb ",s.length," assembleias anteriores encontradas"]})}),s.map(e=>(0,$e.jsx)("div",{className:"bg-gradient-to-r from-gray-50 to-slate-50 p-6 rounded-xl border border-gray-200 shadow-sm",children:(0,$e.jsx)("div",{className:"flex items-start justify-between",children:(0,$e.jsxs)("div",{className:"flex-1",children:[(0,$e.jsxs)("div",{className:"flex items-center gap-2 mb-3",children:[(0,$e.jsx)("h3",{className:"text-xl font-bold text-gray-900",children:e.title}),(0,$e.jsx)("span",{className:"inline-flex px-2 py-1 text-xs font-semibold rounded-full bg-gray-100 text-gray-800",children:"completed"===e.status?"Conclu\xedda":"Anterior"})]}),(0,$e.jsxs)("div",{className:"space-y-3 text-sm",children:[(0,$e.jsxs)("div",{className:"flex items-center gap-3 bg-white p-3 rounded-lg",children:[(0,$e.jsx)("span",{className:"font-medium text-gray-700",children:"\ud83c\udfe2 Condom\xednio:"}),(0,$e.jsx)("span",{className:"text-blue-800 font-semibold",children:e.condominium_name})]}),(0,$e.jsxs)("div",{className:"flex items-center gap-3 bg-white p-3 rounded-lg",children:[(0,$e.jsx)("span",{className:"font-medium text-gray-700",children:"\ud83d\udcc5 Data:"}),(0,$e.jsx)("span",{className:"text-gray-900 font-medium",children:j(e.date)})]}),(0,$e.jsxs)("div",{className:"flex items-center gap-3 bg-white p-3 rounded-lg",children:[(0,$e.jsx)("span",{className:"font-medium text-gray-700",children:"\ud83d\udd50 Hora:"}),(0,$e.jsx)("span",{className:"text-gray-900 font-medium",children:N(e.time)})]}),e.location&&(0,$e.jsxs)("div",{className:"flex items-center gap-3 bg-white p-3 rounded-lg",children:[(0,$e.jsx)("span",{className:"font-medium text-gray-700",children:"\ud83d\udccd Local:"}),(0,$e.jsx)("span",{className:"text-gray-900 font-medium",children:e.location})]}),e.description&&(0,$e.jsxs)("div",{className:"bg-white p-4 rounded-lg",children:[(0,$e.jsx)("span",{className:"font-medium text-gray-700 flex items-center gap-2 mb-2",children:"\ud83d\udccb Descri\xe7\xe3o:"}),(0,$e.jsx)("p",{className:"text-gray-900 leading-relaxed",children:e.description})]}),l[e.id]&&l[e.id].length>0&&(0,$e.jsxs)("div",{className:"bg-blue-50 p-4 rounded-lg border border-blue-200",children:[(0,$e.jsx)("span",{className:"font-medium text-blue-700 flex items-center gap-2 mb-3",children:"\ud83d\udcc4 Documentos da Assembleia:"}),(0,$e.jsx)("div",{className:"space-y-2",children:l[e.id].map(t=>(0,$e.jsxs)("div",{className:"flex items-center justify-between bg-white p-3 rounded border",children:[(0,$e.jsxs)("div",{className:"flex items-center gap-2",children:[(0,$e.jsx)("span",{className:"text-red-600",children:"\ud83d\udcc4"}),(0,$e.jsx)("span",{className:"text-sm font-medium text-gray-900",children:t.original_filename||t.filename}),(0,$e.jsxs)("span",{className:"text-xs text-gray-500",children:["(",new Date(t.uploaded_at||t.created_at).toLocaleDateString("pt-PT"),")"]})]}),(0,$e.jsx)("a",{href:He.fileUrl(e.id,t.id),target:"_blank",rel:"noopener noreferrer",className:"bg-blue-600 text-white px-3 py-1 rounded text-xs hover:bg-blue-700 transition-colors",children:"Descarregar"})]},t.id))})]})]})]})})},e.id))]}):(0,$e.jsxs)("div",{className:"text-center py-8 text-gray-500",children:[(0,$e.jsx)("div",{className:"text-4xl mb-2",children:"\ud83d\udccb"}),(0,$e.jsx)("p",{className:"text-lg",children:"Nenhuma assembleia anterior"}),(0,$e.jsx)("p",{className:"text-sm",children:"N\xe3o h\xe1 assembleias anteriores registadas para os seus condom\xednios."})]})})]}),(0,$e.jsxs)("div",{className:"bg-white rounded-lg shadow-md p-6 mb-6",children:[(0,$e.jsx)("h2",{className:"text-2xl font-semibold text-blue-900 mb-4 border-b pb-2",children:"Informa\xe7\xf5es de Contacto"}),(0,$e.jsxs)("div",{className:"grid grid-cols-1 gap-4",children:[(0,$e.jsxs)("div",{children:[(0,$e.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"E-mail Principal"}),(0,$e.jsx)("div",{className:"bg-gray-50 p-3 rounded border",children:f["e-mail 1"]||"N\xe3o dispon\xedvel"})]}),f["e-mail 2"]&&(0,$e.jsxs)("div",{children:[(0,$e.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"E-mail Secund\xe1rio"}),(0,$e.jsx)("div",{className:"bg-gray-50 p-3 rounded border",children:f["e-mail 2"]})]}),f["e-mail 3"]&&(0,$e.jsxs)("div",{children:[(0,$e.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"E-mail Terci\xe1rio"}),(0,$e.jsx)("div",{className:"bg-gray-50 p-3 rounded border",children:f["e-mail 3"]})]}),(0,$e.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,$e.jsxs)("div",{children:[(0,$e.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Permite Telefone"}),(0,$e.jsx)("div",{className:"p-3 rounded border ".concat("Sim"===f["Permite telefone"]?"bg-green-50 text-green-800 border-green-200":"bg-red-50 text-red-800 border-red-200"),children:f["Permite telefone"]||"N\xe3o especificado"})]}),(0,$e.jsxs)("div",{children:[(0,$e.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Permite E-mail"}),(0,$e.jsx)("div",{className:"p-3 rounded border ".concat("Sim"===f["Permite e-mail"]?"bg-green-50 text-green-800 border-green-200":"bg-red-50 text-red-800 border-red-200"),children:f["Permite e-mail"]||"N\xe3o especificado"})]})]})]})]}),(0,$e.jsxs)("div",{className:"bg-white rounded-lg shadow-md p-6",children:[(0,$e.jsx)("h2",{className:"text-2xl font-semibold text-blue-900 mb-4 border-b pb-2",children:"Informa\xe7\xf5es da Conta"}),(0,$e.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,$e.jsxs)("div",{children:[(0,$e.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Data de Cria\xe7\xe3o"}),(0,$e.jsx)("div",{className:"bg-gray-50 p-3 rounded border",children:f["Data de cria\xe7\xe3o"]||"N\xe3o dispon\xedvel"})]}),(0,$e.jsxs)("div",{children:[(0,$e.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Data de Altera\xe7\xe3o"}),(0,$e.jsx)("div",{className:"bg-gray-50 p-3 rounded border",children:f["Data de altera\xe7\xe3o"]||"N\xe3o dispon\xedvel"})]})]})]}),(0,$e.jsx)("div",{className:"mt-8 text-center",children:(0,$e.jsx)(_e,{to:"/",className:"bg-blue-700 text-white px-6 py-3 rounded-lg btn-animated hover:bg-blue-800 inline-flex items-center",children:"\u2190 Voltar ao In\xedcio"})})]})})})}function lt(){const[t,n]=(0,e.useState)(""),[a,r]=(0,e.useState)(""),[s,i]=(0,e.useState)(""),[l,o]=(0,e.useState)(""),[c,d]=(0,e.useState)(""),[u,m]=(0,e.useState)(!1),p=ee(),h=JSON.parse(sessionStorage.getItem("loggedUser"));if(!h)return(0,$e.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:(0,$e.jsxs)("div",{className:"text-center",children:[(0,$e.jsx)("h2",{className:"text-2xl font-bold mb-4 text-red-600",children:"Acesso Negado"}),(0,$e.jsx)("p",{className:"mb-4",children:"Por favor fa\xe7a login para aceder a esta p\xe1gina."}),(0,$e.jsx)(_e,{to:"/login",className:"bg-blue-700 text-white px-6 py-2 rounded btn-animated",children:"Fazer Login"})]})});return(0,$e.jsx)("div",{className:"min-h-screen bg-gray-50",children:(0,$e.jsx)("main",{className:"pt-4 pb-8",children:(0,$e.jsx)("div",{className:"container mx-auto px-4 max-w-md",children:(0,$e.jsxs)("div",{className:"bg-white rounded-lg shadow-md p-6",children:[(0,$e.jsx)("h1",{className:"text-2xl font-bold text-blue-900 mb-6 text-center",children:"Alterar Password"}),(0,$e.jsxs)("div",{className:"mb-4 text-center",children:[(0,$e.jsxs)("p",{className:"text-gray-600",children:["Utilizador: ",(0,$e.jsx)("strong",{children:h.Nome})]}),(0,$e.jsxs)("p",{className:"text-gray-600",children:["NIF: ",(0,$e.jsx)("strong",{children:h.NIF})]})]}),(0,$e.jsxs)("form",{onSubmit:async function(e){if(e.preventDefault(),o(""),d(""),m(!0),a.length<4)return o("A nova password deve ter pelo menos 4 caracteres."),void m(!1);if(a!==s)return o("A confirma\xe7\xe3o da password n\xe3o coincide."),void m(!1);try{const e=await He.changePassword(h.NIF,t,a);if(m(!1),e.success){const e=ze(ze({},h),{},{Password:a});sessionStorage.setItem("loggedUser",JSON.stringify(e)),d("Password alterada com sucesso na base de dados!"),n(""),r(""),i(""),setTimeout(()=>{p("/condo-info")},2e3)}else o(e.error||"Erro ao alterar a password. Tente novamente.")}catch(l){console.error("Password update error:",l),o("Erro ao conectar \xe0 base de dados. Tente novamente."),m(!1)}m(!1)},className:"space-y-4",children:[(0,$e.jsxs)("div",{children:[(0,$e.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Password Atual"}),(0,$e.jsx)("input",{type:"password",value:t,onChange:e=>n(e.target.value),className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-blue-500",required:!0,placeholder:"Digite a sua password atual"})]}),(0,$e.jsxs)("div",{children:[(0,$e.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Nova Password"}),(0,$e.jsx)("input",{type:"password",value:a,onChange:e=>r(e.target.value),className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-blue-500",required:!0,placeholder:"Digite a nova password",minLength:"4"})]}),(0,$e.jsxs)("div",{children:[(0,$e.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Confirmar Nova Password"}),(0,$e.jsx)("input",{type:"password",value:s,onChange:e=>i(e.target.value),className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-blue-500",required:!0,placeholder:"Confirme a nova password",minLength:"4"})]}),l&&(0,$e.jsx)("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-lg",children:l}),c&&(0,$e.jsxs)("div",{className:"bg-green-50 border border-green-200 text-green-700 px-4 py-3 rounded-lg",children:[(0,$e.jsx)("div",{children:c}),(0,$e.jsxs)("div",{className:"text-sm mt-2",children:[(0,$e.jsx)("strong",{children:"Instru\xe7\xf5es:"}),(0,$e.jsxs)("ol",{className:"list-decimal list-inside mt-1",children:[(0,$e.jsx)("li",{children:"Guarde o ficheiro transferido"}),(0,$e.jsx)("li",{children:'Substitua o ficheiro "csv grupos.csv" na pasta "public" do projeto'}),(0,$e.jsx)("li",{children:"A altera\xe7\xe3o ficar\xe1 permanente"})]})]})]}),(0,$e.jsxs)("div",{className:"flex space-x-3",children:[(0,$e.jsx)("button",{type:"submit",disabled:u,className:"flex-1 py-2 rounded-lg font-medium transition-all ".concat(u?"bg-gray-300 text-gray-500 cursor-not-allowed":"bg-blue-700 hover:bg-blue-800 text-white btn-animated"),children:u?"A alterar...":"Alterar Password"}),(0,$e.jsx)(_e,{to:"/condo-info",className:"flex-1 py-2 bg-gray-500 hover:bg-gray-600 text-white rounded-lg text-center btn-animated",children:"Cancelar"})]})]})]})})})})}function ot(){const[t,n]=(0,e.useState)([]),[a,r]=(0,e.useState)(!0),[s,i]=(0,e.useState)(""),[l,o]=(0,e.useState)(""),[c,d]=(0,e.useState)("nome"),[u,m]=(0,e.useState)(!1),[p,h]=(0,e.useState)(0),[f,x]=(0,e.useState)(null),[g,b]=(0,e.useState)("asc"),v=ee();(0,e.useEffect)(()=>{const e=sessionStorage.getItem("adminUser"),t=sessionStorage.getItem("isAdmin");e&&"true"===t?(m(!0),j(),y()):v("/login")},[v]);const y=async()=>{try{const e=await He.getUnreadNotificationsCount();h(e.count||0)}catch(s){console.error("Error loading unread notifications:",s)}},j=async()=>{try{r(!0),console.log("\ud83d\udd04 Loading users from API...");const e=await He.getAllUsers();if(console.log("\u2705 API Response received:",e),console.log("\ud83d\udcca Users count:",Array.isArray(e)?e.length:"Not an array"),console.log("\ud83d\udd0d First user sample:",Array.isArray(e)&&e.length>0?e[0]:"No users"),Array.isArray(e)){const t=e.map(e=>{const t=e.condominiumsList&&e.condominiumsList.length>0?e.condominiumsList:e.condominiums||[];return ze(ze({},e),{},{condominiumsList:t})});n(t),i(""),console.log("\u2705 Users state updated successfully")}else console.error("\u274c Invalid response format:",e),i("Resposta inv\xe1lida do servidor")}catch(s){console.error("\u274c Error loading users:",s),i("Erro de liga\xe7\xe3o \xe0 base de dados")}finally{r(!1)}},N=t.filter(e=>{var t,n,a,r,s,i,o,d,u,m,p,h;const f=l.toLowerCase();switch(c){case"nome":return null===(t=e.nome)||void 0===t?void 0:t.toLowerCase().includes(f);case"nif":return null===(n=e.nif)||void 0===n?void 0:n.toLowerCase().includes(f);case"condo":return(null===(a=e.condominiumsList)||void 0===a?void 0:a.some(e=>{var t;return null===(t=e.name)||void 0===t?void 0:t.toLowerCase().includes(f)}))||(null===(r=e.grupo)||void 0===r?void 0:r.toLowerCase().includes(f));case"telemovel":return null===(s=e.telemovel)||void 0===s?void 0:s.toLowerCase().includes(f);case"email":return(null===(i=e.email1)||void 0===i?void 0:i.toLowerCase().includes(f))||(null===(o=e.email2)||void 0===o?void 0:o.toLowerCase().includes(f))||(null===(d=e.email3)||void 0===d?void 0:d.toLowerCase().includes(f));default:return(null===(u=e.nome)||void 0===u?void 0:u.toLowerCase().includes(f))||(null===(m=e.nif)||void 0===m?void 0:m.toLowerCase().includes(f))||(null===(p=e.grupo)||void 0===p?void 0:p.toLowerCase().includes(f))||(null===(h=e.email1)||void 0===h?void 0:h.toLowerCase().includes(f))}}),w=(0,e.useMemo)(()=>{const e=Array.isArray(N)?[...N]:[];return f?(e.sort((e,t)=>((e,t,n)=>{if(!e&&!t)return 0;if(!e)return-1;if(!t)return 1;try{switch(n){case"nome":default:return(e.nome||"").toString().localeCompare((t.nome||"").toString(),"pt",{numeric:!0});case"nif":return(e.nif||"").toString().localeCompare((t.nif||"").toString(),"pt",{numeric:!0});case"telemovel":return(e.telemovel||"").toString().localeCompare((t.telemovel||"").toString(),"pt",{numeric:!0});case"condominios":{const n=(e.condominiumsList||[]).map(e=>e.name).join(", "),a=(t.condominiumsList||[]).map(e=>e.name).join(", ");return n.toString().localeCompare(a.toString(),"pt",{numeric:!0})}case"created_at":return(e.created_at?new Date(e.created_at).getTime():0)-(t.created_at?new Date(t.created_at).getTime():0)}}catch(Ut){return(e.nome||"").toString().localeCompare((t.nome||"").toString(),"pt",{numeric:!0})}})(e,t,f)),"desc"===g&&e.reverse(),e):e},[N,f,g]),k=e=>{f===e?b(e=>"asc"===e?"desc":"asc"):(x(e),b("asc"))};return u?a?(0,$e.jsx)("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:(0,$e.jsxs)("div",{className:"text-center",children:[(0,$e.jsx)("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-purple-600 mx-auto"}),(0,$e.jsx)("p",{className:"mt-4 text-gray-600",children:"A carregar base de dados..."})]})}):(0,$e.jsx)("div",{className:"min-h-screen bg-gray-50 py-8",children:(0,$e.jsxs)("div",{className:"container mx-auto px-4",children:[(0,$e.jsx)("div",{className:"bg-white rounded-lg shadow-md p-6 mb-6",children:(0,$e.jsxs)("div",{className:"flex justify-between items-center",children:[(0,$e.jsxs)("div",{children:[(0,$e.jsx)("h1",{className:"text-3xl font-bold text-purple-900 mb-2",children:"\ud83d\uddc4\ufe0f Administra\xe7\xe3o da Base de Dados"}),(0,$e.jsxs)("p",{className:"text-gray-600",children:["Total de utilizadores: ",(0,$e.jsx)("span",{className:"font-bold text-purple-700",children:t.length})]})]}),(0,$e.jsxs)("div",{className:"space-x-2",children:[(0,$e.jsx)("button",{onClick:()=>{j(),y()},className:"bg-purple-700 text-white px-4 py-2 rounded hover:bg-purple-800 transition-colors",children:"\ud83d\udd04 Atualizar"}),(0,$e.jsx)("button",{onClick:()=>{sessionStorage.removeItem("adminUser"),sessionStorage.removeItem("isAdmin");try{window.dispatchEvent(new Event("adminLoggedIn")),window.dispatchEvent(new Event("userLoggedIn"))}catch(Ut){}v("/login")},className:"bg-red-600 text-white px-4 py-2 rounded hover:bg-red-700 transition-colors",children:"Logout Admin"})]})]})}),(0,$e.jsxs)("div",{className:"bg-white rounded-lg shadow-md p-6 mb-6",children:[(0,$e.jsx)("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"\ud83d\udee0\ufe0f Ferramentas de Administra\xe7\xe3o"}),(0,$e.jsxs)("div",{className:"flex flex-wrap gap-4",children:[(0,$e.jsx)("button",{onClick:()=>v("/admin/assembleias"),className:"dashboard-button",children:"\ud83d\udcc5 Gest\xe3o de Assembleias"}),(0,$e.jsx)("button",{onClick:()=>v("/admin/reclamacoes"),className:"dashboard-button",style:{background:"linear-gradient(135deg, #ef4444 0%, #dc2626 100%)"},children:"\ud83d\udcdd Reclama\xe7\xf5es"}),(0,$e.jsx)("button",{onClick:()=>v("/admin/pedidos"),className:"dashboard-button contact",children:"\ud83d\udccb Pedidos"}),(0,$e.jsx)("button",{onClick:()=>v("/admin/ocorrencias"),className:"dashboard-button",style:{background:"linear-gradient(135deg, #8b5cf6 0%, #7c3aed 100%)"},children:"\ud83d\udd27 Ocorr\xeancias"}),(0,$e.jsx)("button",{onClick:()=>v("/admin/condos"),className:"dashboard-button",style:{background:"linear-gradient(135deg, #059669 0%, #047857 100%)"},children:"\ud83c\udfe2 Gest\xe3o de Condom\xednios"}),(0,$e.jsxs)("button",{onClick:()=>v("/admin/notifications"),className:"dashboard-button relative",style:{background:"linear-gradient(135deg, #dc2626 0%, #b91c1c 100%)"},children:["\ud83d\udd14 Notifica\xe7\xf5es",p>0&&(0,$e.jsx)("span",{className:"absolute -top-2 -right-2 bg-red-500 text-white text-xs rounded-full h-6 w-6 flex items-center justify-center font-bold",children:p>99?"99+":p})]})]})]}),(0,$e.jsxs)("div",{className:"bg-white rounded-lg shadow-md p-6 mb-6",children:[(0,$e.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,$e.jsxs)("div",{className:"w-1/4",children:[(0,$e.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"\ud83d\udd0d Procurar por"}),(0,$e.jsxs)("select",{value:c,onChange:e=>d(e.target.value),className:"w-full border border-gray-300 rounded-lg px-4 py-2 focus:ring-2 focus:ring-purple-500",children:[(0,$e.jsx)("option",{value:"nome",children:"Nome"}),(0,$e.jsx)("option",{value:"nif",children:"NIF"}),(0,$e.jsx)("option",{value:"condo",children:"Condom\xednio"}),(0,$e.jsx)("option",{value:"telemovel",children:"Telem\xf3vel"}),(0,$e.jsx)("option",{value:"email",children:"Email"})]})]}),(0,$e.jsxs)("div",{className:"flex-1",children:[(0,$e.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Termo de pesquisa"}),(0,$e.jsx)("input",{type:"text",value:l,onChange:e=>o(e.target.value),className:"w-full border border-gray-300 rounded-lg px-4 py-2 focus:ring-2 focus:ring-purple-500",placeholder:"Digite para procurar por ".concat(c,"...")})]}),(0,$e.jsxs)("div",{className:"text-sm text-gray-600 pt-6",children:[N.length," resultado(s)"]})]}),(0,$e.jsx)("div",{className:"mt-3 text-center",children:(0,$e.jsx)("p",{className:"text-sm text-purple-600",children:"\ud83d\udca1 Clique em qualquer linha da tabela para ver e editar os detalhes do utilizador"})})]}),s&&(0,$e.jsx)("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-lg mb-6",children:s}),(0,$e.jsx)("div",{className:"bg-white rounded-lg shadow-md overflow-hidden",children:(0,$e.jsx)("div",{className:"max-h-[56vh] overflow-y-auto",children:(0,$e.jsxs)("table",{className:"min-w-full divide-y divide-gray-200 table-fixed",children:[(0,$e.jsx)("thead",{className:"bg-gray-50",children:(0,$e.jsxs)("tr",{children:[(0,$e.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"ID"}),(0,$e.jsxs)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer select-none",onClick:()=>k("nome"),title:"Ordenar por Nome",children:["Nome ","nome"===f&&("asc"===g?"\u25b2":"\u25bc")]}),(0,$e.jsxs)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer select-none",onClick:()=>k("nif"),title:"Ordenar por NIF",children:["NIF ","nif"===f&&("asc"===g?"\u25b2":"\u25bc")]}),(0,$e.jsxs)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer select-none",onClick:()=>k("condominios"),title:"Ordenar por Condom\xednios",children:["Condom\xednios ","condominios"===f&&("asc"===g?"\u25b2":"\u25bc")]}),(0,$e.jsxs)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer select-none",onClick:()=>k("telemovel"),title:"Ordenar por Telem\xf3vel",children:["Telem\xf3vel ","telemovel"===f&&("asc"===g?"\u25b2":"\u25bc")]}),(0,$e.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Email"}),(0,$e.jsxs)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer select-none",onClick:()=>k("created_at"),title:"Ordenar por Data de cria\xe7\xe3o",children:["Criado em ","created_at"===f&&("asc"===g?"\u25b2":"\u25bc")]}),(0,$e.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"A\xe7\xf5es"})]})}),(0,$e.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:w.map(e=>(0,$e.jsxs)("tr",{className:"hover:bg-purple-50 cursor-pointer transition-colors",onClick:()=>v("/user/".concat(e.id)),title:"Clique para ver detalhes do utilizador",children:[(0,$e.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:["#",e.id]}),(0,$e.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:e.nome}),(0,$e.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500 font-mono",children:e.nif}),(0,$e.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:e.condominiumsList&&e.condominiumsList.length>0?(0,$e.jsxs)("div",{className:"flex flex-wrap gap-1",children:[e.condominiumsList.map((e,t)=>(0,$e.jsx)("span",{className:"inline-flex items-center px-2 py-0.5 rounded-full text-xs font-medium bg-purple-100 text-purple-800",children:e.name},t)),e.condominiumsList.length>3&&(0,$e.jsxs)("span",{className:"text-xs text-gray-500",children:["+",e.condominiumsList.length-3," mais"]})]}):(0,$e.jsx)("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-gray-100 text-gray-800",children:"Nenhum"})}),(0,$e.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:e.telemovel||"\u2014"}),(0,$e.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:e.email1||"\u2014"}),(0,$e.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:new Date(e.created_at).toLocaleString("pt-PT")}),(0,$e.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:(0,$e.jsx)("button",{onClick:a=>{a.stopPropagation(),(async(e,a)=>{if(window.confirm('Tem certeza de que deseja eliminar o utilizador "'.concat(a,'"? Esta a\xe7\xe3o n\xe3o pode ser desfeita.')))try{await He.deleteUser(e),n(t.filter(t=>t.id!==e)),alert("Utilizador eliminado com sucesso!")}catch(s){console.error("Error deleting user:",s),alert("Erro ao eliminar utilizador: ".concat(s.message))}})(e.id,e.nome)},className:"bg-red-600 text-white px-3 py-1 rounded hover:bg-red-700 transition-colors text-xs",title:"Eliminar utilizador ".concat(e.nome),children:"\ud83d\uddd1\ufe0f Eliminar"})})]},e.id))})]})})}),0===N.length&&!a&&(0,$e.jsxs)("div",{className:"text-center py-12",children:[(0,$e.jsx)("div",{className:"text-gray-400 text-6xl mb-4",children:"\ud83d\udd0d"}),(0,$e.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Nenhum utilizador encontrado"}),(0,$e.jsx)("p",{className:"text-gray-500",children:"Tente ajustar os crit\xe9rios de pesquisa."})]}),(0,$e.jsx)("div",{className:"mt-8 bg-purple-50 border border-purple-200 rounded-lg p-4",children:(0,$e.jsxs)("div",{className:"text-center",children:[(0,$e.jsx)("p",{className:"text-sm text-purple-700 font-medium",children:"\ud83d\udd10 Acesso de Administrador Ativo"}),(0,$e.jsx)("p",{className:"text-xs text-purple-600 mt-1",children:"Esta \xe1rea \xe9 restrita apenas a administradores autenticados \u2022 \ud83d\udcca Base de dados SQLite \u2022 \ud83d\udd04 Atualiza\xe7\xf5es em tempo real"})]})})]})}):null}function ct(){const{userId:t}=te(),n=ee(),[a,r]=(0,e.useState)(null),[s,i]=(0,e.useState)(!0),[l,o]=(0,e.useState)(""),[c,d]=(0,e.useState)(!1),[u,m]=(0,e.useState)({}),[p,h]=(0,e.useState)(!1),[f,x]=(0,e.useState)(!1);(0,e.useEffect)(()=>{const e=sessionStorage.getItem("adminUser"),t=sessionStorage.getItem("isAdmin");e&&"true"===t?(x(!0),g()):n("/login")},[t,n]);const g=async()=>{try{i(!0);const e=await He.getUserById(t);if(e&&!e.error){if((!e.condominiumsList||0===e.condominiumsList.length)&&e.id)try{const t=await He.getUserCondominiums(e.id);Array.isArray(t)&&t.length>0?e.condominiumsList=t.map(e=>({id:e.id,name:e.name||e.nome||"",apartment:e.apartment||e.apartamento||""})):e.condominiumsList=[]}catch(Ut){console.error("Error fetching normalized condominiums in fallback:",Ut),e.condominiumsList=[]}r(e),m(e),o("")}else o((null===e||void 0===e?void 0:e.error)||"Utilizador n\xe3o encontrado")}catch(l){console.error("Error loading user:",l),o("Erro ao carregar dados do utilizador")}finally{i(!1)}},b=(e,t)=>{m(n=>ze(ze({},n),{},{[e]:t}))};return f?s?(0,$e.jsx)("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:(0,$e.jsxs)("div",{className:"text-center",children:[(0,$e.jsx)("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-purple-600 mx-auto"}),(0,$e.jsx)("p",{className:"mt-4 text-gray-600",children:"A carregar dados do utilizador..."})]})}):l&&!a?(0,$e.jsx)("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:(0,$e.jsxs)("div",{className:"text-center",children:[(0,$e.jsx)("div",{className:"text-red-600 mb-4",children:(0,$e.jsx)("svg",{className:"mx-auto h-24 w-24",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,$e.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),(0,$e.jsx)("h3",{className:"text-xl font-medium text-gray-900 mb-2",children:"Erro ao carregar utilizador"}),(0,$e.jsx)("p",{className:"text-gray-600 mb-4",children:l}),(0,$e.jsx)("button",{onClick:()=>n("/database-admin"),className:"bg-purple-600 text-white px-4 py-2 rounded-md hover:bg-purple-700",children:"Voltar \xe0 Administra\xe7\xe3o"})]})}):(0,$e.jsx)("div",{className:"min-h-screen bg-gray-50 py-8",children:(0,$e.jsxs)("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8",children:[(0,$e.jsx)("div",{className:"bg-white shadow rounded-lg mb-6",children:(0,$e.jsxs)("div",{className:"px-6 py-4 border-b border-gray-200 flex justify-between items-center",children:[(0,$e.jsxs)("div",{children:[(0,$e.jsx)("button",{onClick:()=>n("/database-admin"),className:"text-purple-600 hover:text-purple-700 mb-2 flex items-center",children:"\u2190 Voltar \xe0 Administra\xe7\xe3o"}),(0,$e.jsx)("h1",{className:"text-2xl font-bold text-gray-900",children:"Perfil do Utilizador"}),(0,$e.jsxs)("p",{className:"text-sm text-gray-600 mt-1",children:["ID: #",null===a||void 0===a?void 0:a.id," \u2022 ",c?"Modo de Edi\xe7\xe3o":"Modo de Visualiza\xe7\xe3o"]})]}),(0,$e.jsx)("div",{className:"space-x-2",children:c?(0,$e.jsxs)("div",{className:"space-x-2",children:[(0,$e.jsx)("button",{onClick:()=>{m(a),d(!1),o("")},className:"bg-gray-500 text-white px-4 py-2 rounded-md hover:bg-gray-600",children:"Cancelar"}),(0,$e.jsx)("button",{onClick:async()=>{try{h(!0);const e=await He.updateUser(t,u);e.success?(r(u),d(!1),o(""),alert("Dados atualizados com sucesso!")):o(e.error||"Erro ao atualizar dados")}catch(l){console.error("Error updating user:",l),o("Erro ao guardar altera\xe7\xf5es")}finally{h(!1)}},disabled:p,className:"bg-green-600 text-white px-4 py-2 rounded-md hover:bg-green-700 disabled:bg-green-400",children:p?"A guardar...":"\ud83d\udcbe Guardar"})]}):(0,$e.jsx)("button",{onClick:()=>d(!0),className:"bg-purple-600 text-white px-4 py-2 rounded-md hover:bg-purple-700",children:"\u270f\ufe0f Editar"})})]})}),l&&(0,$e.jsx)("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-lg mb-6",children:l}),(0,$e.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,$e.jsxs)("div",{className:"bg-white shadow rounded-lg",children:[(0,$e.jsx)("div",{className:"px-6 py-4 border-b border-gray-200",children:(0,$e.jsx)("h2",{className:"text-lg font-medium text-gray-900",children:"\ud83d\udc64 Informa\xe7\xf5es Pessoais"})}),(0,$e.jsxs)("div",{className:"px-6 py-4 space-y-4",children:[(0,$e.jsxs)("div",{children:[(0,$e.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Nome Completo"}),c?(0,$e.jsx)("input",{type:"text",value:u.nome||"",onChange:e=>b("nome",e.target.value),className:"w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-purple-500"}):(0,$e.jsx)("p",{className:"text-gray-900 font-medium",children:(null===a||void 0===a?void 0:a.nome)||"N/A"})]}),(0,$e.jsxs)("div",{children:[(0,$e.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"NIF"}),c?(0,$e.jsx)("input",{type:"text",value:u.nif||"",onChange:e=>b("nif",e.target.value),className:"w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-purple-500"}):(0,$e.jsx)("p",{className:"text-gray-900 font-mono",children:(null===a||void 0===a?void 0:a.nif)||"N/A"})]}),(0,$e.jsxs)("div",{children:[(0,$e.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Condom\xednios"}),c?(0,$e.jsxs)("div",{className:"space-y-2",children:[(0,$e.jsx)("p",{className:"text-sm text-gray-600",children:"Para editar associa\xe7\xf5es de condom\xednios, contacte o administrador do sistema."}),null!==a&&void 0!==a&&a.condominiumsList&&a.condominiumsList.length>0||null!==a&&void 0!==a&&a.condominiums&&a.condominiums.length>0?(0,$e.jsx)("div",{className:"flex flex-wrap gap-2",children:(a.condominiumsList||a.condominiums||[]).map((e,t)=>(0,$e.jsx)("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-sm font-medium bg-purple-100 text-purple-800",children:e.name||e.nome},t))}):null]}):(0,$e.jsx)("div",{children:null!==a&&void 0!==a&&a.condominiumsList&&a.condominiumsList.length>0||null!==a&&void 0!==a&&a.condominiums&&a.condominiums.length>0?(0,$e.jsx)("div",{className:"flex flex-wrap gap-2",children:(a.condominiumsList||a.condominiums||[]).map((e,t)=>(0,$e.jsxs)("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-sm font-medium bg-purple-100 text-purple-800",children:[e.name||e.nome,(e.apartment||e.apartamento)&&(0,$e.jsxs)("span",{className:"ml-1 text-purple-600",children:["(Apt: ",e.apartment||e.apartamento,")"]})]},t))}):(0,$e.jsx)("p",{className:"text-gray-500 italic",children:"Nenhum condom\xednio associado"})})]}),(0,$e.jsxs)("div",{children:[(0,$e.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"C\xf4njuge"}),c?(0,$e.jsx)("input",{type:"text",value:u.conjuge||"",onChange:e=>b("conjuge",e.target.value),className:"w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-purple-500"}):(0,$e.jsx)("p",{className:"text-gray-900",children:(null===a||void 0===a?void 0:a.conjuge)||"N/A"})]})]})]}),(0,$e.jsxs)("div",{className:"bg-white shadow rounded-lg",children:[(0,$e.jsx)("div",{className:"px-6 py-4 border-b border-gray-200",children:(0,$e.jsx)("h2",{className:"text-lg font-medium text-gray-900",children:"\ud83d\udcde Informa\xe7\xf5es de Contacto"})}),(0,$e.jsxs)("div",{className:"px-6 py-4 space-y-4",children:[(0,$e.jsxs)("div",{children:[(0,$e.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Telem\xf3vel"}),c?(0,$e.jsx)("input",{type:"text",value:u.telemovel||"",onChange:e=>b("telemovel",e.target.value),className:"w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-purple-500"}):(0,$e.jsx)("p",{className:"text-gray-900",children:(null===a||void 0===a?void 0:a.telemovel)||"N/A"})]}),(0,$e.jsxs)("div",{children:[(0,$e.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Telefone"}),c?(0,$e.jsx)("input",{type:"text",value:u.telefone||"",onChange:e=>b("telefone",e.target.value),className:"w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-purple-500"}):(0,$e.jsx)("p",{className:"text-gray-900",children:(null===a||void 0===a?void 0:a.telefone)||"N/A"})]}),(0,$e.jsxs)("div",{children:[(0,$e.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email Principal"}),c?(0,$e.jsx)("input",{type:"email",value:u.email1||"",onChange:e=>b("email1",e.target.value),className:"w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-purple-500"}):(0,$e.jsx)("p",{className:"text-gray-900",children:(null===a||void 0===a?void 0:a.email1)||"N/A"})]}),(0,$e.jsxs)("div",{children:[(0,$e.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email Secund\xe1rio"}),c?(0,$e.jsx)("input",{type:"email",value:u.email2||"",onChange:e=>b("email2",e.target.value),className:"w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-purple-500"}):(0,$e.jsx)("p",{className:"text-gray-900",children:(null===a||void 0===a?void 0:a.email2)||"N/A"})]}),(0,$e.jsxs)("div",{children:[(0,$e.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email Terci\xe1rio"}),c?(0,$e.jsx)("input",{type:"email",value:u.email3||"",onChange:e=>b("email3",e.target.value),className:"w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-purple-500"}):(0,$e.jsx)("p",{className:"text-gray-900",children:(null===a||void 0===a?void 0:a.email3)||"N/A"})]})]})]}),(0,$e.jsxs)("div",{className:"bg-white shadow rounded-lg",children:[(0,$e.jsx)("div",{className:"px-6 py-4 border-b border-gray-200",children:(0,$e.jsx)("h2",{className:"text-lg font-medium text-gray-900",children:"\ud83d\udd12 Permiss\xf5es"})}),(0,$e.jsxs)("div",{className:"px-6 py-4 space-y-4",children:[(0,$e.jsxs)("div",{children:[(0,$e.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Permite Telefone"}),c?(0,$e.jsxs)("select",{value:u.permite_telefone||"",onChange:e=>b("permite_telefone",e.target.value),className:"w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-purple-500",children:[(0,$e.jsx)("option",{value:"",children:"Selecionar..."}),(0,$e.jsx)("option",{value:"Sim",children:"Sim"}),(0,$e.jsx)("option",{value:"N\xe3o",children:"N\xe3o"})]}):(0,$e.jsx)("p",{className:"text-gray-900",children:(null===a||void 0===a?void 0:a.permite_telefone)||"N/A"})]}),(0,$e.jsxs)("div",{children:[(0,$e.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Permite Email"}),c?(0,$e.jsxs)("select",{value:u.permite_email||"",onChange:e=>b("permite_email",e.target.value),className:"w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-purple-500",children:[(0,$e.jsx)("option",{value:"",children:"Selecionar..."}),(0,$e.jsx)("option",{value:"Sim",children:"Sim"}),(0,$e.jsx)("option",{value:"N\xe3o",children:"N\xe3o"})]}):(0,$e.jsx)("p",{className:"text-gray-900",children:(null===a||void 0===a?void 0:a.permite_email)||"N/A"})]})]})]}),(0,$e.jsxs)("div",{className:"bg-white shadow rounded-lg",children:[(0,$e.jsx)("div",{className:"px-6 py-4 border-b border-gray-200",children:(0,$e.jsx)("h2",{className:"text-lg font-medium text-gray-900",children:"\u2699\ufe0f Informa\xe7\xf5es do Sistema"})}),(0,$e.jsxs)("div",{className:"px-6 py-4 space-y-4",children:[(0,$e.jsxs)("div",{children:[(0,$e.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Nova Password"}),c?(0,$e.jsx)("input",{type:"password",value:u.newPassword||"",onChange:e=>b("newPassword",e.target.value),placeholder:"Deixe vazio para manter a password atual",className:"w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-purple-500"}):(0,$e.jsx)("p",{className:"text-gray-500",children:"\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022"}),c&&(0,$e.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"Deixe vazio para manter a password atual"})]}),(0,$e.jsxs)("div",{children:[(0,$e.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Data de Cria\xe7\xe3o"}),(0,$e.jsx)("p",{className:"text-gray-900",children:(null===a||void 0===a?void 0:a.data_criacao)||"N/A"})]}),(0,$e.jsxs)("div",{children:[(0,$e.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Data de Altera\xe7\xe3o"}),(0,$e.jsx)("p",{className:"text-gray-900",children:(null===a||void 0===a?void 0:a.data_alteracao)||"N/A"})]}),(0,$e.jsxs)("div",{children:[(0,$e.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Criado no Sistema"}),(0,$e.jsx)("p",{className:"text-gray-900",children:null!==a&&void 0!==a&&a.created_at?new Date(a.created_at).toLocaleString("pt-PT"):"N/A"})]}),(0,$e.jsxs)("div",{children:[(0,$e.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"\xdaltima Atualiza\xe7\xe3o"}),(0,$e.jsx)("p",{className:"text-gray-900",children:null!==a&&void 0!==a&&a.updated_at?new Date(a.updated_at).toLocaleString("pt-PT"):"N/A"})]})]})]})]}),(0,$e.jsx)("div",{className:"mt-6 bg-purple-50 border border-purple-200 rounded-lg p-4",children:(0,$e.jsxs)("div",{className:"text-center",children:[(0,$e.jsx)("p",{className:"text-sm text-purple-700 font-medium",children:"\ud83d\udd10 \xc1rea de Administra\xe7\xe3o"}),(0,$e.jsx)("p",{className:"text-xs text-purple-600 mt-1",children:"Apenas administradores podem visualizar e editar estas informa\xe7\xf5es"})]})})]})}):null}function dt(){const[t,n]=(0,e.useState)([]),[a,r]=(0,e.useState)([]),[s,i]=(0,e.useState)(!0),[l,o]=(0,e.useState)(""),[c,d]=(0,e.useState)(""),[u,m]=(0,e.useState)(!1),[p,h]=(0,e.useState)(null),f=ee(),[x,g]=(0,e.useState)({condominium_id:"",title:"",description:"",date:"",time:"",location:"",status:"scheduled",admin_notes:""}),[b,v]=(0,e.useState)(null),[y,j]=(0,e.useState)(!1),[N,w]=(0,e.useState)({}),[k,S]=(0,e.useState)(!1),[C,E]=(0,e.useState)(null);(0,e.useEffect)(()=>{const e=sessionStorage.getItem("adminUser"),t=sessionStorage.getItem("isAdmin");e&&"true"===t?(_(),P()):f("/login")},[f]);const _=async()=>{try{console.log("\ud83d\udd04 Loading condominiums using DatabaseAPI...");const e=await He.request("/condominiums");console.log("\ud83d\udcca Raw condominiums data:",e),console.log("\ud83d\udcca Sample condominium:",null===e||void 0===e?void 0:e[0]),r(e||[]),console.log("\u2705 Condominiums loaded:",(null===e||void 0===e?void 0:e.length)||0)}catch(l){console.error("\u274c Error loading condominiums:",l),o("Erro ao carregar condom\xednios: "+l.message)}},P=async()=>{try{i(!0),console.log("\ud83d\udd04 Loading assembleias using DatabaseAPI...");const e=c?"/condominiums/".concat(c,"/assembleias"):"/assembleias";console.log("\ud83d\udce1 Request endpoint:",e);const t=await He.request(e);console.log("\ud83d\udcca Raw assembleias data:",t),console.log("\ud83d\udcca Sample assembleia:",null===t||void 0===t?void 0:t[0]),n(t||[]),o(""),console.log("\u2705 Assembleias loaded:",(null===t||void 0===t?void 0:t.length)||0)}catch(l){console.error("\u274c Error loading assembleias:",l),o("Erro ao carregar assembleias: "+l.message)}finally{i(!1)}};(0,e.useEffect)(()=>{P()},[c]);const A=async e=>{try{console.log("\ud83d\udd04 Loading assembleia files using DatabaseAPI...");const t=await He.request("/assembleias/".concat(e,"/files"));w(n=>ze(ze({},n),{},{[e]:t||[]})),console.log("\u2705 Files loaded:",(null===t||void 0===t?void 0:t.length)||0)}catch(l){console.error("Error loading assembleia files:",l)}};return s?(0,$e.jsx)("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:(0,$e.jsxs)("div",{className:"text-center",children:[(0,$e.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto"}),(0,$e.jsx)("p",{className:"mt-4 text-gray-600",children:"A carregar assembleias..."})]})}):(console.log("\ud83c\udfa8 Rendering AssembleiasAdmin component"),console.log("\ud83d\udcca Current state:",{assembleias:t.length,condominiums:a.length,selectedCondominium:c,error:l}),(0,$e.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,$e.jsx)("div",{className:"bg-white shadow",children:(0,$e.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,$e.jsxs)("div",{className:"flex justify-between items-center py-6",children:[(0,$e.jsx)("div",{className:"flex items-center",children:(0,$e.jsx)("h1",{className:"text-3xl font-bold text-gray-900",children:"Gest\xe3o de Assembleias"})}),(0,$e.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,$e.jsx)("button",{onClick:()=>f("/admin"),className:"text-gray-600 hover:text-gray-900",children:"\u2190 Voltar ao Painel"}),(0,$e.jsx)("button",{onClick:()=>{sessionStorage.removeItem("adminUser"),sessionStorage.removeItem("isAdmin");try{window.dispatchEvent(new Event("adminLoggedIn")),window.dispatchEvent(new Event("userLoggedIn"))}catch(Ut){}f("/login")},className:"bg-red-600 text-white px-4 py-2 rounded-md hover:bg-red-700",children:"Sair"})]})]})})}),(0,$e.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[l&&(0,$e.jsx)("div",{className:"mb-4 bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded",children:l}),(0,$e.jsx)("div",{className:"bg-white rounded-lg shadow mb-6 p-6",children:(0,$e.jsxs)("div",{className:"flex flex-col sm:flex-row gap-4 items-center justify-between",children:[(0,$e.jsxs)("div",{className:"flex flex-col sm:flex-row gap-4 items-center",children:[(0,$e.jsx)("label",{className:"text-sm font-medium text-gray-700",children:"Filtrar por Condom\xednio:"}),(0,$e.jsxs)("select",{value:c,onChange:e=>d(e.target.value),className:"border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500",children:[(0,$e.jsx)("option",{value:"",children:"Todos os Condom\xednios"}),a.map(e=>{const t=e.name&&e.name.trim()||e.nome||e.Nome||"Condom\xednio ".concat(e.id);return(0,$e.jsx)("option",{value:e.id,children:t},e.id)})]})]}),(0,$e.jsxs)("button",{onClick:()=>m(!0),className:"bg-blue-600 text-white px-4 py-2 rounded-md hover:bg-blue-700 flex items-center gap-2",children:[(0,$e.jsx)("span",{className:"text-lg",children:"+"}),"Nova Assembleia"]})]})}),u&&(0,$e.jsxs)("div",{className:"bg-white rounded-lg shadow mb-6 p-6",children:[(0,$e.jsx)("h2",{className:"text-xl font-bold mb-4",children:p?"Editar Assembleia":"Nova Assembleia"}),(0,$e.jsxs)("form",{onSubmit:async e=>{e.preventDefault();try{const e=p?"/assembleias/".concat(p.id):"/assembleias",t=p?"PUT":"POST",n=await He.request(e,{method:t,body:x});console.log("\u2705 Assembleia saved successfully:",n),m(!1),h(null),g({condominium_id:"",title:"",description:"",date:"",time:"",location:"",status:"scheduled",admin_notes:""}),P()}catch(l){console.error("Error saving assembleia:",l),o("Erro ao salvar assembleia")}},className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,$e.jsxs)("div",{children:[(0,$e.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Condom\xednio *"}),(0,$e.jsxs)("select",{value:x.condominium_id,onChange:e=>g(ze(ze({},x),{},{condominium_id:e.target.value})),required:!0,className:"w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500",children:[(0,$e.jsx)("option",{value:"",children:"Selecionar Condom\xednio"}),a.map(e=>{const t=e.name&&e.name.trim()||e.nome||e.Nome||"Condom\xednio ".concat(e.id);return(0,$e.jsx)("option",{value:e.id,children:t},e.id)})]})]}),(0,$e.jsxs)("div",{children:[(0,$e.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"T\xedtulo *"}),(0,$e.jsx)("input",{type:"text",value:x.title,onChange:e=>g(ze(ze({},x),{},{title:e.target.value})),required:!0,className:"w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Ex: Assembleia Geral Ordin\xe1ria"})]}),(0,$e.jsxs)("div",{children:[(0,$e.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Data *"}),(0,$e.jsx)("input",{type:"date",value:x.date,onChange:e=>g(ze(ze({},x),{},{date:e.target.value})),required:!0,className:"w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),(0,$e.jsxs)("div",{children:[(0,$e.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Hora *"}),(0,$e.jsx)("input",{type:"time",value:x.time,onChange:e=>g(ze(ze({},x),{},{time:e.target.value})),required:!0,className:"w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),(0,$e.jsxs)("div",{children:[(0,$e.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Local"}),(0,$e.jsx)("input",{type:"text",value:x.location,onChange:e=>g(ze(ze({},x),{},{location:e.target.value})),className:"w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Ex: Sal\xe3o de Festas do Condom\xednio"})]}),(0,$e.jsxs)("div",{children:[(0,$e.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Status"}),(0,$e.jsxs)("select",{value:x.status,onChange:e=>g(ze(ze({},x),{},{status:e.target.value})),className:"w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500",children:[(0,$e.jsx)("option",{value:"scheduled",children:"Agendada"}),(0,$e.jsx)("option",{value:"completed",children:"Conclu\xedda"}),(0,$e.jsx)("option",{value:"cancelled",children:"Cancelada"})]})]}),(0,$e.jsxs)("div",{className:"md:col-span-2",children:[(0,$e.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Descri\xe7\xe3o"}),(0,$e.jsx)("textarea",{value:x.description,onChange:e=>g(ze(ze({},x),{},{description:e.target.value})),rows:3,className:"w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Ordem de trabalhos, observa\xe7\xf5es..."})]}),(0,$e.jsxs)("div",{className:"md:col-span-2",children:[(0,$e.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Notas da Administra\xe7\xe3o"}),(0,$e.jsx)("textarea",{value:x.admin_notes,onChange:e=>g(ze(ze({},x),{},{admin_notes:e.target.value})),rows:3,className:"w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Notas internas da administra\xe7\xe3o sobre a assembleia..."})]}),(0,$e.jsxs)("div",{className:"md:col-span-2 flex gap-3",children:[(0,$e.jsxs)("button",{type:"submit",className:"bg-blue-600 text-white px-4 py-2 rounded-md hover:bg-blue-700",children:[p?"Atualizar":"Criar"," Assembleia"]}),(0,$e.jsx)("button",{type:"button",onClick:()=>{m(!1),h(null),g({condominium_id:"",title:"",description:"",date:"",time:"",location:"",status:"scheduled",admin_notes:""}),v(null)},className:"bg-gray-300 text-gray-700 px-4 py-2 rounded-md hover:bg-gray-400",children:"Cancelar"})]})]})]}),(0,$e.jsxs)("div",{className:"bg-white rounded-lg shadow overflow-hidden",children:[(0,$e.jsx)("div",{className:"px-6 py-4 border-b border-gray-200",children:(0,$e.jsxs)("h2",{className:"text-lg font-medium text-gray-900",children:["Assembleias ",c&&(()=>{const e=a.find(e=>e.id==c),t=e&&(e.name&&e.name.trim()||e.nome||e.Nome);return t?"- ".concat(t):""})()]})}),0===t.length?(0,$e.jsx)("div",{className:"px-6 py-8 text-center text-gray-500",children:"Nenhuma assembleia encontrada."}):(0,$e.jsx)("div",{className:"overflow-x-auto",children:(0,$e.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,$e.jsx)("thead",{className:"bg-gray-50",children:(0,$e.jsxs)("tr",{children:[(0,$e.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Condom\xednio"}),(0,$e.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"T\xedtulo"}),(0,$e.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Data/Hora"}),(0,$e.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Local"}),(0,$e.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),(0,$e.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"A\xe7\xf5es"})]})}),(0,$e.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:t.map(e=>{return(0,$e.jsxs)("tr",{className:"hover:bg-gray-50",children:[(0,$e.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:e.condominium_name&&e.condominium_name.trim()||"Condom\xednio"}),(0,$e.jsxs)("td",{className:"px-6 py-4 text-sm text-gray-900",children:[(0,$e.jsx)("div",{className:"font-medium",children:e.title}),e.description&&(0,$e.jsx)("div",{className:"text-gray-500 text-xs mt-1",children:(e.description||"").length>50?"".concat((e.description||"").substring(0,50),"..."):e.description||""})]}),(0,$e.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:[(0,$e.jsx)("div",{children:(n=e.date,new Date(n+"T00:00:00").toLocaleDateString("pt-PT"))}),(0,$e.jsx)("div",{className:"text-gray-500",children:(t=e.time,t&&"string"===typeof t?t.length>=5?t.substring(0,5):t:"")})]}),(0,$e.jsx)("td",{className:"px-6 py-4 text-sm text-gray-900",children:e.location||"-"}),(0,$e.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,$e.jsx)("span",{className:"inline-flex px-2 py-1 text-xs font-semibold rounded-full ".concat("scheduled"===e.status?"bg-green-100 text-green-800":"completed"===e.status?"bg-blue-100 text-blue-800":"bg-red-100 text-red-800"),children:"scheduled"===e.status?"Agendada":"completed"===e.status?"Conclu\xedda":"Cancelada"})}),(0,$e.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:[(0,$e.jsx)("button",{onClick:()=>(e=>{h(e),g({condominium_id:e.condominium_id,title:e.title,description:e.description||"",date:e.date,time:e.time,location:e.location||"",status:e.status,admin_notes:e.admin_notes||""}),m(!0)})(e),className:"text-blue-600 hover:text-blue-900 mr-3",children:"Editar"}),"completed"===e.status&&(0,$e.jsx)("button",{onClick:()=>(e=>{E(e),S(!0),A(e.id)})(e),className:"text-green-600 hover:text-green-900 mr-3",children:"Arquivos"}),(0,$e.jsx)("button",{onClick:()=>(async e=>{if(window.confirm("Tem certeza que deseja excluir esta assembleia?"))try{const t=await He.request("/assembleias/".concat(e),{method:"DELETE"});console.log("\u2705 Assembleia deleted successfully:",t),P()}catch(l){console.error("Error deleting assembleia:",l),o("Erro ao excluir assembleia")}})(e.id),className:"text-red-600 hover:text-red-900",children:"Excluir"})]})]},e.id);var t,n})})]})})]})]}),k&&C&&(0,$e.jsx)("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50",children:(0,$e.jsx)("div",{className:"relative top-20 mx-auto p-5 border w-11/12 md:w-3/4 lg:w-1/2 shadow-lg rounded-md bg-white",children:(0,$e.jsxs)("div",{className:"mt-3",children:[(0,$e.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,$e.jsxs)("h3",{className:"text-lg font-medium text-gray-900",children:["Arquivos - ",C.title]}),(0,$e.jsx)("button",{onClick:()=>{S(!1),E(null),v(null)},className:"text-gray-400 hover:text-gray-600",children:"\u2715"})]}),(0,$e.jsxs)("div",{className:"mb-6 p-4 border border-gray-200 rounded-lg",children:[(0,$e.jsx)("h4",{className:"text-md font-medium text-gray-700 mb-3",children:"Upload de Arquivo PDF"}),(0,$e.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,$e.jsx)("input",{type:"file",accept:".pdf",onChange:e=>v(e.target.files[0]),className:"block w-full text-sm text-gray-500 file:mr-4 file:py-2 file:px-4 file:rounded-full file:border-0 file:text-sm file:font-semibold file:bg-blue-50 file:text-blue-700 hover:file:bg-blue-100"}),(0,$e.jsx)("button",{onClick:()=>(async e=>{if(b){j(!0);try{console.log("\ud83d\udcc1 File upload requested");const t=new FormData;t.append("file",b),await He.upload("/assembleias/".concat(e,"/files"),t),await A(e),o(""),v(null)}catch(l){console.error("Error uploading file:",l),o("Erro ao fazer upload do arquivo: "+(l.message||""))}finally{j(!1)}}else o("Por favor selecione um arquivo PDF")})(C.id),disabled:!b||y,className:"bg-blue-600 text-white px-4 py-2 rounded-md hover:bg-blue-700 disabled:bg-gray-400 disabled:cursor-not-allowed",children:y?"Enviando...":"Upload"})]}),b&&(0,$e.jsxs)("p",{className:"mt-2 text-sm text-gray-600",children:["Arquivo selecionado: ",b.name," (",(b.size/1024/1024).toFixed(2)," MB)"]})]}),(0,$e.jsxs)("div",{children:[(0,$e.jsx)("h4",{className:"text-md font-medium text-gray-700 mb-3",children:"Arquivos Dispon\xedveis"}),N[C.id]&&N[C.id].length>0?(0,$e.jsx)("div",{className:"space-y-2",children:N[C.id].map(e=>(0,$e.jsxs)("div",{className:"flex items-center justify-between p-3 border border-gray-200 rounded-lg",children:[(0,$e.jsxs)("div",{children:[(0,$e.jsx)("p",{className:"font-medium text-gray-900",children:e.original_filename}),(0,$e.jsxs)("p",{className:"text-sm text-gray-500",children:[(e.file_size/1024/1024).toFixed(2)," MB \u2022 Enviado em ",new Date(e.uploaded_at).toLocaleDateString("pt-PT")]})]}),(0,$e.jsxs)("div",{className:"flex space-x-2",children:[(0,$e.jsx)("button",{onClick:()=>(e=>{console.log("\ud83d\udce5 File download requested");const t=He.fileUrl(C.id,e);window.open(t,"_blank")})(e.id,e.original_filename),className:"text-blue-600 hover:text-blue-900 text-sm",children:"Descarregar"}),(0,$e.jsx)("button",{onClick:()=>(async(e,t)=>{if(window.confirm("Tem certeza que deseja excluir este arquivo?"))try{console.log("\ud83d\uddd1\ufe0f File deletion requested"),await He.request("/assembleias/".concat(t,"/files/").concat(e),{method:"DELETE"}),await A(t),o("")}catch(l){console.error("Error deleting file:",l),o("Erro ao excluir arquivo")}})(e.id,C.id),className:"text-red-600 hover:text-red-900 text-sm",children:"Eliminar"})]})]},e.id))}):(0,$e.jsx)("p",{className:"text-gray-500 text-center py-4",children:"Nenhum arquivo encontrado"})]})]})})})]}))}function ut(){const[t,n]=(0,e.useState)([]),[a,r]=(0,e.useState)(!0),[s,i]=(0,e.useState)(""),l=ee();(0,e.useEffect)(()=>{const e=JSON.parse(sessionStorage.getItem("loggedUser")||"{}");e.id?(async()=>{try{const a=await He.request("/users/".concat(e.id,"/assembleias-anteriores"));if(!a||0===a.length)return void n([]);const r=[];for(const e of a)try{(await He.request("/assembleias/".concat(e.id,"/files"))||[]).forEach(t=>r.push(ze(ze({},t),{},{assembleia_title:e.title,assembleia_date:e.date,condominium_name:e.condominium_name,admin_notes:e.admin_notes})))}catch(t){console.warn("Error loading files for assembleia",e.id,t)}n(r)}catch(s){console.error("Error loading assembly files for user:",s),i("Erro ao carregar documentos")}finally{r(!1)}})():l("/login")},[l]);const o=e=>new Date(e).toLocaleDateString("pt-PT");return a?(0,$e.jsx)("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:(0,$e.jsxs)("div",{className:"text-center",children:[(0,$e.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto"}),(0,$e.jsx)("p",{className:"mt-4 text-gray-600",children:"A carregar documentos..."})]})}):(0,$e.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,$e.jsx)("div",{className:"bg-white shadow",children:(0,$e.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,$e.jsxs)("div",{className:"flex justify-between items-center py-6",children:[(0,$e.jsx)("div",{className:"flex items-center",children:(0,$e.jsx)("h1",{className:"text-3xl font-bold text-gray-900",children:"Meus Documentos"})}),(0,$e.jsx)("div",{className:"flex items-center space-x-4",children:(0,$e.jsx)("button",{onClick:()=>l("/dashboard"),className:"text-gray-600 hover:text-gray-900",children:"\u2190 Voltar"})})]})})}),(0,$e.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[s&&(0,$e.jsx)("div",{className:"bg-red-50 border border-red-200 rounded-md p-4 mb-6",children:(0,$e.jsx)("div",{className:"flex",children:(0,$e.jsxs)("div",{className:"ml-3",children:[(0,$e.jsx)("h3",{className:"text-sm font-medium text-red-800",children:"Erro"}),(0,$e.jsx)("div",{className:"mt-2 text-sm text-red-700",children:(0,$e.jsx)("p",{children:s})})]})})}),(0,$e.jsxs)("div",{className:"bg-white rounded-lg shadow overflow-hidden",children:[(0,$e.jsxs)("div",{className:"px-6 py-4 border-b border-gray-200",children:[(0,$e.jsx)("h2",{className:"text-lg font-medium text-gray-900",children:"Documentos de Assembleias"}),(0,$e.jsx)("p",{className:"mt-1 text-sm text-gray-600",children:"Acesse os documentos das assembleias conclu\xeddas dos seus condom\xednios"})]}),0===t.length?(0,$e.jsxs)("div",{className:"px-6 py-8 text-center text-gray-500",children:[(0,$e.jsx)("div",{className:"mb-4",children:"\ud83d\udcc4"}),(0,$e.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Nenhum documento encontrado"}),(0,$e.jsx)("p",{className:"text-gray-600",children:"N\xe3o h\xe1 documentos dispon\xedveis das assembleias dos seus condom\xednios."})]}):(0,$e.jsx)("div",{className:"divide-y divide-gray-200",children:t.map(e=>{return(0,$e.jsx)("div",{className:"px-6 py-4 hover:bg-gray-50",children:(0,$e.jsxs)("div",{className:"flex items-center justify-between",children:[(0,$e.jsxs)("div",{className:"flex-1",children:[(0,$e.jsxs)("div",{className:"flex items-center",children:[(0,$e.jsx)("div",{className:"flex-shrink-0",children:(0,$e.jsx)("div",{className:"w-10 h-10 bg-red-100 rounded-lg flex items-center justify-center",children:(0,$e.jsx)("span",{className:"text-red-600 font-semibold text-sm",children:"PDF"})})}),(0,$e.jsxs)("div",{className:"ml-4",children:[(0,$e.jsx)("h3",{className:"text-sm font-medium text-gray-900",children:e.original_filename}),(0,$e.jsxs)("div",{className:"mt-1 text-sm text-gray-500",children:[(0,$e.jsxs)("p",{children:["Assembleia: ",e.assembleia_title]}),(0,$e.jsxs)("p",{children:["Condom\xednio: ",e.condominium_name]}),(0,$e.jsxs)("p",{children:["Data da Assembleia: ",o(e.assembleia_date)]})]})]})]}),e.admin_notes&&(0,$e.jsx)("div",{className:"mt-3 ml-14",children:(0,$e.jsx)("div",{className:"bg-blue-50 border-l-4 border-blue-400 p-3",children:(0,$e.jsx)("div",{className:"flex",children:(0,$e.jsx)("div",{children:(0,$e.jsxs)("p",{className:"text-sm text-blue-700",children:[(0,$e.jsx)("strong",{children:"Notas da Administra\xe7\xe3o:"})," ",e.admin_notes]})})})})})]}),(0,$e.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,$e.jsxs)("div",{className:"text-right text-sm text-gray-500",children:[(0,$e.jsx)("p",{children:(t=e.file_size,(t/1024/1024).toFixed(2)+" MB")}),(0,$e.jsxs)("p",{children:["Enviado em ",o(e.uploaded_at)]})]}),(0,$e.jsx)("button",{onClick:()=>(e=>{try{const t=He.assembleiaFileUrl(e.assembleia_id||e.assembleiaId||e.assembleia||e,e.id||e);window.open(t,"_blank")}catch(Ut){console.error("Error building download URL",Ut),i("Erro ao iniciar o download.")}})(e),className:"bg-blue-600 text-white px-4 py-2 rounded-md hover:bg-blue-700 text-sm",children:"Descarregar"})]})]})},e.id);var t})})]})]})]})}function mt(){const[t,n]=(0,e.useState)(null),[a,r]=(0,e.useState)([]),[s,i]=(0,e.useState)([]),[l,o]=(0,e.useState)(!0),[c,d]=(0,e.useState)(""),[u,m]=(0,e.useState)(!1),p=ee(),[h,f]=(0,e.useState)({condominium_id:"",type:"request",subject:"",message:""});(0,e.useEffect)(()=>{const e=JSON.parse(sessionStorage.getItem("loggedUser")||"{}");e.id?(n(e),x(e.id),g(e.id)):p("/login")},[p]);const x=async e=>{try{const t=await He.request("/users/".concat(e,"/messages"));i(Array.isArray(t)?t:t.data||[])}catch(c){console.error("Error loading messages:",c),d("Erro ao carregar mensagens")}finally{o(!1)}},g=async e=>{try{const t=await He.request("/users/".concat(e,"/condominiums"));r(t||[])}catch(Ut){console.error("Erro ao carregar condom\xednios do utilizador",Ut)}},b=e=>{const t={open:{label:"\ud83d\udd35 Aberto",class:"status-badge status-open"},in_progress:{label:"\ud83d\udfe1 Em Progresso",class:"status-badge status-in_progress"},resolved:{label:"\ud83d\udfe2 Resolvido",class:"status-badge status-resolved"},closed:{label:"\u26ab Fechado",class:"status-badge status-closed"}},n=t[e]||t.open;return(0,$e.jsx)("span",{className:n.class,children:n.label})},v=e=>new Date(e).toLocaleDateString("pt-PT",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"});return l?(0,$e.jsx)("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:(0,$e.jsxs)("div",{className:"text-center",children:[(0,$e.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto"}),(0,$e.jsx)("p",{className:"mt-4 text-gray-600",children:"A carregar mensagens..."})]})}):(0,$e.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,$e.jsx)("div",{className:"bg-white shadow",children:(0,$e.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,$e.jsxs)("div",{className:"flex justify-between items-center py-6",children:[(0,$e.jsx)("div",{className:"flex items-center",children:(0,$e.jsx)("h1",{className:"text-3xl font-bold text-gray-900",children:"\ud83d\udce7 Contactos / Meu Contacto"})}),(0,$e.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,$e.jsx)("button",{onClick:()=>m(!0),className:"btn-primary",children:"\u2709\ufe0f Nova Mensagem"}),(0,$e.jsx)("button",{onClick:()=>p("/dashboard"),className:"btn-secondary",children:"\u2190 Voltar"})]})]})})}),(0,$e.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[c&&(0,$e.jsx)("div",{className:"bg-red-50 border border-red-200 rounded-xl p-4 mb-6",children:(0,$e.jsx)("div",{className:"flex",children:(0,$e.jsxs)("div",{className:"ml-3",children:[(0,$e.jsx)("h3",{className:"text-sm font-medium text-red-800",children:"\u274c Erro"}),(0,$e.jsx)("div",{className:"mt-2 text-sm text-red-700",children:(0,$e.jsx)("p",{children:c})})]})})}),u&&(0,$e.jsxs)("div",{className:"dashboard-card mb-6 fade-in",children:[(0,$e.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,$e.jsx)("h2",{className:"text-xl font-bold text-blue-900",children:"\u2709\ufe0f Nova Mensagem"}),(0,$e.jsx)("button",{onClick:()=>{m(!1),d("")},className:"text-gray-400 hover:text-gray-600 text-2xl",children:"\u2715"})]}),(0,$e.jsxs)("form",{onSubmit:async e=>{if(e.preventDefault(),!h.condominium_id||!h.subject||!h.message)return void d("Todos os campos s\xe3o obrigat\xf3rios");const n={userId:t.id,condominiumId:h.condominium_id,type:h.type,subject:h.subject,message:h.message};console.log("Payload a ser enviado:",n);try{const a=await He.request("/messages",{method:"POST",body:n});if(a&&a.success){f({condominium_id:"",type:"request",subject:"",message:""}),m(!1),d(""),x(t.id);try{window.dispatchEvent(new Event("notificationCreated"))}catch(e){}}else d((null===a||void 0===a?void 0:a.error)||"Erro ao enviar mensagem")}catch(c){console.error("Error sending message:",c),d("Erro de conex\xe3o")}},className:"space-y-6",children:[(0,$e.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,$e.jsxs)("div",{children:[(0,$e.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"\ud83c\udfe2 Condom\xednio *"}),(0,$e.jsxs)("select",{value:h.condominium_id,onChange:e=>f(ze(ze({},h),{},{condominium_id:e.target.value})),required:!0,className:"form-input",children:[(0,$e.jsx)("option",{value:"",children:"Selecionar Condom\xednio"}),(a||[]).map(e=>(0,$e.jsx)("option",{value:e.id,children:e.name&&e.name.trim()||e.nome||e.Nome||"Condom\xednio ".concat(e.id)},e.id))]})]}),(0,$e.jsxs)("div",{children:[(0,$e.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"\ud83d\udcdd Tipo *"}),(0,$e.jsxs)("select",{value:h.type,onChange:e=>f(ze(ze({},h),{},{type:e.target.value})),className:"form-input",children:[(0,$e.jsx)("option",{value:"request",children:"\ud83d\udccb Pedido"}),(0,$e.jsx)("option",{value:"complaint",children:"\u26a0\ufe0f Reclama\xe7\xe3o"})]})]})]}),(0,$e.jsxs)("div",{children:[(0,$e.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"\ud83d\udccc Assunto *"}),(0,$e.jsx)("input",{type:"text",value:h.subject,onChange:e=>f(ze(ze({},h),{},{subject:e.target.value})),required:!0,className:"form-input",placeholder:"Ex: Problema com o elevador"})]}),(0,$e.jsxs)("div",{children:[(0,$e.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"\ud83d\udcac Mensagem *"}),(0,$e.jsx)("textarea",{value:h.message,onChange:e=>f(ze(ze({},h),{},{message:e.target.value})),required:!0,rows:4,className:"form-textarea",placeholder:"Descreva o seu pedido ou reclama\xe7\xe3o..."})]}),(0,$e.jsxs)("div",{className:"flex gap-3",children:[(0,$e.jsx)("button",{type:"submit",className:"btn-primary",children:"\ud83d\udce4 Enviar Mensagem"}),(0,$e.jsx)("button",{type:"button",onClick:()=>m(!1),className:"btn-secondary",children:"\u274c Cancelar"})]})]})]}),(0,$e.jsxs)("div",{className:"dashboard-card fade-in",children:[(0,$e.jsxs)("div",{className:"mb-6",children:[(0,$e.jsx)("h2",{className:"text-xl font-bold text-blue-900 flex items-center gap-2",children:"\ud83d\udcec Minhas Mensagens"}),(0,$e.jsx)("p",{className:"mt-2 text-sm text-gray-600",children:"Hist\xf3rico de pedidos e reclama\xe7\xf5es enviadas"})]}),0===s.length?(0,$e.jsxs)("div",{className:"px-6 py-8 text-center text-gray-500",children:[(0,$e.jsx)("div",{className:"mb-4",children:"\ud83d\udcac"}),(0,$e.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Nenhuma mensagem encontrada"}),(0,$e.jsx)("p",{className:"text-gray-600",children:"Ainda n\xe3o enviou nenhuma mensagem para a administra\xe7\xe3o."})]}):(0,$e.jsx)("div",{className:"divide-y divide-gray-200",children:s.map(e=>{return(0,$e.jsx)("div",{className:"px-6 py-4",children:(0,$e.jsxs)("div",{className:"flex items-start justify-between",children:[(0,$e.jsxs)("div",{className:"flex-1",children:[(0,$e.jsxs)("div",{className:"flex items-center space-x-2 mb-2",children:[(t=e.type,"complaint"===t?(0,$e.jsx)("span",{className:"inline-flex px-3 py-1 text-xs font-semibold rounded-full bg-gradient-to-r from-red-100 to-red-200 text-red-800",children:"\u26a0\ufe0f Reclama\xe7\xe3o"}):(0,$e.jsx)("span",{className:"inline-flex px-3 py-1 text-xs font-semibold rounded-full bg-gradient-to-r from-purple-100 to-purple-200 text-purple-800",children:"\ud83d\udccb Pedido"})),b(e.status),(0,$e.jsx)("span",{className:"text-sm text-gray-500",children:e.condominium_name})]}),(0,$e.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:e.subject}),(0,$e.jsx)("p",{className:"text-gray-700 mb-3",children:e.message}),e.admin_response&&(0,$e.jsx)("div",{className:"bg-blue-50 border-l-4 border-blue-400 p-3 mb-3",children:(0,$e.jsx)("div",{className:"flex",children:(0,$e.jsxs)("div",{children:[(0,$e.jsx)("p",{className:"text-sm font-medium text-blue-700",children:"Resposta da Administra\xe7\xe3o:"}),(0,$e.jsx)("p",{className:"text-sm text-blue-700 mt-1",children:e.admin_response})]})})}),e.files&&Array.isArray(e.files)&&e.files.length>0&&(0,$e.jsxs)("div",{className:"mb-3",children:[(0,$e.jsx)("p",{className:"text-sm font-medium text-gray-700 mb-2",children:"Anexos:"}),(0,$e.jsx)("div",{className:"flex flex-wrap gap-3",children:e.files.map(t=>{const n=t.mime_type&&t.mime_type.startsWith&&t.mime_type.startsWith("image"),a=t.url||(t.filename?He.fileUrl(e.id,t.id):"#");return n?(0,$e.jsx)("a",{href:a,target:"_blank",rel:"noreferrer",children:(0,$e.jsx)("img",{src:a,alt:t.original_filename||t.filename||"anexo",className:"h-24 w-24 object-cover rounded"})},t.id):(0,$e.jsx)("a",{href:a,target:"_blank",rel:"noreferrer",className:"text-sm text-blue-600 underline",children:t.original_filename||t.filename||"Anexo"},t.id)})})]})]}),(0,$e.jsxs)("div",{className:"text-right text-sm text-gray-500",children:[(0,$e.jsx)("p",{children:v(e.created_at)}),e.updated_at!==e.created_at&&(0,$e.jsxs)("p",{className:"text-xs",children:["Atualizado: ",v(e.updated_at)]})]})]})},e.id);var t})})]})]})]})}function pt(){const[t,n]=(0,e.useState)([]),[a,r]=(0,e.useState)(!0),[s,i]=(0,e.useState)(""),[l,o]=(0,e.useState)(null),[c,d]=(0,e.useState)(!1),[u,m]=(0,e.useState)(""),p=ee(),[h,f]=(0,e.useState)({status:"",admin_response:""});(0,e.useEffect)(()=>{const e=sessionStorage.getItem("adminUser"),t=sessionStorage.getItem("isAdmin");e&&"true"===t?x():p("/login")},[p,u]);const x=async()=>{try{let e="/admin/messages?type=complaint";u&&(e+="&status=".concat(u));const t=await He.request(e);n(t||[])}catch(s){console.error("Error loading complaints:",s),i("Erro ao carregar reclama\xe7\xf5es")}finally{r(!1)}},g=e=>{const t={open:{label:"Aberto",class:"bg-blue-100 text-blue-800"},in_progress:{label:"Em Progresso",class:"bg-yellow-100 text-yellow-800"},resolved:{label:"Resolvido",class:"bg-green-100 text-green-800"},closed:{label:"Fechado",class:"bg-gray-100 text-gray-800"}},n=t[e]||t.open;return(0,$e.jsx)("span",{className:"inline-flex px-2 py-1 text-xs font-semibold rounded-full ".concat(n.class),children:n.label})},b=e=>new Date(e).toLocaleDateString("pt-PT",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"});return a?(0,$e.jsx)("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:(0,$e.jsxs)("div",{className:"text-center",children:[(0,$e.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto"}),(0,$e.jsx)("p",{className:"mt-4 text-gray-600",children:"A carregar reclama\xe7\xf5es..."})]})}):(0,$e.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,$e.jsx)("div",{className:"bg-white shadow",children:(0,$e.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,$e.jsxs)("div",{className:"flex justify-between items-center py-6",children:[(0,$e.jsx)("div",{className:"flex items-center",children:(0,$e.jsx)("h1",{className:"text-3xl font-bold text-gray-900",children:"Gest\xe3o de Reclama\xe7\xf5es"})}),(0,$e.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,$e.jsx)("button",{onClick:()=>p("/admin"),className:"text-gray-600 hover:text-gray-900",children:"\u2190 Voltar ao Admin"}),(0,$e.jsx)("button",{onClick:()=>{sessionStorage.removeItem("adminUser"),sessionStorage.removeItem("isAdmin");try{window.dispatchEvent(new Event("adminLoggedIn")),window.dispatchEvent(new Event("userLoggedIn"))}catch(Ut){}p("/login")},className:"bg-red-600 text-white px-4 py-2 rounded hover:bg-red-700",children:"Logout"})]})]})})}),(0,$e.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[s&&(0,$e.jsx)("div",{className:"bg-red-50 border border-red-200 rounded-md p-4 mb-6",children:(0,$e.jsx)("div",{className:"flex",children:(0,$e.jsxs)("div",{className:"ml-3",children:[(0,$e.jsx)("h3",{className:"text-sm font-medium text-red-800",children:"Erro"}),(0,$e.jsx)("div",{className:"mt-2 text-sm text-red-700",children:(0,$e.jsx)("p",{children:s})})]})})}),(0,$e.jsx)("div",{className:"bg-white rounded-lg shadow p-6 mb-6",children:(0,$e.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,$e.jsxs)("div",{children:[(0,$e.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Filtrar por Status"}),(0,$e.jsxs)("select",{value:u,onChange:e=>m(e.target.value),className:"border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500",children:[(0,$e.jsx)("option",{value:"",children:"Todos"}),(0,$e.jsx)("option",{value:"open",children:"Aberto"}),(0,$e.jsx)("option",{value:"in_progress",children:"Em Progresso"}),(0,$e.jsx)("option",{value:"resolved",children:"Resolvido"}),(0,$e.jsx)("option",{value:"closed",children:"Fechado"})]})]}),(0,$e.jsxs)("div",{className:"text-sm text-gray-600 pt-6",children:[t.length," reclama\xe7\xe3o(\xf5es) encontrada(s)"]})]})}),(0,$e.jsx)("div",{className:"bg-white rounded-lg shadow overflow-hidden",children:0===t.length?(0,$e.jsxs)("div",{className:"px-6 py-8 text-center text-gray-500",children:[(0,$e.jsx)("div",{className:"mb-4",children:"\ud83d\udcdd"}),(0,$e.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Nenhuma reclama\xe7\xe3o encontrada"}),(0,$e.jsx)("p",{className:"text-gray-600",children:"N\xe3o h\xe1 reclama\xe7\xf5es para os filtros selecionados."})]}):(0,$e.jsx)("div",{className:"overflow-x-auto",children:(0,$e.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,$e.jsx)("thead",{className:"bg-gray-50",children:(0,$e.jsxs)("tr",{children:[(0,$e.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Utilizador"}),(0,$e.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Condom\xednio"}),(0,$e.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Assunto"}),(0,$e.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),(0,$e.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Data"}),(0,$e.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"A\xe7\xf5es"})]})}),(0,$e.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:t.map(e=>(0,$e.jsxs)("tr",{className:"hover:bg-gray-50",children:[(0,$e.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,$e.jsxs)("div",{children:[(0,$e.jsx)("div",{className:"text-sm font-medium text-gray-900",children:e.user_name}),(0,$e.jsxs)("div",{className:"text-sm text-gray-500",children:["NIF: ",e.user_nif]})]})}),(0,$e.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:e.condominium_name}),(0,$e.jsx)("td",{className:"px-6 py-4 text-sm text-gray-900",children:(0,$e.jsxs)("div",{className:"max-w-xs",children:[(0,$e.jsx)("div",{className:"font-medium",children:e.subject}),(0,$e.jsx)("div",{className:"text-gray-500 text-xs mt-1 truncate",children:(e.message||"").length>100?"".concat((e.message||"").substring(0,100),"..."):e.message||""})]})}),(0,$e.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:g(e.status)}),(0,$e.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:b(e.created_at)}),(0,$e.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:[(0,$e.jsx)("button",{onClick:()=>(e=>{o(e),f({status:e.status,admin_response:e.admin_response||""}),d(!0)})(e),className:"text-blue-600 hover:text-blue-900 mr-3",children:"Responder"}),(0,$e.jsx)("button",{onClick:()=>(async e=>{if(window.confirm("Tem certeza que deseja excluir esta reclama\xe7\xe3o?"))try{await He.request("/admin/messages/".concat(e),{method:"DELETE"}),x()}catch(s){console.error("Error deleting complaint:",s),i("Erro de conex\xe3o")}})(e.id),className:"text-red-600 hover:text-red-900",children:"Excluir"})]})]},e.id))})]})})})]}),c&&l&&(0,$e.jsx)("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50",children:(0,$e.jsx)("div",{className:"relative top-20 mx-auto p-5 border w-11/12 md:w-3/4 lg:w-1/2 shadow-lg rounded-md bg-white",children:(0,$e.jsxs)("div",{className:"mt-3",children:[(0,$e.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,$e.jsx)("h3",{className:"text-lg font-medium text-gray-900",children:"Responder \xe0 Reclama\xe7\xe3o"}),(0,$e.jsx)("button",{onClick:()=>{d(!1),o(null)},className:"text-gray-400 hover:text-gray-600",children:"\u2715"})]}),(0,$e.jsxs)("div",{className:"mb-6 p-4 border border-gray-200 rounded-lg bg-gray-50",children:[(0,$e.jsx)("h4",{className:"font-medium text-gray-900 mb-2",children:l.subject}),(0,$e.jsx)("p",{className:"text-sm text-gray-700 mb-2",children:l.message||""}),(0,$e.jsxs)("div",{className:"text-xs text-gray-500",children:[(0,$e.jsxs)("p",{children:["Utilizador: ",l.user_name," (NIF: ",l.user_nif,")"]}),(0,$e.jsxs)("p",{children:["Condom\xednio: ",l.condominium_name]}),(0,$e.jsxs)("p",{children:["Data: ",b(l.created_at)]})]})]}),(0,$e.jsxs)("form",{onSubmit:async e=>{e.preventDefault();try{console.log("\ud83d\udd27 ReclamacoesAdmin: Starting complaint update for ID:",null===l||void 0===l?void 0:l.id),console.log("\ud83d\udd27 ReclamacoesAdmin: Response data:",h);const e=JSON.parse(sessionStorage.getItem("adminUser")||"{}");if(console.log("\ud83d\udd27 ReclamacoesAdmin: Admin user:",e),null===l||void 0===l||!l.id)return void alert("Erro: ID da reclama\xe7\xe3o n\xe3o encontrado");if(!h.status||!h.admin_response)return void alert("Por favor, preencha o status e a resposta");const t=ze(ze({},h),{},{admin_id:e.id});console.log("\ud83d\udd27 ReclamacoesAdmin: Making request to /admin/messages/"+l.id),console.log("\ud83d\udd27 ReclamacoesAdmin: Request body:",t);const n=await He.request("/admin/messages/".concat(l.id),{method:"PUT",body:t});console.log("\ud83d\udd27 ReclamacoesAdmin: Response received:",n),n.success?(alert("Reclama\xe7\xe3o atualizada com sucesso!"),d(!1),o(null),f({status:"",admin_response:""}),i(""),x()):(console.error("\ud83d\udd27 ReclamacoesAdmin: Response indicates failure:",n),alert("Erro ao atualizar reclama\xe7\xe3o: "+(n.error||"Erro desconhecido")),i(n.error||"Erro ao atualizar reclama\xe7\xe3o"))}catch(s){console.error("\ud83d\udd27 ReclamacoesAdmin: Error updating complaint:",s),alert("Erro de conex\xe3o: "+s.message),i("Erro de conex\xe3o: "+s.message)}},className:"space-y-4",children:[(0,$e.jsxs)("div",{children:[(0,$e.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Status"}),(0,$e.jsxs)("select",{value:h.status,onChange:e=>f(ze(ze({},h),{},{status:e.target.value})),className:"w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500",children:[(0,$e.jsx)("option",{value:"open",children:"Aberto"}),(0,$e.jsx)("option",{value:"in_progress",children:"Em Progresso"}),(0,$e.jsx)("option",{value:"resolved",children:"Resolvido"}),(0,$e.jsx)("option",{value:"closed",children:"Fechado"})]})]}),(0,$e.jsxs)("div",{children:[(0,$e.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Resposta da Administra\xe7\xe3o"}),(0,$e.jsx)("textarea",{value:h.admin_response,onChange:e=>f(ze(ze({},h),{},{admin_response:e.target.value})),rows:4,className:"w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Digite sua resposta \xe0 reclama\xe7\xe3o..."})]}),(0,$e.jsxs)("div",{className:"flex gap-3",children:[(0,$e.jsx)("button",{type:"submit",className:"bg-blue-600 text-white px-4 py-2 rounded-md hover:bg-blue-700",children:"Atualizar"}),(0,$e.jsx)("button",{type:"button",onClick:()=>d(!1),className:"bg-gray-300 text-gray-700 px-4 py-2 rounded-md hover:bg-gray-400",children:"Cancelar"})]})]})]})})})]})}function ht(){const[t,n]=(0,e.useState)([]),[a,r]=(0,e.useState)(!0),[s,i]=(0,e.useState)(""),[l,o]=(0,e.useState)(null),[c,d]=(0,e.useState)(!1),[u,m]=(0,e.useState)(""),p=ee(),[h,f]=(0,e.useState)({status:"",admin_response:""});(0,e.useEffect)(()=>{const e=sessionStorage.getItem("adminUser"),t=sessionStorage.getItem("isAdmin");e&&"true"===t?x():p("/login")},[p,u]);const x=async()=>{try{console.log("\ud83d\udd04 Loading pedidos using DatabaseAPI...");let e="/admin/messages?type=request";u&&(e+="&status=".concat(u));const t=await He.request(e);n(t||[]),console.log("\u2705 Pedidos loaded:",(null===t||void 0===t?void 0:t.length)||0)}catch(s){console.error("Error loading requests:",s),i("Erro ao carregar pedidos")}finally{r(!1)}},g=e=>{const t={open:{label:"Aberto",class:"bg-blue-100 text-blue-800"},in_progress:{label:"Em Progresso",class:"bg-yellow-100 text-yellow-800"},resolved:{label:"Resolvido",class:"bg-green-100 text-green-800"},closed:{label:"Fechado",class:"bg-gray-100 text-gray-800"}},n=t[e]||t.open;return(0,$e.jsx)("span",{className:"inline-flex px-2 py-1 text-xs font-semibold rounded-full ".concat(n.class),children:n.label})},b=e=>new Date(e).toLocaleDateString("pt-PT",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"});return a?(0,$e.jsx)("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:(0,$e.jsxs)("div",{className:"text-center",children:[(0,$e.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto"}),(0,$e.jsx)("p",{className:"mt-4 text-gray-600",children:"A carregar pedidos..."})]})}):(0,$e.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,$e.jsx)("div",{className:"bg-white shadow",children:(0,$e.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,$e.jsxs)("div",{className:"flex justify-between items-center py-6",children:[(0,$e.jsx)("div",{className:"flex items-center",children:(0,$e.jsx)("h1",{className:"text-3xl font-bold text-gray-900",children:"Gest\xe3o de Pedidos"})}),(0,$e.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,$e.jsx)("button",{onClick:()=>p("/admin"),className:"text-gray-600 hover:text-gray-900",children:"\u2190 Voltar ao Admin"}),(0,$e.jsx)("button",{onClick:()=>{sessionStorage.removeItem("adminUser"),sessionStorage.removeItem("isAdmin");try{window.dispatchEvent(new Event("adminLoggedIn")),window.dispatchEvent(new Event("userLoggedIn"))}catch(Ut){}p("/login")},className:"bg-red-600 text-white px-4 py-2 rounded hover:bg-red-700",children:"Logout"})]})]})})}),(0,$e.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[s&&(0,$e.jsx)("div",{className:"bg-red-50 border border-red-200 rounded-md p-4 mb-6",children:(0,$e.jsx)("div",{className:"flex",children:(0,$e.jsxs)("div",{className:"ml-3",children:[(0,$e.jsx)("h3",{className:"text-sm font-medium text-red-800",children:"Erro"}),(0,$e.jsx)("div",{className:"mt-2 text-sm text-red-700",children:(0,$e.jsx)("p",{children:s})})]})})}),(0,$e.jsx)("div",{className:"bg-white rounded-lg shadow p-6 mb-6",children:(0,$e.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,$e.jsxs)("div",{children:[(0,$e.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Filtrar por Status"}),(0,$e.jsxs)("select",{value:u,onChange:e=>m(e.target.value),className:"border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500",children:[(0,$e.jsx)("option",{value:"",children:"Todos"}),(0,$e.jsx)("option",{value:"open",children:"Aberto"}),(0,$e.jsx)("option",{value:"in_progress",children:"Em Progresso"}),(0,$e.jsx)("option",{value:"resolved",children:"Resolvido"}),(0,$e.jsx)("option",{value:"closed",children:"Fechado"})]})]}),(0,$e.jsxs)("div",{className:"text-sm text-gray-600 pt-6",children:[t.length," pedido(s) encontrado(s)"]})]})}),(0,$e.jsx)("div",{className:"bg-white rounded-lg shadow overflow-hidden",children:0===t.length?(0,$e.jsxs)("div",{className:"px-6 py-8 text-center text-gray-500",children:[(0,$e.jsx)("div",{className:"mb-4",children:"\ud83d\udccb"}),(0,$e.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Nenhum pedido encontrado"}),(0,$e.jsx)("p",{className:"text-gray-600",children:"N\xe3o h\xe1 pedidos para os filtros selecionados."})]}):(0,$e.jsx)("div",{className:"overflow-x-auto",children:(0,$e.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,$e.jsx)("thead",{className:"bg-gray-50",children:(0,$e.jsxs)("tr",{children:[(0,$e.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Utilizador"}),(0,$e.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Condom\xednio"}),(0,$e.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Assunto"}),(0,$e.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),(0,$e.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Data"}),(0,$e.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"A\xe7\xf5es"})]})}),(0,$e.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:t.map(e=>(0,$e.jsxs)("tr",{className:"hover:bg-gray-50",children:[(0,$e.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,$e.jsxs)("div",{children:[(0,$e.jsx)("div",{className:"text-sm font-medium text-gray-900",children:e.user_name}),(0,$e.jsxs)("div",{className:"text-sm text-gray-500",children:["NIF: ",e.user_nif]})]})}),(0,$e.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:e.condominium_name}),(0,$e.jsx)("td",{className:"px-6 py-4 text-sm text-gray-900",children:(0,$e.jsxs)("div",{className:"max-w-xs",children:[(0,$e.jsx)("div",{className:"font-medium",children:e.subject}),(0,$e.jsx)("div",{className:"text-gray-500 text-xs mt-1 truncate",children:(e.message||"").length>100?"".concat((e.message||"").substring(0,100),"..."):e.message||""})]})}),(0,$e.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:g(e.status)}),(0,$e.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:b(e.created_at)}),(0,$e.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:[(0,$e.jsx)("button",{onClick:()=>(e=>{o(e),f({status:e.status,admin_response:e.admin_response||""}),d(!0)})(e),className:"text-blue-600 hover:text-blue-900 mr-3",children:"Responder"}),(0,$e.jsx)("button",{onClick:()=>(async e=>{if(window.confirm("Tem certeza que deseja excluir este pedido?"))try{await He.request("/admin/messages/".concat(e),{method:"DELETE"}),x()}catch(s){console.error("Error deleting request:",s),i(s.message||"Erro ao excluir pedido")}})(e.id),className:"text-red-600 hover:text-red-900",children:"Excluir"})]})]},e.id))})]})})})]}),c&&l&&(0,$e.jsx)("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50",children:(0,$e.jsx)("div",{className:"relative top-20 mx-auto p-5 border w-11/12 md:w-3/4 lg:w-1/2 shadow-lg rounded-md bg-white",children:(0,$e.jsxs)("div",{className:"mt-3",children:[(0,$e.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,$e.jsx)("h3",{className:"text-lg font-medium text-gray-900",children:"Responder ao Pedido"}),(0,$e.jsx)("button",{onClick:()=>{d(!1),o(null)},className:"text-gray-400 hover:text-gray-600",children:"\u2715"})]}),(0,$e.jsxs)("div",{className:"mb-6 p-4 border border-gray-200 rounded-lg bg-gray-50",children:[(0,$e.jsx)("h4",{className:"font-medium text-gray-900 mb-2",children:l.subject}),(0,$e.jsx)("p",{className:"text-sm text-gray-700 mb-2",children:l.message||""}),(0,$e.jsxs)("div",{className:"text-xs text-gray-500",children:[(0,$e.jsxs)("p",{children:["Utilizador: ",l.user_name," (NIF: ",l.user_nif,")"]}),(0,$e.jsxs)("p",{children:["Condom\xednio: ",l.condominium_name]}),(0,$e.jsxs)("p",{children:["Data: ",b(l.created_at)]})]})]}),(0,$e.jsxs)("form",{onSubmit:async e=>{e.preventDefault();try{console.log("\ud83d\udd27 PedidosAdmin: Starting request update for ID:",null===l||void 0===l?void 0:l.id),console.log("\ud83d\udd27 PedidosAdmin: Response data:",h);const e=JSON.parse(sessionStorage.getItem("adminUser")||"{}");if(console.log("\ud83d\udd27 PedidosAdmin: Admin user:",e),null===l||void 0===l||!l.id)return void alert("Erro: ID do pedido n\xe3o encontrado");if(!h.status||!h.admin_response)return void alert("Por favor, preencha o status e a resposta");const t=ze(ze({},h),{},{admin_id:e.id});console.log("\ud83d\udd27 PedidosAdmin: Making request to /admin/messages/"+l.id),console.log("\ud83d\udd27 PedidosAdmin: Request body:",t);const n=await He.request("/admin/messages/".concat(l.id),{method:"PUT",body:t});console.log("\ud83d\udd27 PedidosAdmin: Response received:",n),n.success?(alert("Pedido atualizado com sucesso!"),d(!1),o(null),f({status:"",admin_response:""}),i(""),x()):(console.error("\ud83d\udd27 PedidosAdmin: Response indicates failure:",n),alert("Erro ao atualizar pedido: "+(n.error||"Erro desconhecido")),i(n.error||"Erro ao atualizar pedido"))}catch(s){console.error("\ud83d\udd27 PedidosAdmin: Error updating request:",s),alert("Erro de conex\xe3o: "+s.message),i(s.message||"Erro ao atualizar pedido")}},className:"space-y-4",children:[(0,$e.jsxs)("div",{children:[(0,$e.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Status"}),(0,$e.jsxs)("select",{value:h.status,onChange:e=>f(ze(ze({},h),{},{status:e.target.value})),className:"w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500",children:[(0,$e.jsx)("option",{value:"open",children:"Aberto"}),(0,$e.jsx)("option",{value:"in_progress",children:"Em Progresso"}),(0,$e.jsx)("option",{value:"resolved",children:"Resolvido"}),(0,$e.jsx)("option",{value:"closed",children:"Fechado"})]})]}),(0,$e.jsxs)("div",{children:[(0,$e.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Resposta da Administra\xe7\xe3o"}),(0,$e.jsx)("textarea",{value:h.admin_response,onChange:e=>f(ze(ze({},h),{},{admin_response:e.target.value})),rows:4,className:"w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Digite sua resposta ao pedido..."})]}),(0,$e.jsxs)("div",{className:"flex gap-3",children:[(0,$e.jsx)("button",{type:"submit",className:"bg-blue-600 text-white px-4 py-2 rounded-md hover:bg-blue-700",children:"Atualizar"}),(0,$e.jsx)("button",{type:"button",onClick:()=>d(!1),className:"bg-gray-300 text-gray-700 px-4 py-2 rounded-md hover:bg-gray-400",children:"Cancelar"})]})]})]})})})]})}var ft=n(766),xt=n.n(ft);function gt(){var t;const[n,a]=(0,e.useState)(!1),[r,s]=(0,e.useState)(null),[i,l]=(0,e.useState)("");return(0,$e.jsx)("div",{className:"min-h-screen bg-gray-50 py-8",children:(0,$e.jsx)("div",{className:"max-w-4xl mx-auto px-4",children:(0,$e.jsxs)("div",{className:"dashboard-card fade-in",children:[(0,$e.jsx)("h1",{className:"text-3xl font-bold text-blue-900 mb-6",children:"\ud83d\udd27 Reinicializa\xe7\xe3o e Corre\xe7\xe3o de Dados"}),(0,$e.jsxs)("div",{className:"space-y-6",children:[(0,$e.jsxs)("div",{className:"bg-yellow-50 border border-yellow-200 rounded-xl p-4",children:[(0,$e.jsx)("h2",{className:"text-xl font-semibold text-yellow-800 mb-2",children:"\u26a0\ufe0f Problemas Identificados"}),(0,$e.jsxs)("ul",{className:"text-yellow-700 space-y-1",children:[(0,$e.jsx)("li",{children:"\u2022 NIF 501460888 est\xe1 duplicado em m\xfaltiplos condom\xednios"}),(0,$e.jsx)("li",{children:"\u2022 Sistema n\xe3o suporta adequadamente m\xfaltiplos condom\xednios por usu\xe1rio"}),(0,$e.jsx)("li",{children:"\u2022 Dados necessitam de reestrutura\xe7\xe3o para rela\xe7\xf5es many-to-many"})]})]}),(0,$e.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,$e.jsx)("button",{onClick:async()=>{a(!0),l(""),s(null);try{const e=await fetch("/csv grupos.csv"),t=await e.text(),n=xt().parse(t,{header:!0,delimiter:";",skipEmptyLines:!0}),a=n.data.filter(e=>e.NIF&&"501460888"===e.NIF.toString().trim()),r=new Map,i=new Set;n.data.forEach(e=>{const t=e.NIF?e.NIF.toString().trim():"",n=e.Grupo?e.Grupo.toString().trim():"";if(n){const a=n.split(" - ")[0]||n;i.add(a),t&&(r.has(t)||r.set(t,{userData:e,condominiums:[]}),r.get(t).condominiums.push({condominio:a,apartamento:n.includes(" - ")?n.split(" - ")[1]:""}))}}),s({totalRows:n.data.length,uniqueUsers:r.size,uniqueCondominiums:i.size,problematicNIF:{count:a.length,entries:a.slice(0,5),condominiums:[...new Set(a.map(e=>{var t;return null===(t=e.Grupo)||void 0===t?void 0:t.split(" - ")[0]}))].filter(Boolean)},preview:{firstUser:r.values().next().value,condominiumsList:[...i].slice(0,10)}})}catch(e){console.error("Test error:",e),l(e.message)}finally{a(!1)}},disabled:n,className:"btn-primary",children:n?"\ud83d\udd0d Analisando...":"\ud83d\udd0d Analisar CSV"}),(0,$e.jsx)("button",{onClick:async()=>{a(!0),l(""),s(null);try{const e=await fetch("/csv grupos.csv"),t=await e.text(),n=xt().parse(t,{header:!0,delimiter:";",skipEmptyLines:!0});if(n.errors.length>0)throw new Error("Erro ao ler o CSV: "+n.errors[0].message);console.log("CSV parsed, found",n.data.length,"rows");const a=await He.request("/reset-and-import",{method:"POST",body:{users:n.data}});s(a)}catch(e){console.error("Import error:",e),l(e.message)}finally{a(!1)}},disabled:n,className:"dashboard-button logout",children:n?"\ud83d\udd04 Reinicializando...":"\ud83d\udd04 Reinicializar e Importar"})]}),i&&(0,$e.jsxs)("div",{className:"bg-red-50 border border-red-200 rounded-xl p-4",children:[(0,$e.jsx)("h3",{className:"text-red-800 font-semibold",children:"\u274c Erro"}),(0,$e.jsx)("p",{className:"text-red-700 mt-1",children:i})]}),r&&(0,$e.jsxs)("div",{className:"bg-green-50 border border-green-200 rounded-xl p-4",children:[(0,$e.jsx)("h3",{className:"text-green-800 font-semibold mb-3",children:"\u2705 Resultado"}),r.totalRows&&(0,$e.jsxs)("div",{className:"space-y-3 text-green-700",children:[(0,$e.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[(0,$e.jsxs)("div",{className:"text-center p-3 bg-white rounded-lg",children:[(0,$e.jsx)("div",{className:"text-2xl font-bold text-blue-600",children:r.totalRows}),(0,$e.jsx)("div",{className:"text-sm",children:"Total Linhas CSV"})]}),(0,$e.jsxs)("div",{className:"text-center p-3 bg-white rounded-lg",children:[(0,$e.jsx)("div",{className:"text-2xl font-bold text-green-600",children:r.uniqueUsers}),(0,$e.jsx)("div",{className:"text-sm",children:"Usu\xe1rios \xdanicos"})]}),(0,$e.jsxs)("div",{className:"text-center p-3 bg-white rounded-lg",children:[(0,$e.jsx)("div",{className:"text-2xl font-bold text-purple-600",children:r.uniqueCondominiums}),(0,$e.jsx)("div",{className:"text-sm",children:"Condom\xednios"})]}),(0,$e.jsxs)("div",{className:"text-center p-3 bg-white rounded-lg",children:[(0,$e.jsx)("div",{className:"text-2xl font-bold text-red-600",children:(null===(t=r.problematicNIF)||void 0===t?void 0:t.count)||0}),(0,$e.jsx)("div",{className:"text-sm",children:"Entradas NIF 501460888"})]})]}),r.problematicNIF&&(0,$e.jsxs)("div",{className:"mt-4 p-3 bg-red-50 rounded-lg",children:[(0,$e.jsx)("h4",{className:"font-semibold text-red-800",children:"NIF 501460888 est\xe1 presente em:"}),(0,$e.jsx)("div",{className:"mt-2 text-sm",children:r.problematicNIF.condominiums.map((e,t)=>(0,$e.jsx)("span",{className:"inline-block bg-red-100 text-red-800 px-2 py-1 rounded-full text-xs mr-2 mb-1",children:e},t))})]})]}),void 0!==r.importedUsers&&(0,$e.jsxs)("div",{className:"space-y-2",children:[(0,$e.jsxs)("p",{children:[(0,$e.jsx)("strong",{children:"Usu\xe1rios importados:"})," ",r.importedUsers]}),(0,$e.jsxs)("p",{children:[(0,$e.jsx)("strong",{children:"Condom\xednios criados:"})," ",r.importedCondos]}),(0,$e.jsxs)("p",{children:[(0,$e.jsx)("strong",{children:"Rela\xe7\xf5es criadas:"})," ",r.importedRelations]}),(0,$e.jsxs)("p",{children:[(0,$e.jsx)("strong",{children:"Erros:"})," ",r.errors]}),(0,$e.jsx)("p",{className:"text-green-600 font-semibold",children:r.message})]})]}),(0,$e.jsx)("div",{className:"text-center",children:(0,$e.jsx)("button",{onClick:()=>window.location.href="/database-admin",className:"btn-secondary",children:"\u2190 Voltar ao Admin"})})]})]})})})}function bt(){var t,n,a,r,s;const[i,l]=(0,e.useState)(!1),[o,c]=(0,e.useState)(null),[d,u]=(0,e.useState)(""),[m,p]=(0,e.useState)(null),h=ee(),[f,x]=(0,e.useState)("");return(0,$e.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-blue-100 p-4",children:(0,$e.jsxs)("div",{className:"max-w-4xl mx-auto",children:[(0,$e.jsx)("div",{className:"bg-white rounded-xl shadow-lg p-6 mb-6",children:(0,$e.jsxs)("div",{className:"flex items-center justify-between",children:[(0,$e.jsxs)("div",{children:[(0,$e.jsx)("h1",{className:"text-2xl font-bold text-blue-900",children:"Sincroniza\xe7\xe3o de Dados"}),(0,$e.jsx)("p",{className:"text-gray-600 mt-1",children:"Importar dados do servidor para o app m\xf3vel"})]}),(0,$e.jsx)("button",{onClick:()=>h("/database-admin"),className:"bg-gray-500 hover:bg-gray-600 text-white px-4 py-2 rounded-lg transition-colors",children:"\u2190 Voltar"})]})}),(0,$e.jsxs)("div",{className:"bg-white rounded-xl shadow-lg p-6 mb-6",children:[(0,$e.jsx)("h2",{className:"text-xl font-semibold text-blue-900 mb-4",children:"Sincronizar com Servidor"}),(0,$e.jsx)("p",{className:"text-gray-600 mb-4",children:"Conecta ao servidor backend e importa todos os dados automaticamente."}),(0,$e.jsx)("button",{onClick:async()=>{l(!0),u(""),c(null);try{console.log("\ud83d\udd04 Starting data sync...");const e=await He.syncWithBackend();c(e),p(e),console.log("\u2705 Sync completed:",e)}catch(d){console.error("\u274c Sync failed:",d),u(d.message||"Erro ao sincronizar dados")}finally{l(!1)}},disabled:i,className:"px-6 py-3 rounded-lg font-medium transition-colors ".concat(i?"bg-gray-400 text-gray-200 cursor-not-allowed":"bg-blue-600 hover:bg-blue-700 text-white"),children:i?"\ud83d\udd04 Sincronizando...":"\ud83d\udce1 Sincronizar Dados"})]}),(0,$e.jsxs)("div",{className:"bg-white rounded-xl shadow-lg p-6 mb-6",children:[(0,$e.jsx)("h2",{className:"text-xl font-semibold text-blue-900 mb-4",children:"Importa\xe7\xe3o Manual"}),(0,$e.jsx)("p",{className:"text-gray-600 mb-4",children:"Cole os dados JSON diretamente se o servidor n\xe3o estiver dispon\xedvel."}),(0,$e.jsx)("textarea",{value:f,onChange:e=>x(e.target.value),placeholder:"Cole aqui os dados JSON exportados...",className:"w-full h-32 p-3 border border-gray-300 rounded-lg resize-vertical"}),(0,$e.jsx)("button",{onClick:async()=>{if(f.trim()){l(!0),u(""),c(null);try{const e=JSON.parse(f);console.log("\ud83d\udce6 Importing manual data:",e);const t=await He.importData(e);c(t),p(t),console.log("\u2705 Manual import completed:",t)}catch(d){console.error("\u274c Manual import failed:",d),u(d.message||"Erro ao importar dados manualmente")}finally{l(!1)}}else u("Por favor insira os dados JSON")},disabled:i||!f.trim(),className:"mt-3 px-6 py-3 rounded-lg font-medium transition-colors ".concat(i||!f.trim()?"bg-gray-400 text-gray-200 cursor-not-allowed":"bg-green-600 hover:bg-green-700 text-white"),children:i?"\ud83d\udce6 Importando...":"\ud83d\udce5 Importar Dados"})]}),d&&(0,$e.jsxs)("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-lg mb-6",children:[(0,$e.jsx)("strong",{children:"Erro:"})," ",d]}),o&&(0,$e.jsxs)("div",{className:"bg-green-50 border border-green-200 text-green-700 px-4 py-3 rounded-lg mb-6",children:[(0,$e.jsx)("strong",{children:"\u2705 Sincroniza\xe7\xe3o conclu\xedda!"}),m&&(0,$e.jsxs)("div",{className:"mt-2 text-sm",children:[(0,$e.jsxs)("p",{children:["\u2022 Utilizadores: ",(null===(t=m.users)||void 0===t?void 0:t.length)||0]}),(0,$e.jsxs)("p",{children:["\u2022 Condom\xednios: ",(null===(n=m.condominiums)||void 0===n?void 0:n.length)||0]}),(0,$e.jsxs)("p",{children:["\u2022 Assembleias: ",(null===(a=m.assembleias)||void 0===a?void 0:a.length)||0]}),(0,$e.jsxs)("p",{children:["\u2022 Mensagens: ",(null===(r=m.messages)||void 0===r?void 0:r.length)||0]}),(0,$e.jsxs)("p",{children:["\u2022 Ficheiros: ",(null===(s=m.assembleia_files)||void 0===s?void 0:s.length)||0]})]})]}),(0,$e.jsxs)("div",{className:"bg-blue-50 border border-blue-200 text-blue-700 px-4 py-3 rounded-lg",children:[(0,$e.jsx)("h3",{className:"font-semibold mb-2",children:"\ud83d\udca1 Instru\xe7\xf5es:"}),(0,$e.jsxs)("ol",{className:"list-decimal list-inside space-y-1 text-sm",children:[(0,$e.jsx)("li",{children:"Certifique-se que o servidor backend est\xe1 a funcionar"}),(0,$e.jsx)("li",{children:'Clique em "Sincronizar Dados" para importar automaticamente'}),(0,$e.jsx)("li",{children:"Se falhar, pode obter os dados em http://localhost:3002/api/export-data"}),(0,$e.jsx)("li",{children:'Cole os dados JSON na sec\xe7\xe3o "Importa\xe7\xe3o Manual"'}),(0,$e.jsx)("li",{children:"Ap\xf3s importar, fa\xe7a logout e login novamente"})]})]})]})})}const vt=()=>{const[t,n]=(0,e.useState)([]),[a,r]=(0,e.useState)([]),[s,i]=(0,e.useState)(!0),[l,o]=(0,e.useState)(""),[c,d]=(0,e.useState)("pending"),[u,m]=(0,e.useState)(null),[p,h]=(0,e.useState)(""),[f,x]=(0,e.useState)([]);(0,e.useEffect)(()=>{g();const e=()=>g();return window.addEventListener("ocorrenciaCreated",e),()=>window.removeEventListener("ocorrenciaCreated",e)},[]);const g=async()=>{try{i(!0);const[e,t]=await Promise.all([He.request("/maintenance/ocorrencias/pending"),He.request("/maintenance/ocorrencias/completed")]);n(e||[]),r(t||[])}catch(l){console.error("Error fetching ocorrencias:",l),o("Erro ao carregar ocorr\xeancias")}finally{i(!1)}},b=e=>{switch(e){case"high":return"text-red-600 bg-red-100";case"medium":return"text-yellow-600 bg-yellow-100";case"low":return"text-green-600 bg-green-100";default:return"text-gray-600 bg-gray-100"}},v=e=>{switch(e){case"pending":return"text-orange-600 bg-orange-100";case"in_progress":return"text-blue-600 bg-blue-100";case"pending_verification":return"text-purple-600 bg-purple-100";case"completed":return"text-green-600 bg-green-100";default:return"text-gray-600 bg-gray-100"}},y=e=>{switch(e){case"pending":return"Pendente";case"in_progress":return"Em progresso";case"pending_verification":return"Aguarda verifica\xe7\xe3o";case"completed":return"Conclu\xeddo";default:return e}};return s?(0,$e.jsx)("div",{className:"flex justify-center items-center h-64",children:(0,$e.jsx)("div",{className:"text-lg",children:"Carregando ocorr\xeancias..."})}):(0,$e.jsxs)("div",{className:"container mx-auto px-4 py-8",children:[(0,$e.jsx)("h1",{className:"text-3xl font-bold text-center mb-8",children:"Dashboard de Manuten\xe7\xe3o"}),(0,$e.jsx)("div",{className:"flex justify-center mb-4",children:(0,$e.jsx)("button",{onClick:g,className:"bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700",children:"Atualizar"})}),l&&(0,$e.jsx)("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded mb-4",children:l}),(0,$e.jsxs)("div",{className:"flex mb-6 border-b",children:[(0,$e.jsxs)("button",{onClick:()=>d("pending"),className:"px-6 py-3 font-medium border-b-2 ".concat("pending"===c?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700"),children:["Pendentes (",t.length,")"]}),(0,$e.jsxs)("button",{onClick:()=>d("completed"),className:"px-6 py-3 font-medium border-b-2 ".concat("completed"===c?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700"),children:["Conclu\xeddas (",a.length,")"]})]}),"pending"===c&&(0,$e.jsx)("div",{className:"space-y-4",children:0===t.length?(0,$e.jsx)("div",{className:"text-center py-8 text-gray-500",children:"N\xe3o h\xe1 ocorr\xeancias pendentes"}):t.map(e=>(0,$e.jsxs)("div",{className:"bg-white border rounded-lg p-6 shadow-sm",children:[(0,$e.jsxs)("div",{className:"flex justify-between items-start mb-4",children:[(0,$e.jsx)("h3",{className:"text-xl font-semibold",children:e.title}),(0,$e.jsxs)("div",{className:"flex space-x-2",children:[(0,$e.jsx)("span",{className:"px-3 py-1 rounded-full text-sm font-medium ".concat(b(e.priority)),children:"urgent"===e.priority?"Urgente":"high"===e.priority?"Alta":"medium"===e.priority?"M\xe9dia":"Baixa"}),(0,$e.jsx)("span",{className:"px-3 py-1 rounded-full text-sm font-medium ".concat(v(e.status)),children:y(e.status)})]})]}),(0,$e.jsxs)("div",{className:"mb-4",children:[(0,$e.jsxs)("p",{className:"text-gray-600 mb-2",children:[(0,$e.jsx)("strong",{children:"Condom\xednio:"})," ",e.condominium_name]}),(0,$e.jsxs)("p",{className:"text-gray-600 mb-2",children:[(0,$e.jsx)("strong",{children:"NIPC:"})," ",e.condominium_nipc||"N/A"]}),e.reporter_name&&(0,$e.jsxs)("p",{className:"text-gray-600 mb-2",children:[(0,$e.jsx)("strong",{children:"Reportado por:"})," ",e.reporter_name," ",e.reporter_nif?"(".concat(e.reporter_nif,")"):""]}),e.created_by_admin_username&&(0,$e.jsxs)("p",{className:"text-gray-600 mb-2",children:[(0,$e.jsx)("strong",{children:"Criado pelo admin:"})," ",e.created_by_admin_username]}),(0,$e.jsx)("p",{className:"text-gray-700",children:e.description})]}),(0,$e.jsxs)("div",{className:"text-sm text-gray-500 mb-4",children:["Criado em: ",new Date(e.created_at).toLocaleString("pt-PT")]}),(0,$e.jsxs)("div",{className:"flex space-x-3",children:["pending"===e.status&&(0,$e.jsx)("button",{onClick:()=>(async e=>{try{let t=null;try{const e=sessionStorage.getItem("maintenanceUser");if(e){const n=JSON.parse(e);t=n&&n.id?n.id:null}}catch(Ut){console.debug("Could not parse maintenanceUser from sessionStorage",Ut)}const n={status:"in_progress"};t&&(n.assigned_to_maintenance=t),await He.request("/maintenance/ocorrencias/".concat(e),{method:"PUT",body:n}),g()}catch(l){console.error("Error starting work:",l),o("Erro ao iniciar trabalho")}})(e.id),className:"bg-blue-500 text-white px-4 py-2 rounded hover:bg-blue-600",children:"Iniciar Trabalho"}),"in_progress"===e.status&&(0,$e.jsx)("button",{onClick:()=>m(e),className:"bg-green-500 text-white px-4 py-2 rounded hover:bg-green-600",children:"Concluir Trabalho"})]})]},e.id))}),"completed"===c&&(0,$e.jsx)("div",{className:"space-y-4",children:0===a.length?(0,$e.jsx)("div",{className:"text-center py-8 text-gray-500",children:"N\xe3o h\xe1 ocorr\xeancias conclu\xeddas"}):a.map(e=>(0,$e.jsxs)("div",{className:"bg-white border rounded-lg p-6 shadow-sm",children:[(0,$e.jsxs)("div",{className:"flex justify-between items-start mb-4",children:[(0,$e.jsx)("h3",{className:"text-xl font-semibold",children:e.title}),(0,$e.jsx)("span",{className:"px-3 py-1 rounded-full text-sm font-medium ".concat(v(e.status)),children:y(e.status)})]}),(0,$e.jsxs)("div",{className:"mb-4",children:[(0,$e.jsxs)("p",{className:"text-gray-600 mb-2",children:[(0,$e.jsx)("strong",{children:"Condom\xednio:"})," ",e.condominium_name]}),(0,$e.jsxs)("p",{className:"text-gray-600 mb-2",children:[(0,$e.jsx)("strong",{children:"NIPC:"})," ",e.condominium_nipc||"N/A"]}),e.reporter_name&&(0,$e.jsxs)("p",{className:"text-gray-600 mb-2",children:[(0,$e.jsx)("strong",{children:"Reportado por:"})," ",e.reporter_name," ",e.reporter_nif?"(".concat(e.reporter_nif,")"):""]}),e.created_by_admin_username&&(0,$e.jsxs)("p",{className:"text-gray-600 mb-2",children:[(0,$e.jsx)("strong",{children:"Criado pelo admin:"})," ",e.created_by_admin_username]}),(0,$e.jsx)("p",{className:"text-gray-700 mb-2",children:e.description}),e.maintenance_report&&(0,$e.jsxs)("div",{className:"bg-gray-50 p-3 rounded",children:[(0,$e.jsx)("strong",{className:"text-gray-700",children:"Relat\xf3rio de Manuten\xe7\xe3o:"}),(0,$e.jsx)("p",{className:"text-gray-600 mt-1",children:(0,$e.jsx)("span",{className:"block overflow-hidden",title:e.maintenance_report,style:{display:"-webkit-box",WebkitLineClamp:3,WebkitBoxOrient:"vertical"},children:e.maintenance_report})})]})]}),(0,$e.jsxs)("div",{className:"text-sm text-gray-500",children:[(0,$e.jsxs)("div",{children:["Criado em: ",new Date(e.created_at).toLocaleString("pt-PT")]}),e.completed_at&&(0,$e.jsxs)("div",{children:["Conclu\xeddo em: ",new Date(e.completed_at).toLocaleString("pt-PT")]})]})]},e.id))}),u&&(0,$e.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex justify-center items-center p-4",children:(0,$e.jsxs)("div",{className:"bg-white rounded-lg p-6 w-full max-w-md",children:[(0,$e.jsx)("h3",{className:"text-lg font-semibold mb-4",children:"Concluir Trabalho"}),(0,$e.jsxs)("p",{className:"text-gray-600 mb-4",children:[(0,$e.jsx)("strong",{children:"Ocorr\xeancia:"})," ",u.title]}),(0,$e.jsxs)("div",{className:"text-sm text-gray-600 mb-4",children:[(0,$e.jsxs)("p",{children:[(0,$e.jsx)("strong",{children:"Condom\xednio:"})," ",u.condominium_name]}),(0,$e.jsxs)("p",{children:[(0,$e.jsx)("strong",{children:"NIPC:"})," ",u.condominium_nipc||"N/A"]}),u.reporter_name&&(0,$e.jsxs)("p",{children:[(0,$e.jsx)("strong",{children:"Reportado por:"})," ",u.reporter_name," ",u.reporter_nif?"(".concat(u.reporter_nif,")"):""]}),u.created_by_admin_username&&(0,$e.jsxs)("p",{children:[(0,$e.jsx)("strong",{children:"Criado pelo admin:"})," ",u.created_by_admin_username]})]}),(0,$e.jsxs)("div",{className:"mb-4",children:[(0,$e.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Relat\xf3rio de Manuten\xe7\xe3o:"}),(0,$e.jsx)("textarea",{value:p,onChange:e=>h(e.target.value),className:"w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500",rows:"4",placeholder:"Descreva o trabalho realizado...",required:!0}),(0,$e.jsxs)("div",{className:"mb-4",children:[(0,$e.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Imagens (opcional, at\xe9 5)"}),(0,$e.jsx)("input",{type:"file",accept:"image/*",multiple:!0,onChange:e=>{const t=Array.from(e.target.files||[]);if(t.length>5)return void o("Pode enviar no m\xe1ximo 5 imagens");t.every(e=>["image/jpeg","image/png","image/jpg"].includes(e.type))?x(t):o("Apenas imagens JPG/PNG s\xe3o permitidas")},className:"mt-2"}),f.length>0&&(0,$e.jsx)("div",{className:"mt-3 grid grid-cols-3 gap-2",children:f.map((e,t)=>(0,$e.jsxs)("div",{className:"border p-1 rounded",children:[(0,$e.jsx)("img",{src:URL.createObjectURL(e),alt:e.name,className:"w-full h-24 object-cover"}),(0,$e.jsx)("div",{className:"text-xs text-gray-600 truncate",children:e.name})]},t))})]})]}),(0,$e.jsxs)("div",{className:"flex space-x-3",children:[(0,$e.jsx)("button",{onClick:async()=>{if(u&&p.trim())try{if(await He.request("/maintenance/ocorrencias/".concat(u.id),{method:"PUT",body:{status:"pending_verification",maintenance_report:p}}),f&&f.length>0)try{const e=new FormData;f.forEach(t=>e.append("images",t)),await He.upload("/ocorrencias/".concat(u.id,"/images"),e)}catch(e){console.error("Error uploading images:",e),o("Relat\xf3rio enviado, mas ocorreu um erro ao enviar as imagens")}m(null),h(""),x([]),g()}catch(l){console.error("Error completing work:",l),o("Erro ao concluir trabalho")}else o("Por favor, adicione um relat\xf3rio da manuten\xe7\xe3o")},className:"bg-green-500 text-white px-4 py-2 rounded hover:bg-green-600",children:"Concluir"}),(0,$e.jsx)("button",{onClick:()=>{m(null),h("")},className:"bg-gray-500 text-white px-4 py-2 rounded hover:bg-gray-600",children:"Cancelar"})]})]})})]})},yt=()=>{const[t,n]=(0,e.useState)([]),[a,r]=(0,e.useState)([]),[s,i]=(0,e.useState)([]),[l,o]=(0,e.useState)([]),[c,d]=(0,e.useState)(!0),[u,m]=(0,e.useState)(""),[p,h]=(0,e.useState)(!1),[f,x]=(0,e.useState)(null),[g,b]=(0,e.useState)([]),[v,y]=(0,e.useState)({condominium_id:"",title:"",description:"",priority:"medium"}),[j,N]=(0,e.useState)(""),w={pending:"PENDENTE",open:"PENDENTE",pending_verification:"PENDENTE (VERIFICA\xc7\xc3O)",resolved:"RESOLVIDA",completed:"CONCLU\xcdDA",closed:"FECHADA"},k={low:"Baixa",medium:"M\xe9dia",high:"Alta",urgent:"Urgente"},S=e=>w[e]||(e||"pending").replace("_"," ").toUpperCase(),C=e=>k[e]||e;(0,e.useEffect)(()=>{E()},[]),(0,e.useEffect)(()=>{f?(async()=>{try{const e=await He.request("/ocorrencias/".concat(f.id,"/images"));b(e||[])}catch(e){console.error("Error loading ocorrencia images:",e),b([])}})():b([])},[f]);const E=async()=>{try{d(!0);const e=await He.request("/admin/ocorrencias"),t=await He.request("/condominiums"),a=await He.request("/admin/maintenance-users");n(e||[]),o(a||[]);const s=(t||[]).map(e=>ze(ze({},e),{},{name:e.name||e.nome||e.Nome||"Condom\xednio ".concat(e.id)}));r(s)}catch(e){console.error("Error fetching ocorrencias data",e),m("Erro ao carregar dados")}finally{d(!1)}};return c?(0,$e.jsx)("div",{className:"flex justify-center items-center h-64",children:(0,$e.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})}):u?(0,$e.jsxs)("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-md",children:[(0,$e.jsx)("strong",{className:"font-bold",children:"Erro!"}),(0,$e.jsxs)("span",{className:"block sm:inline",children:[" ",u]})]}):(0,$e.jsxs)("div",{className:"space-y-6",children:[(0,$e.jsxs)("div",{className:"flex justify-between items-center",children:[(0,$e.jsxs)("div",{children:[(0,$e.jsx)("h1",{className:"text-2xl font-bold text-gray-900",children:"Gest\xe3o de Ocorr\xeancias"}),(0,$e.jsx)("p",{className:"text-gray-600",children:"Gerir e monitorizar ocorr\xeancias dos condom\xednios"})]}),(0,$e.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,$e.jsx)("button",{onClick:()=>window.history.back(),className:"px-3 py-2 bg-gray-100 text-gray-700 rounded-md hover:bg-gray-200",children:"\u2190 Voltar"}),(0,$e.jsx)("button",{onClick:E,className:"px-3 py-2 bg-purple-700 text-white rounded-md hover:bg-purple-800",children:"\ud83d\udd04 Atualizar"}),(0,$e.jsx)("button",{onClick:()=>h(!0),className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700",children:"Nova Ocorr\xeancia"})]})]}),p&&(0,$e.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,$e.jsxs)("div",{className:"bg-white rounded-lg p-6 w-full max-w-md",children:[(0,$e.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Nova Ocorr\xeancia"}),(0,$e.jsxs)("form",{onSubmit:async e=>{if(e.preventDefault(),v.condominium_id&&v.title&&v.description)try{let n=null;if(j){const e=s.find(e=>String(e.id)===String(j));e&&(n=e.nif||e.NIF||null)}const a=ze(ze({},v),{},{reporter_user_id:j||null,reporter_user_nif:n});v.assigned_to_maintenance&&(a.assigned_to_maintenance=parseInt(v.assigned_to_maintenance,10));try{const e=JSON.parse(sessionStorage.getItem("adminUser")||"null");e&&e.id&&(a.created_by_admin=e.id)}catch(t){}await He.request("/admin/ocorrencias",{method:"POST",body:a});try{window.dispatchEvent(new Event("ocorrenciaCreated"))}catch(e){}y({condominium_id:"",title:"",description:"",priority:"medium"}),N(""),h(!1),E()}catch(t){console.error("Error creating ocorrencia:",t),m("Erro ao criar ocorr\xeancia")}else m("Por favor, preencha todos os campos obrigat\xf3rios")},className:"space-y-4",children:[(0,$e.jsxs)("div",{children:[(0,$e.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Condom\xednio"}),(0,$e.jsxs)("select",{required:!0,value:v.condominium_id,onChange:e=>{y(ze(ze({},v),{},{condominium_id:e.target.value})),(async e=>{if(e)try{const t=await He.request("/condominiums/".concat(e,"/users"));i(t||[])}catch(t){console.error("Error loading condo users:",t),i([])}else i([])})(e.target.value)},className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm",children:[(0,$e.jsx)("option",{value:"",children:"Selecione um condom\xednio"}),a.map(e=>(0,$e.jsx)("option",{value:e.id,children:e.name},e.id))]})]}),(0,$e.jsxs)("div",{children:[(0,$e.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"T\xedtulo"}),(0,$e.jsx)("input",{required:!0,value:v.title,onChange:e=>y(ze(ze({},v),{},{title:e.target.value})),className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md"})]}),(0,$e.jsxs)("div",{children:[(0,$e.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Descri\xe7\xe3o"}),(0,$e.jsx)("textarea",{required:!0,value:v.description,onChange:e=>y(ze(ze({},v),{},{description:e.target.value})),rows:3,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md"})]}),(0,$e.jsxs)("div",{children:[(0,$e.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Reportante (opcional)"}),(0,$e.jsxs)("select",{value:j,onChange:e=>N(e.target.value),className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md",children:[(0,$e.jsx)("option",{value:"",children:"-- Nenhum --"}),s.map(e=>(0,$e.jsxs)("option",{value:e.id,children:[e.nome||e.Nome||e.id,e.nif?" (".concat(e.nif,")"):""]},e.id))]}),(0,$e.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"Escolha o utilizador do condom\xednio que reportou a ocorr\xeancia"})]}),(0,$e.jsxs)("div",{children:[(0,$e.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Prioridade"}),(0,$e.jsxs)("select",{value:v.priority,onChange:e=>y(ze(ze({},v),{},{priority:e.target.value})),className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md",children:[(0,$e.jsx)("option",{value:"low",children:"Baixa"}),(0,$e.jsx)("option",{value:"medium",children:"M\xe9dia"}),(0,$e.jsx)("option",{value:"high",children:"Alta"}),(0,$e.jsx)("option",{value:"urgent",children:"Urgente"})]})]}),(0,$e.jsxs)("div",{children:[(0,$e.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Atribuir a Manuten\xe7\xe3o (opcional)"}),(0,$e.jsxs)("select",{value:v.assigned_to_maintenance||"",onChange:e=>y(ze(ze({},v),{},{assigned_to_maintenance:e.target.value})),className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md",children:[(0,$e.jsx)("option",{value:"",children:"-- Nenhum --"}),l.map(e=>(0,$e.jsx)("option",{value:e.id,children:e.nome||e.username},e.id))]}),(0,$e.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"Se selecionado, apenas essa conta de manuten\xe7\xe3o ver\xe1 a ocorr\xeancia."})]}),(0,$e.jsxs)("div",{className:"flex space-x-3",children:[(0,$e.jsx)("button",{type:"submit",className:"flex-1 px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700",children:"Criar Ocorr\xeancia"}),(0,$e.jsx)("button",{type:"button",onClick:()=>h(!1),className:"flex-1 px-4 py-2 bg-gray-300 text-gray-700 rounded-md hover:bg-gray-400",children:"Cancelar"})]})]})]})}),(0,$e.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[(0,$e.jsxs)("div",{className:"bg-white p-6 rounded-lg shadow border border-gray-200",children:[(0,$e.jsx)("h3",{className:"text-lg font-medium text-gray-900",children:"Total de Ocorr\xeancias"}),(0,$e.jsx)("p",{className:"text-3xl font-bold text-blue-600",children:t.length})]}),(0,$e.jsxs)("div",{className:"bg-white p-6 rounded-lg shadow border border-gray-200",children:[(0,$e.jsx)("h3",{className:"text-lg font-medium text-gray-900",children:"Pendentes"}),(0,$e.jsx)("p",{className:"text-3xl font-bold text-orange-600",children:t.filter(e=>"pending"===e.status||"open"===e.status).length})]}),(0,$e.jsxs)("div",{className:"bg-white p-6 rounded-lg shadow border border-gray-200",children:[(0,$e.jsx)("h3",{className:"text-lg font-medium text-gray-900",children:"Resolvidas"}),(0,$e.jsx)("p",{className:"text-3xl font-bold text-green-600",children:t.filter(e=>"resolved"===e.status||"completed"===e.status).length})]})]}),(0,$e.jsxs)("div",{className:"bg-white rounded-lg shadow border border-gray-200",children:[(0,$e.jsx)("div",{className:"px-6 py-4 border-b border-gray-200",children:(0,$e.jsx)("h2",{className:"text-lg font-medium text-gray-900",children:"Ocorr\xeancias"})}),(0,$e.jsx)("div",{className:"p-6",children:0===t.length?(0,$e.jsx)("p",{className:"text-gray-500 text-center py-8",children:"Nenhuma ocorr\xeancia encontrada"}):(0,$e.jsx)("div",{className:"space-y-4",children:t.map(e=>(0,$e.jsx)("div",{className:"border border-gray-200 rounded-lg p-4 hover:shadow-sm transition-shadow",children:(0,$e.jsxs)("div",{className:"flex justify-between items-start",children:[(0,$e.jsxs)("div",{className:"flex-1",children:[(0,$e.jsxs)("div",{className:"flex justify-between items-start",children:[(0,$e.jsxs)("div",{children:[(0,$e.jsx)("h3",{className:"font-semibold text-gray-900 text-lg",children:e.title}),(0,$e.jsx)("p",{className:"text-gray-600 text-sm mt-1",children:e.description})]}),(0,$e.jsxs)("div",{className:"ml-4 flex flex-col items-end space-y-2",children:[(0,$e.jsx)("span",{className:"status-badge status-badge-lg ".concat("pending"===e.status||"open"===e.status?"status-pending":"pending_verification"===e.status?"status-pending_verification":"resolved"===e.status||"completed"===e.status?"status-completed":"status-closed"),children:S(e.status)}),(0,$e.jsxs)("span",{className:"text-sm text-gray-500",children:["Prioridade: ",(0,$e.jsx)("strong",{className:"text-gray-800",children:C(e.priority)})]})]})]}),(0,$e.jsxs)("div",{className:"flex items-center space-x-4 mt-3 text-sm text-gray-500",children:[(0,$e.jsxs)("span",{children:["Condom\xednio: ",(()=>{const t=a.find(t=>t.id==e.condominium_id);return t&&(t.name||t.nome||t.Nome)||"N/A"})()]}),(0,$e.jsxs)("span",{children:["NIPC: ",e.condominium_nipc||"N/A"]}),e.created_by_admin_username&&(0,$e.jsxs)("span",{children:["Reportado por (admin): ",e.created_by_admin_username]}),e.reporter_name&&(0,$e.jsxs)("span",{children:["Reportante: ",e.reporter_name,e.reporter_nif?" (NIF: ".concat(e.reporter_nif,")"):""]})]})]}),(0,$e.jsx)("div",{className:"flex space-x-2 ml-4",children:(0,$e.jsx)("button",{onClick:()=>x(e),className:"px-3 py-1 bg-blue-600 text-white text-sm rounded hover:bg-blue-700",children:"Ver Detalhes"})})]})},e.id))})})]}),f&&(0,$e.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,$e.jsxs)("div",{className:"bg-white rounded-lg p-6 w-full max-w-2xl max-h-[90vh] overflow-y-auto",children:[(0,$e.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,$e.jsx)("h3",{className:"text-lg font-medium text-gray-900",children:"Detalhes da Ocorr\xeancia"}),(0,$e.jsx)("button",{onClick:()=>{x(null),b([])},className:"text-gray-400 hover:text-gray-600",children:"\u2715"})]}),(0,$e.jsxs)("div",{className:"space-y-4",children:[(0,$e.jsxs)("div",{children:[(0,$e.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"T\xedtulo"}),(0,$e.jsx)("p",{className:"mt-1 text-sm text-gray-900",children:f.title})]}),(0,$e.jsxs)("div",{children:[(0,$e.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Descri\xe7\xe3o"}),(0,$e.jsx)("p",{className:"mt-1 text-sm text-gray-900",children:f.description})]}),(0,$e.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,$e.jsxs)("div",{children:[(0,$e.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Condom\xednio"}),(0,$e.jsx)("p",{className:"mt-1 text-sm text-gray-900",children:f.condominium_name||(()=>{const e=a.find(e=>e.id==f.condominium_id);return e&&(e.name||e.nome)||"N/A"})()}),(0,$e.jsxs)("p",{className:"mt-1 text-sm text-gray-600",children:["NIPC: ",f.condominium_nipc||"N/A"]})]}),(0,$e.jsxs)("div",{children:[(0,$e.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Prioridade"}),(0,$e.jsx)("p",{className:"mt-1 text-sm text-gray-900",children:C(f.priority)})]}),(0,$e.jsxs)("div",{children:[(0,$e.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Status"}),(0,$e.jsx)("p",{className:"mt-1 text-sm text-gray-900",children:S(f.status)})]}),(0,$e.jsxs)("div",{children:[(0,$e.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Data"}),(0,$e.jsx)("p",{className:"mt-1 text-sm text-gray-900",children:f.created_at?new Date(f.created_at).toLocaleString():"N/A"})]})]}),f.user_name&&(0,$e.jsxs)("div",{children:[(0,$e.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Utilizador"}),(0,$e.jsx)("p",{className:"mt-1 text-sm text-gray-900",children:f.user_name}),f.user_email&&(0,$e.jsx)("p",{className:"text-sm text-gray-600",children:f.user_email})]}),f.created_by_admin_username&&(0,$e.jsxs)("div",{children:[(0,$e.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Reportado por (Admin)"}),(0,$e.jsx)("p",{className:"mt-1 text-sm text-gray-900",children:f.created_by_admin_username})]}),(f.reporter_name||f.reporter_nif)&&(0,$e.jsxs)("div",{children:[(0,$e.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Reportante"}),(0,$e.jsx)("p",{className:"mt-1 text-sm text-gray-900",children:f.reporter_name||"N/A"}),f.reporter_nif&&(0,$e.jsxs)("p",{className:"text-sm text-gray-600",children:["NIF: ",f.reporter_nif]})]}),"pending_verification"===f.status&&(0,$e.jsxs)("div",{className:"border-t pt-4",children:[(0,$e.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"A\xe7\xf5es do Administrador"}),(0,$e.jsxs)("div",{className:"flex space-x-3",children:[(0,$e.jsx)("button",{onClick:async()=>{try{const e=await He.put("/admin/ocorrencias/".concat(f.id,"/complete"),{admin_response:"Trabalho verificado e aprovado"});console.log("completed",e),x(null),b([]),E()}catch(e){console.error(e),alert("Erro ao completar ocorr\xeancia: "+e.message)}},className:"px-4 py-2 bg-green-600 text-white rounded-md hover:bg-green-700",children:"Aprovar e Finalizar"}),(0,$e.jsx)("button",{onClick:async()=>{try{const e=await He.put("/admin/ocorrencias/".concat(f.id,"/complete"),{admin_response:"Trabalho rejeitado pelo administrador",status:"pending"});console.log("rejected",e),x(null),b([]),E()}catch(e){console.error(e),alert("Erro ao rejeitar ocorr\xeancia: "+e.message)}},className:"px-4 py-2 bg-red-600 text-white rounded-md hover:bg-red-700",children:"Rejeitar"})]})]}),g&&g.length>0&&(0,$e.jsxs)("div",{children:[(0,$e.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Imagens"}),(0,$e.jsx)("div",{className:"mt-2 grid grid-cols-3 gap-2",children:g.map(e=>(0,$e.jsx)("a",{href:e.url,target:"_blank",rel:"noreferrer",className:"block border rounded overflow-hidden",children:(0,$e.jsx)("img",{src:e.url,alt:e.original_filename,className:"w-full h-28 object-cover"})},e.id))})]}),f.maintenance_report&&(0,$e.jsxs)("div",{className:"mt-4 bg-gray-50 p-3 border-l-4 border-gray-300",children:[(0,$e.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Relat\xf3rio da Manuten\xe7\xe3o"}),(0,$e.jsx)("p",{className:"mt-2 text-sm text-gray-900",children:(0,$e.jsx)("span",{title:f.maintenance_report,style:{display:"-webkit-box",WebkitLineClamp:4,WebkitBoxOrient:"vertical",overflow:"hidden"},children:f.maintenance_report})})]})]}),(0,$e.jsx)("div",{className:"flex justify-end mt-6",children:(0,$e.jsx)("button",{onClick:()=>{x(null),b([])},className:"px-4 py-2 bg-gray-300 text-gray-700 rounded-md hover:bg-gray-400",children:"Fechar"})})]})})]})};function jt(){const[t,n]=(0,e.useState)([]),[a,r]=(0,e.useState)(!0),[s,i]=(0,e.useState)(""),[l,o]=(0,e.useState)(!1),[c,d]=(0,e.useState)(""),[u,m]=(0,e.useState)(""),[p,h]=(0,e.useState)(null),[f,x]=(0,e.useState)(null),[g,b]=(0,e.useState)(""),[v,y]=(0,e.useState)(!1),[j,N]=(0,e.useState)(null),[w,k]=(0,e.useState)(""),[S,C]=(0,e.useState)(!1),E=ee();(0,e.useEffect)(()=>{const e=sessionStorage.getItem("adminUser"),t=sessionStorage.getItem("isAdmin");e&&"true"===t?(C(!0),_()):E("/login")},[E]);const _=async()=>{try{r(!0),console.log("\ud83d\udd04 Loading condominiums using DatabaseAPI...");const e=await He.request("/condominiums");Array.isArray(e)?(n(e),i(""),console.log("\u2705 Condominiums loaded:",e.length)):i("Erro ao carregar condom\xednios")}catch(s){console.error("Error loading condominiums:",s),i("Erro de liga\xe7\xe3o \xe0 base de dados")}finally{r(!1)}},P=async(e,t)=>{try{await He.request("/condominiums/".concat(e),{method:"PUT",body:t}),h(null),x(null),b(""),_(),i("")}catch(s){console.error("Error updating condominium:",s),i(s.message||"Erro ao atualizar condom\xednio")}},A=(e,t)=>{h(e.id),x(t),b("name"===t?e.name:e.nipc||"")};return S?a?(0,$e.jsx)("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:(0,$e.jsxs)("div",{className:"text-center",children:[(0,$e.jsx)("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-purple-600 mx-auto"}),(0,$e.jsx)("p",{className:"mt-4 text-gray-600",children:"A carregar condom\xednios..."})]})}):(0,$e.jsx)("div",{className:"min-h-screen bg-gray-50 py-8",children:(0,$e.jsxs)("div",{className:"container mx-auto px-4",children:[(0,$e.jsx)("div",{className:"bg-white rounded-lg shadow-md p-6 mb-6",children:(0,$e.jsxs)("div",{className:"flex justify-between items-center",children:[(0,$e.jsxs)("div",{children:[(0,$e.jsx)("h1",{className:"text-3xl font-bold text-purple-900 mb-2",children:"\ud83c\udfe2 Gest\xe3o de Condom\xednios"}),(0,$e.jsxs)("p",{className:"text-gray-600",children:["Total de condom\xednios: ",(0,$e.jsx)("span",{className:"font-bold text-purple-700",children:t.length})]})]}),(0,$e.jsxs)("div",{className:"space-x-2",children:[(0,$e.jsx)("button",{onClick:()=>E("/admin/database"),className:"bg-gray-600 text-white px-4 py-2 rounded hover:bg-gray-700 transition-colors",children:"\u2190 Voltar"}),(0,$e.jsx)("button",{onClick:()=>{sessionStorage.removeItem("adminUser"),sessionStorage.removeItem("isAdmin");try{window.dispatchEvent(new Event("adminLoggedIn")),window.dispatchEvent(new Event("userLoggedIn"))}catch(Ut){}E("/login")},className:"bg-red-600 text-white px-4 py-2 rounded hover:bg-red-700 transition-colors",children:"Logout Admin"})]})]})}),(0,$e.jsx)("div",{className:"bg-white rounded-lg shadow-md p-6 mb-6",children:(0,$e.jsxs)("div",{className:"flex flex-wrap gap-4",children:[(0,$e.jsx)("button",{onClick:()=>o(!l),className:"bg-purple-700 text-white px-6 py-2 rounded hover:bg-purple-800 transition-colors",children:"\u2795 Adicionar Condom\xednio"}),(0,$e.jsx)("button",{onClick:()=>y(!v),className:"bg-green-600 text-white px-6 py-2 rounded hover:bg-green-700 transition-colors",children:"\ud83d\udcc1 Importar Utilizadores CSV"}),(0,$e.jsx)("button",{onClick:()=>E("/admin/gestao-condominios"),className:"bg-indigo-600 text-white px-6 py-2 rounded hover:bg-indigo-700 transition-colors",children:"\ud83d\udc65 Gerir Membros"}),(0,$e.jsx)("button",{onClick:_,className:"bg-blue-600 text-white px-6 py-2 rounded hover:bg-blue-700 transition-colors",children:"\ud83d\udd04 Atualizar"})]})}),l&&(0,$e.jsxs)("div",{className:"bg-white rounded-lg shadow-md p-6 mb-6",children:[(0,$e.jsx)("h3",{className:"text-lg font-semibold mb-4",children:"Adicionar Novo Condom\xednio"}),(0,$e.jsxs)("form",{onSubmit:async e=>{if(e.preventDefault(),c.trim())try{await He.request("/condominiums",{method:"POST",body:{name:c.trim(),nipc:u.trim()||null}}),d(""),m(""),o(!1),_(),i("")}catch(s){console.error("Error creating condominium:",s),i(s.message||"Erro ao criar condom\xednio")}else i("Nome do condom\xednio \xe9 obrigat\xf3rio")},className:"flex gap-4",children:[(0,$e.jsx)("input",{type:"text",value:c,onChange:e=>d(e.target.value),placeholder:"Nome do condom\xednio",className:"flex-1 border border-gray-300 rounded px-3 py-2 focus:outline-none focus:ring-2 focus:ring-purple-500",required:!0}),(0,$e.jsx)("input",{type:"text",value:u,onChange:e=>m(e.target.value),placeholder:"NIPC (opcional)",className:"w-48 border border-gray-300 rounded px-3 py-2 focus:outline-none focus:ring-2 focus:ring-purple-500"}),(0,$e.jsx)("button",{type:"submit",className:"bg-purple-700 text-white px-6 py-2 rounded hover:bg-purple-800 transition-colors",children:"Adicionar"}),(0,$e.jsx)("button",{type:"button",onClick:()=>o(!1),className:"bg-gray-500 text-white px-6 py-2 rounded hover:bg-gray-600 transition-colors",children:"Cancelar"})]})]}),v&&(0,$e.jsxs)("div",{className:"bg-white rounded-lg shadow-md p-6 mb-6",children:[(0,$e.jsx)("h3",{className:"text-lg font-semibold mb-4",children:"Importar Utilizadores via CSV"}),(0,$e.jsxs)("form",{onSubmit:async e=>{if(e.preventDefault(),j)if(w)try{const e=new FormData;e.append("csvFile",j),e.append("condominium_id",w);const t=await He.request("/import-users-csv",{method:"POST",body:e,isFormData:!0});N(null),k(""),y(!1),alert("".concat(t.message,"\n").concat(t.errors?"Erros: "+t.errors.join(", "):"")),i("")}catch(s){console.error("Error importing CSV:",s),i(s.message||"Erro ao processar ficheiro CSV")}else i("Selecione um condom\xednio para associar os utilizadores");else i("Ficheiro CSV \xe9 obrigat\xf3rio")},children:[(0,$e.jsxs)("div",{className:"mb-4",children:[(0,$e.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Selecionar Condom\xednio *"}),(0,$e.jsxs)("select",{value:w,onChange:e=>k(e.target.value),className:"w-full border border-gray-300 rounded px-3 py-2 focus:outline-none focus:ring-2 focus:ring-purple-500",required:!0,children:[(0,$e.jsx)("option",{value:"",children:"Selecione um condom\xednio"}),t.map(e=>(0,$e.jsx)("option",{value:e.id,children:e.name},e.id))]}),(0,$e.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"Todos os utilizadores importados ser\xe3o associados ao condom\xednio selecionado"})]}),(0,$e.jsxs)("div",{className:"mb-4",children:[(0,$e.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Ficheiro CSV *"}),(0,$e.jsx)("input",{type:"file",accept:".csv",onChange:e=>N(e.target.files[0]),className:"w-full border border-gray-300 rounded px-3 py-2 focus:outline-none focus:ring-2 focus:ring-purple-500",required:!0}),(0,$e.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"Formato esperado: Refer\xeancia;Nome;NIF;Telem\xf3vel;Telefone;E-mail 1;E-mail 2;E-mail 3;..."})]}),(0,$e.jsxs)("div",{className:"flex gap-4",children:[(0,$e.jsx)("button",{type:"submit",className:"bg-green-600 text-white px-6 py-2 rounded hover:bg-green-700 transition-colors",children:"Importar"}),(0,$e.jsx)("button",{type:"button",onClick:()=>y(!1),className:"bg-gray-500 text-white px-6 py-2 rounded hover:bg-gray-600 transition-colors",children:"Cancelar"})]})]})]}),s&&(0,$e.jsx)("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-lg mb-6",children:s}),(0,$e.jsx)("div",{className:"bg-white rounded-lg shadow-md overflow-hidden",children:(0,$e.jsx)("div",{className:"overflow-x-auto",children:(0,$e.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,$e.jsx)("thead",{className:"bg-gray-50",children:(0,$e.jsxs)("tr",{children:[(0,$e.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"ID"}),(0,$e.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Nome"}),(0,$e.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Criado em"}),(0,$e.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"A\xe7\xf5es"})]})}),(0,$e.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:t.map(e=>(0,$e.jsxs)("tr",{className:"hover:bg-gray-50",children:[(0,$e.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:["#",e.id]}),(0,$e.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,$e.jsxs)("div",{className:"space-y-1",children:[p===e.id&&"name"===f?(0,$e.jsx)("input",{type:"text",value:g,onChange:e=>b(e.target.value),onBlur:()=>P(e.id,{name:g}),onKeyPress:t=>{"Enter"===t.key&&P(e.id,{name:g})},className:"border border-gray-300 rounded px-2 py-1 focus:outline-none focus:ring-2 focus:ring-purple-500",autoFocus:!0}):(0,$e.jsx)("span",{className:"text-sm font-medium text-gray-900 cursor-pointer hover:text-purple-600 block",onClick:()=>A(e,"name"),children:e.name}),p===e.id&&"nipc"===f?(0,$e.jsx)("input",{type:"text",value:g,onChange:e=>b(e.target.value),onBlur:()=>P(e.id,{nipc:g||null}),onKeyPress:t=>{"Enter"===t.key&&P(e.id,{nipc:g||null})},className:"border border-gray-300 rounded px-2 py-1 focus:outline-none focus:ring-2 focus:ring-purple-500 text-sm",placeholder:"NIPC",autoFocus:!0}):(0,$e.jsx)("span",{className:"text-xs text-gray-500 cursor-pointer hover:text-purple-600 block",onClick:()=>A(e,"nipc"),children:e.nipc||"Adicionar NIPC"})]})}),(0,$e.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:new Date(e.created_at).toLocaleString("pt-PT")}),(0,$e.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium space-x-2",children:[(0,$e.jsx)("button",{onClick:()=>h(e.id),className:"text-purple-600 hover:text-purple-900",children:"\u270f\ufe0f Editar"}),(0,$e.jsx)("button",{onClick:()=>(async(e,t)=>{if(window.confirm('Tem certeza que deseja eliminar o condom\xednio "'.concat(t,'"? Esta a\xe7\xe3o n\xe3o pode ser desfeita.')))try{await He.request("/condominiums/".concat(e),{method:"DELETE"}),_(),i("")}catch(s){console.error("Error deleting condominium:",s),i(s.message||"Erro ao eliminar condom\xednio")}})(e.id,e.name),className:"text-red-600 hover:text-red-900",children:"\ud83d\uddd1\ufe0f Eliminar"})]})]},e.id))})]})})}),0===t.length&&!a&&(0,$e.jsxs)("div",{className:"text-center py-12",children:[(0,$e.jsx)("div",{className:"text-gray-400 text-6xl mb-4",children:"\ud83c\udfe2"}),(0,$e.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Nenhum condom\xednio encontrado"}),(0,$e.jsx)("p",{className:"text-gray-500",children:"Adicione o primeiro condom\xednio para come\xe7ar."})]})]})}):null}function Nt(){const[t,n]=(0,e.useState)([]),[a,r]=(0,e.useState)(""),[s,i]=(0,e.useState)([]),[l,o]=(0,e.useState)({nome:"",nif:"",email1:"",telemovel:"",telefone:"",apartment:""}),[c,d]=(0,e.useState)(""),[u,m]=(0,e.useState)([]),[p,h]=(0,e.useState)(!1);(0,e.useEffect)(()=>{He.request("/condominiums").then(e=>n(e||[]))},[]);return(0,$e.jsxs)("div",{className:"p-4",children:[(0,$e.jsx)("h2",{className:"text-xl font-bold mb-2",children:"Gest\xe3o de Condom\xednios"}),(0,$e.jsxs)("div",{className:"bg-white rounded p-4 mb-4",children:[(0,$e.jsx)("label",{className:"block mb-2 font-medium",children:"Selecione Condom\xednio"}),(0,$e.jsxs)("select",{value:a,onChange:e=>(async e=>{const t=e?parseInt(e,10):"";if(r(t),!e)return void i([]);const n=await He.request("/condominiums/".concat(e));if(n&&n.condominium){const t=await He.request("/condominiums/".concat(e,"/users"));i(t||[])}})(e.target.value),className:"border p-2 rounded w-full",children:[(0,$e.jsx)("option",{value:"",children:"-- selecione --"}),t.map(e=>(0,$e.jsxs)("option",{value:e.id,children:[e.name," (",e.id,")"]},e.id))]})]}),a?(0,$e.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,$e.jsxs)("div",{className:"bg-white rounded p-4",children:[(0,$e.jsx)("h3",{className:"font-semibold mb-2",children:"Membros do condom\xednio"}),(0,$e.jsxs)("div",{className:"max-h-96 overflow-auto",children:[0===s.length&&(0,$e.jsx)("div",{className:"text-gray-500",children:"Nenhum membro associado"}),(0,$e.jsx)("ul",{children:s.map(e=>(0,$e.jsxs)("li",{className:"flex justify-between border-b py-2",children:[(0,$e.jsxs)("div",{children:[(0,$e.jsx)("div",{className:"font-medium",children:e.nome}),(0,$e.jsxs)("div",{className:"text-xs text-gray-600",children:["NIF: ",e.nif]}),(0,$e.jsxs)("div",{className:"text-xs text-gray-600",children:["Tel: ",e.telemovel||e.telefone||"-"]})]}),(0,$e.jsx)("div",{className:"flex flex-col justify-center",children:(0,$e.jsx)("button",{onClick:()=>(async e=>{await He.request("/users/".concat(e,"/condominiums/").concat(a),{method:"DELETE"}),i(t=>t.filter(t=>t.id!==(e&&parseInt(e,10))))})(e.id),className:"text-red-600",children:"Remover"})})]},e.id))})]})]}),(0,$e.jsxs)("div",{className:"bg-white rounded p-4",children:[(0,$e.jsx)("h3",{className:"font-semibold mb-2",children:"Adicionar membro manualmente"}),(0,$e.jsxs)("div",{className:"mb-4",children:[(0,$e.jsx)("label",{className:"block text-sm font-medium",children:"Procurar utilizador existente"}),(0,$e.jsxs)("div",{className:"flex gap-2 mt-2",children:[(0,$e.jsx)("input",{value:c,onChange:e=>d(e.target.value),placeholder:"NIF ou nome",className:"flex-1 border p-2 rounded"}),(0,$e.jsx)("button",{onClick:async()=>{if(!c)return alert("Digite NIF ou nome para procurar");h(!0);try{const e=await He.request("/users/search?search=".concat(encodeURIComponent(c)));m(e||[])}catch(e){console.error("Search error:",e),alert("Erro na pesquisa: "+(e.message||e))}finally{h(!1)}},className:"bg-gray-200 px-3 rounded",children:p?"...":"Procurar"})]}),u.length>0&&(0,$e.jsx)("div",{className:"mt-3 border rounded p-2 max-h-48 overflow-auto",children:u.map(e=>(0,$e.jsxs)("div",{className:"flex items-center justify-between py-1",children:[(0,$e.jsxs)("div",{children:[(0,$e.jsx)("div",{className:"font-medium",children:e.nome}),(0,$e.jsxs)("div",{className:"text-xs text-gray-600",children:["NIF: ",e.nif]})]}),(0,$e.jsx)("div",{children:(0,$e.jsx)("button",{onClick:async()=>{if(!a)return alert("Selecione um condom\xednio primeiro");try{const t=await He.addUserToCondominium(e.id,parseInt(a,10));if(console.log("Add existing user link response:",t),!t||!t.success)throw new Error(t&&t.error||"Erro ao associar utilizador");const n=await He.request("/condominiums/".concat(a,"/users"));i(n||[]),m([]),d(""),alert("Utilizador associado com sucesso")}catch(t){console.error("Error adding existing user:",t),alert("Erro ao associar utilizador: "+(t.message||t))}},className:"bg-blue-600 text-white px-3 py-1 rounded",children:"Adicionar"})})]},e.id))})]}),(0,$e.jsxs)("div",{className:"space-y-2",children:[(0,$e.jsxs)("div",{children:[(0,$e.jsx)("label",{className:"block text-sm",children:"NIF *"}),(0,$e.jsx)("input",{className:"w-full border p-2 rounded",value:l.nif,onChange:e=>o(ze(ze({},l),{},{nif:e.target.value}))})]}),(0,$e.jsxs)("div",{children:[(0,$e.jsx)("label",{className:"block text-sm",children:"Nome"}),(0,$e.jsx)("input",{className:"w-full border p-2 rounded",value:l.nome,onChange:e=>o(ze(ze({},l),{},{nome:e.target.value}))})]}),(0,$e.jsxs)("div",{children:[(0,$e.jsx)("label",{className:"block text-sm",children:"E-mail"}),(0,$e.jsx)("input",{className:"w-full border p-2 rounded",value:l.email1,onChange:e=>o(ze(ze({},l),{},{email1:e.target.value}))})]}),(0,$e.jsxs)("div",{className:"flex gap-2",children:[(0,$e.jsxs)("div",{className:"flex-1",children:[(0,$e.jsx)("label",{className:"block text-sm",children:"Telem\xf3vel"}),(0,$e.jsx)("input",{className:"w-full border p-2 rounded",value:l.telemovel,onChange:e=>o(ze(ze({},l),{},{telemovel:e.target.value}))})]}),(0,$e.jsxs)("div",{className:"flex-1",children:[(0,$e.jsx)("label",{className:"block text-sm",children:"Telefone"}),(0,$e.jsx)("input",{className:"w-full border p-2 rounded",value:l.telefone,onChange:e=>o(ze(ze({},l),{},{telefone:e.target.value}))})]})]}),(0,$e.jsxs)("div",{children:[(0,$e.jsx)("label",{className:"block text-sm",children:"Apartamento (opcional)"}),(0,$e.jsx)("input",{className:"w-full border p-2 rounded",value:l.apartment,onChange:e=>o(ze(ze({},l),{},{apartment:e.target.value}))})]}),(0,$e.jsxs)("div",{className:"flex gap-2",children:[(0,$e.jsx)("button",{onClick:async()=>{if(!l.nif)return alert("NIF \xe9 obrigat\xf3rio");if(!a)return alert("Selecione um condom\xednio antes de associar um utilizador");try{const e=await He.request("/users/search?search=".concat(encodeURIComponent(l.nif)));let t=e&&e[0]&&e[0].id||null;if(!t){const e=await He.createUser(l);if(!e||!e.id)throw new Error("Erro ao criar o utilizador");t=e.id}console.log("Linking user",t,"to condominium",a);const n=await He.addUserToCondominium(t,parseInt(a,10));if(console.log("Link response:",n),!n||!n.success)throw new Error(n&&n.error||"Erro ao associar utilizador ao condom\xednio");await He.getCondominiumById(a);const r=await He.request("/condominiums/".concat(a,"/users"));i(r||[]),o({nome:"",nif:"",email1:"",telemovel:"",telefone:"",apartment:""}),alert("Utilizador criado e associado com sucesso")}catch(e){console.error("Add member error:",e),alert("Erro ao adicionar/associar utilizador: "+(e.message||e))}},className:"bg-blue-600 text-white px-4 py-2 rounded",children:"Adicionar e Associar"}),(0,$e.jsx)("button",{onClick:()=>o({nome:"",nif:"",email1:"",telemovel:"",telefone:"",apartment:""}),className:"bg-gray-300 px-4 py-2 rounded",children:"Limpar"})]})]})]})]}):(0,$e.jsx)("div",{className:"text-gray-600",children:"Selecione um condom\xednio acima para ver e gerir membros."})]})}function wt(){const[t,n]=(0,e.useState)([]),[a,r]=(0,e.useState)(0),[s,i]=(0,e.useState)(!0),[l,o]=(0,e.useState)(""),[c,d]=(0,e.useState)("all"),[u,m]=(0,e.useState)(!1),p=ee();(0,e.useEffect)(()=>{const e=sessionStorage.getItem("adminUser"),t=sessionStorage.getItem("isAdmin");if(!e||"true"!==t)return void p("/login");m(!0),h(),f();const n=setInterval(()=>{h(),f()},6e4),a=()=>{h(),f()};window.addEventListener("notificationCreated",a);let r=null;try{const e=JSON.parse(sessionStorage.getItem("adminUser")||"{}"),t=e&&e.id?e.id:null;if(t){r=new EventSource("".concat("http://localhost:3002","/api/notifications/stream?admin_id=").concat(t)),r.addEventListener("notification_created",e=>{try{const t=JSON.parse(e.data);console.log("SSE notification_created",t)}catch(t){}a()})}}catch(Ut){console.warn("Error opening SSE in AdminNotifications",Ut)}return()=>{clearInterval(n),window.removeEventListener("notificationCreated",a);try{r&&r.close()}catch(Ut){}}},[p]);const h=async()=>{try{i(!0),console.log("\ud83d\udd04 Loading notifications using DatabaseAPI...");const e=await He.request("/notifications");Array.isArray(e)?(n(e),o(""),console.log("\u2705 Notifications loaded:",e.length)):o("Erro ao carregar notifica\xe7\xf5es")}catch(l){console.error("Error loading notifications:",l),o("Erro de liga\xe7\xe3o \xe0 base de dados")}finally{i(!1)}},f=async()=>{try{const e=await He.getUnreadNotificationsCount();r(e.count||0)}catch(l){console.error("Error loading unread count:",l)}},x=e=>{switch(e){case"profile_change":return"\ud83d\udc64";case"reclamacao":return"\ud83d\udcdd";case"pedido":return"\ud83d\udccb";default:return"\ud83d\udd14"}},g=e=>{switch(e){case"profile_change":return"bg-blue-100 text-blue-800";case"reclamacao":return"bg-red-100 text-red-800";case"pedido":return"bg-green-100 text-green-800";default:return"bg-gray-100 text-gray-800"}},b=t.filter(e=>"all"===c||("unread"===c?0===e.read_status:e.type===c));return u?s?(0,$e.jsx)("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:(0,$e.jsxs)("div",{className:"text-center",children:[(0,$e.jsx)("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-purple-600 mx-auto"}),(0,$e.jsx)("p",{className:"mt-4 text-gray-600",children:"A carregar notifica\xe7\xf5es..."})]})}):(0,$e.jsx)("div",{className:"min-h-screen bg-gray-50 py-8",children:(0,$e.jsxs)("div",{className:"container mx-auto px-4",children:[(0,$e.jsx)("div",{className:"bg-white rounded-lg shadow-md p-6 mb-6",children:(0,$e.jsxs)("div",{className:"flex justify-between items-center",children:[(0,$e.jsxs)("div",{children:[(0,$e.jsx)("h1",{className:"text-3xl font-bold text-purple-900 mb-2",children:"\ud83d\udd14 Notifica\xe7\xf5es Administrativas"}),(0,$e.jsxs)("p",{className:"text-gray-600",children:["Total: ",(0,$e.jsx)("span",{className:"font-bold text-purple-700",children:t.length})," | N\xe3o lidas: ",(0,$e.jsx)("span",{className:"font-bold text-red-600",children:a})]})]}),(0,$e.jsxs)("div",{className:"space-x-2",children:[(0,$e.jsx)("button",{onClick:()=>p("/admin/database"),className:"bg-gray-600 text-white px-4 py-2 rounded hover:bg-gray-700 transition-colors",children:"\u2190 Voltar"}),(0,$e.jsx)("button",{onClick:async()=>{try{const e=JSON.parse(sessionStorage.getItem("adminUser")||"{}"),t=await He.request("/notifications/mark-all-read",{method:"PUT",body:{admin_id:e.id}});console.log("Mark all read response:",t),h(),f();try{window.dispatchEvent(new Event("notificationCreated"))}catch(Ut){}try{window.dispatchEvent(new Event("adminLoggedIn"))}catch(Ut){}}catch(e){console.error("Error marking all read:",e)}},className:"bg-green-600 text-white px-4 py-2 rounded hover:bg-green-700 transition-colors",children:"Marcar todas como lidas"}),(0,$e.jsx)("button",{onClick:h,className:"bg-purple-700 text-white px-4 py-2 rounded hover:bg-purple-800 transition-colors",children:"\ud83d\udd04 Atualizar"}),(0,$e.jsx)("button",{onClick:()=>{sessionStorage.removeItem("adminUser"),sessionStorage.removeItem("isAdmin"),p("/login")},className:"bg-red-600 text-white px-4 py-2 rounded hover:bg-red-700 transition-colors",children:"Logout Admin"})]})]})}),(0,$e.jsxs)("div",{className:"bg-white rounded-lg shadow-md p-6 mb-6",children:[(0,$e.jsx)("h3",{className:"text-lg font-semibold mb-4",children:"\ud83d\udd0d Filtros"}),(0,$e.jsxs)("div",{className:"flex flex-wrap gap-2",children:[(0,$e.jsxs)("button",{onClick:()=>d("all"),className:"px-4 py-2 rounded transition-colors ".concat("all"===c?"bg-purple-700 text-white":"bg-gray-200 text-gray-700 hover:bg-gray-300"),children:["Todas (",t.length,")"]}),(0,$e.jsxs)("button",{onClick:()=>d("unread"),className:"px-4 py-2 rounded transition-colors ".concat("unread"===c?"bg-purple-700 text-white":"bg-gray-200 text-gray-700 hover:bg-gray-300"),children:["N\xe3o Lidas (",a,")"]}),(0,$e.jsxs)("button",{onClick:()=>d("profile_change"),className:"px-4 py-2 rounded transition-colors ".concat("profile_change"===c?"bg-purple-700 text-white":"bg-gray-200 text-gray-700 hover:bg-gray-300"),children:["\ud83d\udc64 Perfil (",t.filter(e=>"profile_change"===e.type).length,")"]}),(0,$e.jsxs)("button",{onClick:()=>d("reclamacao"),className:"px-4 py-2 rounded transition-colors ".concat("reclamacao"===c?"bg-purple-700 text-white":"bg-gray-200 text-gray-700 hover:bg-gray-300"),children:["\ud83d\udcdd Reclama\xe7\xf5es (",t.filter(e=>"reclamacao"===e.type).length,")"]}),(0,$e.jsxs)("button",{onClick:()=>d("pedido"),className:"px-4 py-2 rounded transition-colors ".concat("pedido"===c?"bg-purple-700 text-white":"bg-gray-200 text-gray-700 hover:bg-gray-300"),children:["\ud83d\udccb Pedidos (",t.filter(e=>"pedido"===e.type).length,")"]})]})]}),l&&(0,$e.jsx)("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-lg mb-6",children:l}),(0,$e.jsx)("div",{className:"space-y-4",children:b.map(e=>(0,$e.jsx)("div",{className:"bg-white rounded-lg shadow-md p-6 border-l-4 ".concat(0===e.read_status?"border-purple-500 bg-purple-50":"border-gray-300"),children:(0,$e.jsxs)("div",{className:"flex justify-between items-start",children:[(0,$e.jsxs)("div",{className:"flex-1",children:[(0,$e.jsxs)("div",{className:"flex items-center gap-3 mb-2",children:[(0,$e.jsx)("span",{className:"text-2xl",children:x(e.type)}),(0,$e.jsxs)("span",{className:"px-2 py-1 rounded-full text-xs font-medium ".concat(g(e.type)),children:["profile_change"===e.type&&"Altera\xe7\xe3o de Perfil","reclamacao"===e.type&&"Reclama\xe7\xe3o","pedido"===e.type&&"Pedido"]}),0===e.read_status&&(0,$e.jsx)("span",{className:"bg-red-500 text-white text-xs px-2 py-1 rounded-full",children:"NOVA"})]}),(0,$e.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:e.title}),(0,$e.jsx)("p",{className:"text-gray-700 mb-3",children:e.message}),(0,$e.jsxs)("div",{className:"flex items-center gap-4 text-sm text-gray-500",children:[(0,$e.jsxs)("span",{children:["\ud83d\udc64 ",e.user_name]}),(0,$e.jsxs)("span",{children:["\ud83d\udcc5 ",new Date(e.created_at).toLocaleString("pt-PT")]})]})]}),(0,$e.jsxs)("div",{className:"flex items-center gap-2",children:[0===e.read_status&&(0,$e.jsx)("button",{onClick:()=>(async e=>{try{const t=JSON.parse(sessionStorage.getItem("adminUser")||"null");await He.request("/notifications/".concat(e,"/read"),{method:"PUT",body:{admin_id:null===t||void 0===t?void 0:t.id}}),n(t=>t.map(t=>t.id===e?ze(ze({},t),{},{read_status:1}):t)),f();try{window.dispatchEvent(new Event("notificationCreated"))}catch(Ut){}try{window.dispatchEvent(new Event("adminLoggedIn"))}catch(Ut){}}catch(l){console.error("Error marking notification as read:",l)}})(e.id),className:"bg-purple-600 text-white px-3 py-1 rounded text-sm hover:bg-purple-700 transition-colors",children:"Marcar como Lida"}),e.user_id&&(0,$e.jsx)("button",{onClick:()=>p("/user/".concat(e.user_id)),className:"bg-blue-600 text-white px-3 py-1 rounded text-sm hover:bg-blue-700 transition-colors",children:"Ver Utilizador"})]})]})},e.id))}),0===b.length&&!s&&(0,$e.jsxs)("div",{className:"text-center py-12",children:[(0,$e.jsx)("div",{className:"text-gray-400 text-6xl mb-4",children:"\ud83d\udd14"}),(0,$e.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Nenhuma notifica\xe7\xe3o encontrada"}),(0,$e.jsx)("p",{className:"text-gray-500",children:"all"===c?"N\xe3o h\xe1 notifica\xe7\xf5es no sistema.":'N\xe3o h\xe1 notifica\xe7\xf5es do tipo "'.concat(c,'".')})]})]})}):null}function kt(){const[t,n]=(0,e.useState)(null),[a,r]=(0,e.useState)(!0),[s,i]=(0,e.useState)(!1),[l,o]=(0,e.useState)(""),[c,d]=(0,e.useState)(""),[u,m]=(0,e.useState)({nome:"",telemovel:"",telefone:"",email1:"",email2:"",email3:""}),p=ee();(0,e.useEffect)(()=>{const e=sessionStorage.getItem("currentUser");if(!e)return void p("/login");const t=JSON.parse(e);n(t),m({nome:t.nome||"",telemovel:t.telemovel||"",telefone:t.telefone||"",email1:t.email1||"",email2:t.email2||"",email3:t.email3||""}),r(!1)},[p]);const h=e=>{const{name:t,value:n}=e.target;m(e=>ze(ze({},e),{},{[t]:n}))};return a?(0,$e.jsx)("div",{className:"min-h-screen bg-white text-gray-800",children:(0,$e.jsx)("main",{className:"pt-4",children:(0,$e.jsx)("div",{className:"container mx-auto px-4",children:(0,$e.jsx)("div",{className:"flex items-center justify-center py-12",children:(0,$e.jsx)("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-purple-600"})})})})}):(0,$e.jsx)("div",{className:"min-h-screen bg-white text-gray-800",children:(0,$e.jsx)("main",{className:"pt-4",children:(0,$e.jsx)("div",{className:"container mx-auto px-4 max-w-2xl",children:(0,$e.jsxs)("div",{className:"bg-white rounded-lg shadow-md p-6",children:[(0,$e.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,$e.jsx)("h1",{className:"text-3xl font-bold text-purple-900",children:"\ud83d\udc64 Meu Perfil"}),(0,$e.jsx)("button",{onClick:()=>{sessionStorage.removeItem("currentUser"),p("/login")},className:"bg-red-600 text-white px-4 py-2 rounded hover:bg-red-700 transition-colors",children:"Logout"})]}),l&&(0,$e.jsx)("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-lg mb-6",children:l}),c&&(0,$e.jsx)("div",{className:"bg-green-50 border border-green-200 text-green-700 px-4 py-3 rounded-lg mb-6",children:c}),(0,$e.jsxs)("form",{onSubmit:async e=>{e.preventDefault(),i(!0),o(""),d("");try{const e=await He.updateUserProfile(t.id,u);d(e.message);const a=ze(ze({},t),u);sessionStorage.setItem("currentUser",JSON.stringify(a)),n(a)}catch(l){console.error("Error updating profile:",l),o(l.message||"Erro ao atualizar perfil")}finally{i(!1)}},className:"space-y-6",children:[(0,$e.jsxs)("div",{children:[(0,$e.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Nome Completo *"}),(0,$e.jsx)("input",{type:"text",name:"nome",value:u.nome,onChange:h,className:"w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-purple-500",required:!0})]}),(0,$e.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,$e.jsxs)("div",{children:[(0,$e.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Telem\xf3vel"}),(0,$e.jsx)("input",{type:"tel",name:"telemovel",value:u.telemovel,onChange:h,className:"w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-purple-500",placeholder:"91234567"})]}),(0,$e.jsxs)("div",{children:[(0,$e.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Telefone Fixo"}),(0,$e.jsx)("input",{type:"tel",name:"telefone",value:u.telefone,onChange:h,className:"w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-purple-500",placeholder:"212345678"})]})]}),(0,$e.jsxs)("div",{children:[(0,$e.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email Principal"}),(0,$e.jsx)("input",{type:"email",name:"email1",value:u.email1,onChange:h,className:"w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-purple-500",placeholder:"exemplo@email.com"})]}),(0,$e.jsxs)("div",{children:[(0,$e.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email Secund\xe1rio"}),(0,$e.jsx)("input",{type:"email",name:"email2",value:u.email2,onChange:h,className:"w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-purple-500",placeholder:"exemplo2@email.com"})]}),(0,$e.jsxs)("div",{children:[(0,$e.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email Alternativo"}),(0,$e.jsx)("input",{type:"email",name:"email3",value:u.email3,onChange:h,className:"w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-purple-500",placeholder:"exemplo3@email.com"})]}),(0,$e.jsx)("div",{className:"pt-4",children:(0,$e.jsx)("button",{type:"submit",disabled:s,className:"w-full bg-purple-700 text-white py-3 px-4 rounded-md hover:bg-purple-800 focus:outline-none focus:ring-2 focus:ring-purple-500 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:s?"A guardar...":"Guardar Altera\xe7\xf5es"})})]}),(0,$e.jsx)("div",{className:"mt-8 pt-6 border-t border-gray-200",children:(0,$e.jsxs)("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[(0,$e.jsx)("h3",{className:"text-sm font-medium text-blue-900 mb-2",children:"\u2139\ufe0f Informa\xe7\xe3o"}),(0,$e.jsx)("p",{className:"text-sm text-blue-700",children:"As suas altera\xe7\xf5es ser\xe3o notificadas aos administradores para verifica\xe7\xe3o. Pode alterar o seu nome, n\xfameros de telefone e endere\xe7os de email."})]})}),(0,$e.jsx)("div",{className:"mt-4",children:(0,$e.jsxs)("div",{className:"bg-gray-50 border border-gray-200 rounded-lg p-4",children:[(0,$e.jsx)("h3",{className:"text-sm font-medium text-gray-900 mb-2",children:"\ud83d\udccb Informa\xe7\xf5es da Conta"}),(0,$e.jsxs)("div",{className:"text-sm text-gray-600 space-y-1",children:[(0,$e.jsxs)("p",{children:[(0,$e.jsx)("strong",{children:"NIF:"})," ",(null===t||void 0===t?void 0:t.nif)||"N\xe3o definido"]}),(0,$e.jsxs)("p",{children:[(0,$e.jsx)("strong",{children:"ID:"})," #",null===t||void 0===t?void 0:t.id]}),(0,$e.jsxs)("p",{children:[(0,$e.jsx)("strong",{children:"Membro desde:"})," ",null!==t&&void 0!==t&&t.created_at?new Date(t.created_at).toLocaleDateString("pt-PT"):"N\xe3o dispon\xedvel"]})]})]})})]})})})})}function St(){const[t,n]=(0,e.useState)(null),[a,r]=(0,e.useState)({nome:"",telemovel:"",telefone:"",email1:"",email2:"",email3:""}),[s,i]=(0,e.useState)(!0),[l,o]=(0,e.useState)(!1),[c,d]=(0,e.useState)(""),[u,m]=(0,e.useState)(""),p=ee();(0,e.useEffect)(()=>{const e=sessionStorage.getItem("loggedUser");if(!e)return void p("/login");const t=JSON.parse(e);n(t),h(t.id)},[p]);const h=async e=>{try{const t=await He.request("/users/".concat(e));t?r({nome:t.nome||"",telemovel:t.telemovel||"",telefone:t.telefone||"",email1:t.email1||"",email2:t.email2||"",email3:t.email3||""}):m("Erro ao carregar dados do utilizador")}catch(u){console.error("Error loading user data:",u),m("Erro de liga\xe7\xe3o \xe0 base de dados")}finally{i(!1)}},f=e=>{const{name:t,value:n}=e.target;r(e=>ze(ze({},e),{},{[t]:n}))};return s?(0,$e.jsx)("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:(0,$e.jsxs)("div",{className:"text-center",children:[(0,$e.jsx)("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-purple-600 mx-auto"}),(0,$e.jsx)("p",{className:"mt-4 text-gray-600",children:"A carregar perfil..."})]})}):(0,$e.jsx)("div",{className:"min-h-screen bg-gray-50 py-8",children:(0,$e.jsxs)("div",{className:"container mx-auto px-4 max-w-2xl",children:[(0,$e.jsx)("div",{className:"bg-white rounded-lg shadow-md p-6 mb-6",children:(0,$e.jsxs)("div",{className:"flex items-center justify-between",children:[(0,$e.jsxs)("div",{children:[(0,$e.jsx)("h1",{className:"text-3xl font-bold text-purple-900 mb-2",children:"\ud83d\udc64 Meu Perfil"}),(0,$e.jsx)("p",{className:"text-gray-600",children:"Atualize os seus dados pessoais"})]}),(0,$e.jsx)("button",{onClick:()=>p("/condo-info"),className:"bg-purple-700 text-white px-4 py-2 rounded hover:bg-purple-800 transition-colors",children:"\u2190 Voltar"})]})}),c&&(0,$e.jsx)("div",{className:"bg-green-100 border border-green-400 text-green-700 px-4 py-3 rounded mb-6",children:c}),u&&(0,$e.jsx)("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded mb-6",children:u}),(0,$e.jsx)("div",{className:"bg-white rounded-lg shadow-md p-6",children:(0,$e.jsxs)("form",{onSubmit:async e=>{e.preventDefault(),o(!0),d(""),m("");try{const s=await He.request("/users/".concat(t.id,"/profile"),{method:"PUT",body:a});if(s.success){d("Perfil atualizado com sucesso! ".concat(s.changes," altera\xe7\xe3o(\xf5es) registrada(s)."));try{const e=await He.request("/users/".concat(t.id));if(e){const s=ze(ze({},e),{},{Nome:e.nome||e.Nome||a.nome||"",NIF:e.nif||e.NIF||t&&(t.nif||t.NIF)||"",Telemovel:e.telemovel||e.Telemovel||a.telemovel||"",Telefone:e.telefone||e.Telefone||a.telefone||"",condominiumsList:e.condominiumsList||e.condominiums||e.condominium_details||[]});sessionStorage.setItem("loggedUser",JSON.stringify(s)),n(s),r({nome:e.nome||"",telemovel:e.telemovel||"",telefone:e.telefone||"",email1:e.email1||"",email2:e.email2||"",email3:e.email3||""})}}catch(e){console.warn("Could not reload user after profile update",e)}try{window.dispatchEvent(new Event("notificationCreated"))}catch(e){}try{window.dispatchEvent(new Event("userLoggedIn"))}catch(e){}}else m("Erro ao atualizar perfil: ".concat(s.error||"Erro desconhecido"))}catch(u){console.error("Error updating profile:",u),m("Erro de liga\xe7\xe3o \xe0 base de dados")}finally{o(!1)}},className:"space-y-6",children:[(0,$e.jsxs)("div",{children:[(0,$e.jsx)("label",{htmlFor:"nome",className:"block text-sm font-medium text-gray-700 mb-2",children:"Nome Completo *"}),(0,$e.jsx)("input",{type:"text",id:"nome",name:"nome",value:a.nome,onChange:f,required:!0,className:"w-full border border-gray-300 rounded-lg px-4 py-2 focus:ring-2 focus:ring-purple-500",placeholder:"Digite o seu nome completo"})]}),(0,$e.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,$e.jsxs)("div",{children:[(0,$e.jsx)("label",{htmlFor:"telemovel",className:"block text-sm font-medium text-gray-700 mb-2",children:"Telem\xf3vel"}),(0,$e.jsx)("input",{type:"tel",id:"telemovel",name:"telemovel",value:a.telemovel,onChange:f,className:"w-full border border-gray-300 rounded-lg px-4 py-2 focus:ring-2 focus:ring-purple-500",placeholder:"912 345 678"})]}),(0,$e.jsxs)("div",{children:[(0,$e.jsx)("label",{htmlFor:"telefone",className:"block text-sm font-medium text-gray-700 mb-2",children:"Telefone Fixo"}),(0,$e.jsx)("input",{type:"tel",id:"telefone",name:"telefone",value:a.telefone,onChange:f,className:"w-full border border-gray-300 rounded-lg px-4 py-2 focus:ring-2 focus:ring-purple-500",placeholder:"212 345 678"})]})]}),(0,$e.jsxs)("div",{children:[(0,$e.jsx)("label",{htmlFor:"email1",className:"block text-sm font-medium text-gray-700 mb-2",children:"Email Principal"}),(0,$e.jsx)("input",{type:"email",id:"email1",name:"email1",value:a.email1,onChange:f,className:"w-full border border-gray-300 rounded-lg px-4 py-2 focus:ring-2 focus:ring-purple-500",placeholder:"exemplo@email.com"})]}),(0,$e.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,$e.jsxs)("div",{children:[(0,$e.jsx)("label",{htmlFor:"email2",className:"block text-sm font-medium text-gray-700 mb-2",children:"Email Alternativo 1"}),(0,$e.jsx)("input",{type:"email",id:"email2",name:"email2",value:a.email2,onChange:f,className:"w-full border border-gray-300 rounded-lg px-4 py-2 focus:ring-2 focus:ring-purple-500",placeholder:"alternativo@email.com"})]}),(0,$e.jsxs)("div",{children:[(0,$e.jsx)("label",{htmlFor:"email3",className:"block text-sm font-medium text-gray-700 mb-2",children:"Email Alternativo 2"}),(0,$e.jsx)("input",{type:"email",id:"email3",name:"email3",value:a.email3,onChange:f,className:"w-full border border-gray-300 rounded-lg px-4 py-2 focus:ring-2 focus:ring-purple-500",placeholder:"outro@email.com"})]})]}),(0,$e.jsxs)("div",{className:"flex space-x-4",children:[(0,$e.jsx)("button",{type:"submit",disabled:l,className:"bg-purple-700 text-white px-6 py-2 rounded hover:bg-purple-800 transition-colors disabled:opacity-50",children:l?"\ud83d\udcbe A guardar...":"\ud83d\udcbe Guardar Altera\xe7\xf5es"}),(0,$e.jsx)("button",{type:"button",onClick:()=>p("/condo-info"),className:"bg-gray-600 text-white px-6 py-2 rounded hover:bg-gray-700 transition-colors",children:"Cancelar"})]})]})}),(0,$e.jsx)("div",{className:"mt-6 bg-blue-50 border border-blue-200 rounded-lg p-4",children:(0,$e.jsxs)("p",{className:"text-sm text-blue-700",children:[(0,$e.jsx)("strong",{children:"\u2139\ufe0f Nota:"})," Todas as altera\xe7\xf5es ao seu perfil s\xe3o registadas e os administradores ser\xe3o notificados. O seu NIF n\xe3o pode ser alterado atrav\xe9s desta interface."]})})]})})}const Ct=()=>{const[t,n]=(0,e.useState)([]),[a,r]=(0,e.useState)(""),[s,i]=(0,e.useState)(""),[l,o]=(0,e.useState)([]),[c,d]=(0,e.useState)("");(0,e.useEffect)(()=>{(async()=>{try{const e=await He.getAllCondominiums();n(e||[])}catch(Ut){console.error(Ut)}})()},[]);return(0,$e.jsxs)("div",{className:"p-6",children:[(0,$e.jsx)("h2",{className:"text-xl font-bold mb-4",children:"Criar Administrador"}),c&&(0,$e.jsx)("div",{className:"mb-4",children:c}),(0,$e.jsxs)("form",{onSubmit:async e=>{e.preventDefault(),d("");try{await He.post("/admins",{username:a,password:s,scope:"limited",allowed_condominiums:l}),d("Admin criado com sucesso"),r(""),i(""),o([])}catch(t){console.error(t),d("Erro ao criar admin: "+(t.message||""))}},className:"space-y-4 max-w-md",children:[(0,$e.jsxs)("div",{children:[(0,$e.jsx)("label",{className:"block text-sm font-medium",children:"Username"}),(0,$e.jsx)("input",{className:"mt-1 w-full border px-2 py-1",value:a,onChange:e=>r(e.target.value),required:!0})]}),(0,$e.jsxs)("div",{children:[(0,$e.jsx)("label",{className:"block text-sm font-medium",children:"Password"}),(0,$e.jsx)("input",{type:"password",className:"mt-1 w-full border px-2 py-1",value:s,onChange:e=>i(e.target.value),required:!0})]}),(0,$e.jsxs)("div",{children:[(0,$e.jsx)("label",{className:"block text-sm font-medium",children:"Condom\xednios (selecione)"}),(0,$e.jsx)("div",{className:"grid grid-cols-3 gap-2 mt-2 max-h-40 overflow-auto border p-2",children:t.map(e=>(0,$e.jsxs)("label",{className:"text-sm",children:[(0,$e.jsx)("input",{type:"checkbox",checked:l.includes(e.id),onChange:()=>{return t=e.id,o(e=>e.includes(t)?e.filter(e=>e!==t):[...e,t]);var t}})," ",e.name]},e.id))})]}),(0,$e.jsx)("div",{children:(0,$e.jsx)("button",{className:"px-4 py-2 bg-blue-600 text-white rounded",children:"Criar Administrador"})})]})]})},Et=()=>{const[t,n]=(0,e.useState)(""),[a,r]=(0,e.useState)(""),[s,i]=(0,e.useState)(""),[l,o]=(0,e.useState)("");return(0,$e.jsxs)("div",{className:"p-6",children:[(0,$e.jsx)("h2",{className:"text-xl font-bold mb-4",children:"Criar Utilizador de Manuten\xe7\xe3o"}),l&&(0,$e.jsx)("div",{className:"mb-4",children:l}),(0,$e.jsxs)("form",{onSubmit:async e=>{if(e.preventDefault(),o(""),a)try{await He.post("/admin/maintenance-users",{nome:t,username:a,password:s}),o("Utilizador de manuten\xe7\xe3o criado"),n(""),r(""),i("")}catch(l){console.error(l),o("Erro: "+(l.message||""))}else o("Username \xe9 obrigat\xf3rio")},className:"space-y-4 max-w-md",children:[(0,$e.jsxs)("div",{children:[(0,$e.jsx)("label",{className:"block text-sm font-medium",children:"Nome"}),(0,$e.jsx)("input",{className:"mt-1 w-full border px-2 py-1",value:t,onChange:e=>n(e.target.value),required:!0})]}),(0,$e.jsxs)("div",{children:[(0,$e.jsx)("label",{className:"block text-sm font-medium",children:"Username"}),(0,$e.jsx)("input",{className:"mt-1 w-full border px-2 py-1",value:a,onChange:e=>r(e.target.value),required:!0})]}),(0,$e.jsxs)("div",{children:[(0,$e.jsx)("label",{className:"block text-sm font-medium",children:"Password"}),(0,$e.jsx)("input",{type:"password",className:"mt-1 w-full border px-2 py-1",value:s,onChange:e=>i(e.target.value),required:!0})]}),(0,$e.jsx)("div",{children:(0,$e.jsx)("button",{className:"px-4 py-2 bg-blue-600 text-white rounded",children:"Criar Manuten\xe7\xe3o"})})]})]})},_t=()=>{const[t,n]=(0,e.useState)([]),[a,r]=(0,e.useState)([]),[s,i]=(0,e.useState)([]),[l,o]=(0,e.useState)(null),[c,d]=(0,e.useState)(null),[u,m]=(0,e.useState)("");(0,e.useEffect)(()=>{p(),(async()=>{try{const e=await He.getAllCondominiums();i(e||[])}catch(Ut){console.error("Failed to load condominiums",Ut)}})()},[]);const p=async()=>{try{const e=await He.get("/admins"),t=await He.get("/admin/maintenance-users");n(e||[]),r(t||[])}catch(Ut){console.error(Ut),m("Erro a carregar utilizadores")}};return(0,$e.jsxs)("div",{className:"p-6",children:[(0,$e.jsx)("h2",{className:"text-xl font-bold mb-4",children:"Gerir Administradores e Manuten\xe7\xe3o"}),u&&(0,$e.jsx)("div",{className:"mb-4",children:u}),(0,$e.jsxs)("section",{className:"mb-6",children:[(0,$e.jsx)("h3",{className:"font-semibold",children:"Administradores"}),(0,$e.jsx)("div",{className:"mt-2 space-y-2",children:t.map(e=>(0,$e.jsxs)("div",{className:"p-3 border rounded flex justify-between items-center",children:[(0,$e.jsxs)("div",{children:[(0,$e.jsxs)("div",{className:"font-medium",children:[e.username," ","limited"===e.scope&&(0,$e.jsx)("span",{className:"text-sm text-gray-500",children:"(limitado)"})]}),(0,$e.jsxs)("div",{className:"text-sm text-gray-600",children:["Condom\xednios: ",e.allowed_condominiums?JSON.parse(e.allowed_condominiums).map(e=>(s.find(t=>t.id===e)||{name:e}).name).join(", "):"Todos"]})]}),(0,$e.jsxs)("div",{className:"space-x-2",children:[(0,$e.jsx)("button",{onClick:()=>{return o(ze(ze({},t=e),{},{allowed_condominiums:t.allowed_condominiums?JSON.parse(t.allowed_condominiums):[]}));var t},className:"px-3 py-1 bg-yellow-400 rounded",children:"Editar"}),(0,$e.jsx)("button",{onClick:()=>(async e=>{if(window.confirm("Tem a certeza que quer apagar este administrador?"))try{await He.delete("/admins/".concat(e)),m("Administrador apagado"),await p()}catch(Ut){console.error(Ut),m("Erro ao apagar admin")}})(e.id),className:"px-3 py-1 bg-red-500 text-white rounded",children:"Apagar"})]})]},e.id))})]}),(0,$e.jsxs)("section",{children:[(0,$e.jsx)("h3",{className:"font-semibold",children:"Utilizadores de Manuten\xe7\xe3o"}),(0,$e.jsx)("div",{className:"mt-2 space-y-2",children:a.map(e=>(0,$e.jsxs)("div",{className:"p-3 border rounded flex justify-between items-center",children:[(0,$e.jsx)("div",{children:(0,$e.jsxs)("div",{className:"font-medium",children:[e.nome," ",e.username&&(0,$e.jsxs)("span",{className:"text-sm text-gray-500",children:["(",e.username,")"]})]})}),(0,$e.jsxs)("div",{className:"space-x-2",children:[(0,$e.jsx)("button",{onClick:()=>d(e),className:"px-3 py-1 bg-yellow-400 rounded",children:"Editar"}),(0,$e.jsx)("button",{onClick:()=>(async e=>{if(window.confirm("Tem a certeza que quer apagar este utilizador de manuten\xe7\xe3o?"))try{await He.delete("/admin/maintenance-users/".concat(e)),m("Utilizador de manuten\xe7\xe3o apagado"),await p()}catch(Ut){console.error(Ut),m("Erro ao apagar utilizador de manuten\xe7\xe3o")}})(e.id),className:"px-3 py-1 bg-red-500 text-white rounded",children:"Apagar"})]})]},e.id))})]}),l&&(0,$e.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-40 flex items-center justify-center",children:(0,$e.jsxs)("div",{className:"bg-white p-6 rounded shadow-lg w-full max-w-lg",children:[(0,$e.jsx)("h3",{className:"font-bold mb-3",children:"Editar Administrador"}),(0,$e.jsxs)("div",{className:"space-y-3",children:[(0,$e.jsxs)("div",{children:[(0,$e.jsx)("label",{className:"block text-sm",children:"Username"}),(0,$e.jsx)("input",{className:"mt-1 w-full border px-2 py-1",value:l.username,onChange:e=>o(ze(ze({},l),{},{username:e.target.value}))})]}),(0,$e.jsxs)("div",{children:[(0,$e.jsx)("label",{className:"block text-sm",children:"Nova Password (opcional)"}),(0,$e.jsx)("input",{type:"password",className:"mt-1 w-full border px-2 py-1",value:l.password||"",onChange:e=>o(ze(ze({},l),{},{password:e.target.value}))})]}),(0,$e.jsxs)("div",{children:[(0,$e.jsx)("label",{className:"block text-sm",children:"Scope"}),(0,$e.jsxs)("select",{className:"mt-1 border px-2 py-1",value:l.scope,onChange:e=>o(ze(ze({},l),{},{scope:e.target.value})),children:[(0,$e.jsx)("option",{value:"full",children:"Full"}),(0,$e.jsx)("option",{value:"limited",children:"Limited"})]})]}),(0,$e.jsxs)("div",{children:[(0,$e.jsx)("label",{className:"block text-sm mb-2",children:"Condom\xednios permitidos (selecione)"}),(0,$e.jsx)("div",{className:"grid grid-cols-3 gap-2 mt-1 max-h-40 overflow-auto border p-2",children:s.map(e=>{const t=(l.allowed_condominiums||[]).includes(e.id);return(0,$e.jsxs)("label",{className:"text-sm flex items-center",children:[(0,$e.jsx)("input",{type:"checkbox",checked:t,onChange:()=>{const t=new Set(l.allowed_condominiums||[]);t.has(e.id)?t.delete(e.id):t.add(e.id),o(ze(ze({},l),{},{allowed_condominiums:Array.from(t)}))}}),(0,$e.jsx)("span",{className:"ml-2",children:e.name})]},e.id)})})]}),(0,$e.jsxs)("div",{className:"flex justify-end space-x-2 mt-4",children:[(0,$e.jsx)("button",{onClick:()=>o(null),className:"px-4 py-2 border rounded",children:"Cancelar"}),(0,$e.jsx)("button",{onClick:async()=>{m("");try{await He.put("/admins/".concat(l.id),{username:l.username,password:l.password||void 0,scope:l.scope,allowed_condominiums:l.allowed_condominiums}),o(null),await p(),m("Administrador atualizado")}catch(Ut){console.error(Ut),m("Erro ao atualizar admin: "+(Ut.message||""))}},className:"px-4 py-2 bg-green-600 text-white rounded",children:"Guardar"})]})]})]})}),c&&(0,$e.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-40 flex items-center justify-center",children:(0,$e.jsxs)("div",{className:"bg-white p-6 rounded shadow-lg w-full max-w-lg",children:[(0,$e.jsx)("h3",{className:"font-bold mb-3",children:"Editar Utilizador de Manuten\xe7\xe3o"}),(0,$e.jsxs)("div",{className:"space-y-3",children:[(0,$e.jsxs)("div",{children:[(0,$e.jsx)("label",{className:"block text-sm",children:"Nome"}),(0,$e.jsx)("input",{className:"mt-1 w-full border px-2 py-1",value:c.nome,onChange:e=>d(ze(ze({},c),{},{nome:e.target.value}))})]}),(0,$e.jsxs)("div",{children:[(0,$e.jsx)("label",{className:"block text-sm",children:"Username (opcional)"}),(0,$e.jsx)("input",{className:"mt-1 w-full border px-2 py-1",value:c.username||"",onChange:e=>d(ze(ze({},c),{},{username:e.target.value}))})]}),(0,$e.jsxs)("div",{children:[(0,$e.jsx)("label",{className:"block text-sm",children:"Nova Password (opcional)"}),(0,$e.jsx)("input",{type:"password",className:"mt-1 w-full border px-2 py-1",value:c.password||"",onChange:e=>d(ze(ze({},c),{},{password:e.target.value}))})]}),(0,$e.jsxs)("div",{className:"flex justify-end space-x-2 mt-4",children:[(0,$e.jsx)("button",{onClick:()=>d(null),className:"px-4 py-2 border rounded",children:"Cancelar"}),(0,$e.jsx)("button",{onClick:async()=>{try{if(!c.username)return void m("Username obrigat\xf3rio");await He.put("/admin/maintenance-users/".concat(c.id),{nome:c.nome,username:c.username,password:c.password||void 0}),d(null),m("Utilizador de manuten\xe7\xe3o atualizado"),await p()}catch(Ut){console.error(Ut),m("Erro ao atualizar utilizador de manuten\xe7\xe3o")}},className:"px-4 py-2 bg-green-600 text-white rounded",children:"Guardar"})]})]})]})})]})};function Pt(){const[t,n]=(0,e.useState)([]),[a,r]=(0,e.useState)([]),[s,i]=(0,e.useState)(""),[l,o]=(0,e.useState)(""),[c,d]=(0,e.useState)([]),[u,m]=(0,e.useState)(!1),[p,h]=(0,e.useState)(""),[f,x]=(0,e.useState)("send"),[g,b]=(0,e.useState)([]),v=ee();(0,e.useEffect)(()=>{(async()=>{try{const e=await He.getAllCondominiums(),t=JSON.parse(sessionStorage.getItem("adminUser")||"{}");if(t&&t.allowed_condominiums){let a=t.allowed_condominiums;if("string"===typeof a)try{a=JSON.parse(a)}catch(Ut){a=[]}n((e||[]).filter(e=>a.includes(e.id)))}else t&&t.scope,n(e||[])}catch(e){console.error("Error loading condominiums:",e)}})()},[]),(0,e.useEffect)(()=>{"history"===f&&(async()=>{try{const e=await He.getAdminMessages();console.log("AdminMessages history raw data:",e);const t=(e||[]).filter(e=>e&&(e.admin_id||0===e.admin_id||"number"===typeof e.admin_id));b(t)}catch(e){console.error("Error loading admin message history:",e)}})()},[f]);return(0,$e.jsx)("div",{className:"min-h-screen bg-gray-50 py-8",children:(0,$e.jsxs)("div",{className:"container mx-auto px-4 max-w-4xl",children:[(0,$e.jsx)("div",{className:"bg-white rounded-lg shadow-md p-6 mb-6",children:(0,$e.jsxs)("div",{className:"flex justify-between items-center",children:[(0,$e.jsxs)("div",{children:[(0,$e.jsx)("h1",{className:"text-3xl font-bold text-purple-900",children:"\ud83d\udce3 Enviar Mensagem aos Cond\xf3minos"}),(0,$e.jsx)("p",{className:"text-gray-600",children:"Envie comunicados com anexos para condom\xednios selecionados."})]}),(0,$e.jsxs)("div",{className:"space-x-2",children:[(0,$e.jsx)("button",{onClick:()=>v("/admin/database"),className:"bg-gray-600 text-white px-4 py-2 rounded",children:"\u2190 Voltar"}),(0,$e.jsx)("button",{onClick:()=>x("send"),className:"px-4 py-2 rounded ".concat("send"===f?"bg-purple-700 text-white":"bg-gray-100"),children:"Enviar"}),(0,$e.jsx)("button",{onClick:()=>x("history"),className:"px-4 py-2 rounded ".concat("history"===f?"bg-purple-700 text-white":"bg-gray-100"),children:"Hist\xf3rico"}),(0,$e.jsx)("button",{onClick:()=>{const e=t.map(e=>e.id);r(e),i("Mensagem de Natal"),o("Boas Festas! A Domusgest deseja a todos um Feliz Natal\ud83c\udf85 e um pr\xf3spero Ano Novo\ud83c\udf86!!!")},className:"bg-red-600 text-white px-4 py-2 rounded",children:"Op\xe7\xe3o Natal"})]})]})}),p&&(0,$e.jsx)("div",{className:"mb-4 p-3 rounded bg-green-100 text-green-800",children:p}),"send"===f&&(0,$e.jsxs)("div",{className:"bg-white rounded-lg shadow-md p-6 mb-6",children:[(0,$e.jsxs)("div",{className:"mb-4",children:[(0,$e.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"T\xedtulo"}),(0,$e.jsx)("input",{value:s,onChange:e=>i(e.target.value),className:"w-full border rounded px-3 py-2"})]}),(0,$e.jsxs)("div",{className:"mb-4",children:[(0,$e.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Mensagem"}),(0,$e.jsx)("textarea",{value:l,onChange:e=>o(e.target.value),rows:6,className:"w-full border rounded px-3 py-2"})]}),(0,$e.jsxs)("div",{className:"mb-4",children:[(0,$e.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Anexos"}),(0,$e.jsx)("input",{type:"file",multiple:!0,accept:"application/pdf,image/*",onChange:e=>{d(Array.from(e.target.files||[]))}})]}),(0,$e.jsxs)("div",{className:"mb-4",children:[(0,$e.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Selecionar Condom\xednios"}),(0,$e.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2",children:t.map(e=>(0,$e.jsxs)("label",{className:"p-3 border rounded cursor-pointer ".concat(a.includes(e.id)?"bg-blue-50 border-blue-300":""),children:[(0,$e.jsx)("input",{type:"checkbox",checked:a.includes(e.id),onChange:()=>{return t=e.id,void r(e=>e.includes(t)?e.filter(e=>e!==t):[...e,t]);var t},className:"mr-2"})," ",e.name||e.nome]},e.id))})]}),(0,$e.jsxs)("div",{className:"flex gap-3",children:[(0,$e.jsx)("button",{onClick:async()=>{m(!0),h("");try{const e=new FormData;e.append("title",s),e.append("body",l),e.append("type","general"),e.append("condominium_ids",JSON.stringify(a));for(const t of c)e.append("files",t);await He.postAdminMessage(e);h("Mensagem enviada com sucesso"),i(""),o(""),r([]),d([])}catch(e){console.error("Error sending admin message:",e),h("Erro ao enviar mensagem")}finally{m(!1)}},disabled:u,className:"bg-purple-700 text-white px-4 py-2 rounded",children:u?"Enviando...":"Enviar Mensagem"}),(0,$e.jsx)("button",{onClick:()=>{i(""),o(""),r([]),d([])},className:"bg-gray-600 text-white px-4 py-2 rounded",children:"Limpar"})]})]}),"history"===f&&(0,$e.jsxs)("div",{className:"bg-white rounded-lg shadow-md p-6 mb-6",children:[(0,$e.jsx)("h2",{className:"text-xl font-semibold mb-4",children:"Hist\xf3rico de Mensagens"}),0===g.length?(0,$e.jsx)("div",{children:"Nenhuma mensagem encontrada."}):(0,$e.jsx)("div",{className:"space-y-4",children:g.map(e=>(0,$e.jsxs)("div",{className:"p-4 border rounded",children:[(0,$e.jsx)("div",{className:"flex justify-between items-center",children:(0,$e.jsxs)("div",{children:[(0,$e.jsx)("div",{className:"font-semibold",children:e.title}),(0,$e.jsx)("div",{className:"text-sm text-gray-500",children:new Date(e.created_at).toLocaleString()})]})}),(0,$e.jsx)("div",{className:"mt-2",children:e.body}),e.files&&e.files.length>0&&(0,$e.jsxs)("div",{className:"mt-2",children:[(0,$e.jsx)("strong",{children:"Anexos:"}),(0,$e.jsx)("ul",{children:e.files.map(t=>(0,$e.jsx)("li",{children:(0,$e.jsx)("a",{className:"text-blue-600",href:He.fileUrl(e.id,t.id),target:"_blank",rel:"noopener noreferrer",children:t.original_filename})},t.id))})]})]},e.id))})]})]})})}function At(){const[t,n]=(0,e.useState)([]),[a,r]=(0,e.useState)(!0),s=ee();return(0,e.useEffect)(()=>{const e=JSON.parse(sessionStorage.getItem("loggedUser")||"{}");e&&e.id&&(async()=>{try{const t=await He.getUserAdminMessages(e.id);n(t||[])}catch(t){console.error("Error loading admin messages for user:",t)}finally{r(!1)}})()},[]),a?(0,$e.jsx)("div",{className:"min-h-screen flex items-center justify-center",children:"A carregar mensagens..."}):(0,$e.jsx)("div",{className:"min-h-screen bg-gray-50",children:(0,$e.jsxs)("main",{className:"pt-4 container mx-auto px-4 max-w-4xl",children:[(0,$e.jsx)("div",{className:"mb-4",children:(0,$e.jsx)("button",{onClick:()=>s(-1),className:"text-gray-600 hover:text-gray-900",children:"\u2190 Voltar"})}),(0,$e.jsx)("h1",{className:"text-3xl font-bold mb-4",children:"\ud83d\udce3 Mensagens do Administrador"}),0===t.length?(0,$e.jsx)("div",{className:"p-6 bg-white rounded shadow",children:"Nenhuma mensagem."}):(0,$e.jsx)("div",{className:"space-y-4",children:t.map(e=>(0,$e.jsxs)("div",{className:"bg-white rounded p-4 shadow",children:[(0,$e.jsx)("div",{className:"flex justify-between items-center mb-2",children:(0,$e.jsxs)("div",{children:[(0,$e.jsx)("h3",{className:"font-semibold text-lg",children:e.title}),(0,$e.jsx)("div",{className:"text-sm text-gray-500",children:new Date(e.created_at).toLocaleString()})]})}),(0,$e.jsx)("div",{className:"mb-2 whitespace-pre-line",children:e.body}),e.files&&e.files.length>0&&(0,$e.jsxs)("div",{className:"mt-2",children:[(0,$e.jsx)("strong",{children:"Anexos:"}),(0,$e.jsx)("ul",{className:"list-disc ml-5 mt-2",children:e.files.map(t=>(0,$e.jsx)("li",{children:(0,$e.jsx)("a",{className:"text-blue-600",href:He.fileUrl(e.id,t.id),target:"_blank",rel:"noopener noreferrer",children:t.original_filename})},t.id))})]})]},e.id))})]})})}function It(){const[t,n]=(0,e.useState)([]),[a,r]=(0,e.useState)(!0),[s,i]=(0,e.useState)("all"),[l,o]=(0,e.useState)(null),c=ee();(0,e.useEffect)(()=>{const e=JSON.parse(sessionStorage.getItem("loggedUser")||"{}");e&&e.id?(o(e),(async()=>{try{const t=await He.getUserNotifications(e.id);n(t||[])}catch(t){console.error("Error loading user notifications:",t)}finally{r(!1)}})()):c("/login")},[c]);const d=t.filter(e=>"all"===s||("messages"===s?"admin_message"===e.type:"documents"===s?"document"===e.type:"assembleias"!==s||"assembleia"===e.type)),u=async e=>{if(l&&l.id&&e)try{await He.markUserNotificationAsRead(l.id,e),n(t=>t.map(t=>t.id===e?ze(ze({},t),{},{read_status:1}):t)),window.dispatchEvent(new Event("notificationCreated"))}catch(t){console.warn("Failed to mark notification as read:",t)}};return a?(0,$e.jsx)("div",{className:"min-h-screen flex items-center justify-center",children:"A carregar notifica\xe7\xf5es..."}):(0,$e.jsx)("div",{className:"min-h-screen bg-gray-50",children:(0,$e.jsxs)("main",{className:"pt-4 container mx-auto px-4 max-w-4xl",children:[(0,$e.jsx)("div",{className:"mb-4",children:(0,$e.jsx)("button",{onClick:()=>c(-1),className:"text-gray-600 hover:text-gray-900",children:"\u2190 Voltar"})}),(0,$e.jsx)("h1",{className:"text-3xl font-bold mb-4",children:"\ud83d\udcec As Minhas Notifica\xe7\xf5es"}),(0,$e.jsxs)("div",{className:"flex space-x-2 mb-4",children:[(0,$e.jsx)("button",{onClick:()=>i("all"),className:"px-3 py-1 rounded "+("all"===s?"bg-blue-600 text-white":"bg-gray-200"),children:"Todas"}),(0,$e.jsx)("button",{onClick:()=>i("messages"),className:"px-3 py-1 rounded "+("messages"===s?"bg-blue-600 text-white":"bg-gray-200"),children:"Mensagens"}),(0,$e.jsx)("button",{onClick:()=>i("documents"),className:"px-3 py-1 rounded "+("documents"===s?"bg-blue-600 text-white":"bg-gray-200"),children:"Documentos"}),(0,$e.jsx)("button",{onClick:()=>i("assembleias"),className:"px-3 py-1 rounded "+("assembleias"===s?"bg-blue-600 text-white":"bg-gray-200"),children:"Assembleias"})]}),0===d.length?(0,$e.jsx)("div",{className:"p-6 bg-white rounded shadow",children:"Nenhuma notifica\xe7\xe3o."}):(0,$e.jsx)("div",{className:"space-y-4",children:d.map(e=>(0,$e.jsx)("div",{className:"bg-white rounded p-4 shadow flex items-start gap-4 "+(e.read_status?"":"border-l-4 border-blue-500"),children:(0,$e.jsxs)("div",{className:"flex-1",children:[(0,$e.jsxs)("div",{className:"flex justify-between items-center mb-2",children:[(0,$e.jsxs)("div",{children:[(0,$e.jsx)("h3",{className:"font-semibold text-lg",children:e.title}),(0,$e.jsxs)("div",{className:"text-sm text-gray-500",children:[new Date(e.created_at).toLocaleString(),e.condominium_name&&(0,$e.jsxs)("span",{children:[" \u2022 ",e.condominium_name]})]})]}),!e.read_status&&(0,$e.jsx)("span",{className:"bg-blue-100 text-blue-800 text-xs px-2 py-1 rounded",children:"Novo"})]}),(0,$e.jsx)("div",{className:"text-gray-700",children:e.message}),(0,$e.jsxs)("div",{className:"mt-3 flex gap-2",children:["admin_message"===e.type&&(0,$e.jsx)("button",{onClick:()=>(async e=>{await u(e.id),c("/notifications/message/".concat(e.related_id),{state:{notificationId:e.id}})})(e),className:"text-blue-600 hover:text-blue-800 text-sm",children:"Ver mensagem \u2192"}),"document"===e.type&&(0,$e.jsx)("button",{onClick:()=>(async e=>{await u(e.id),c("/notifications/document/".concat(e.related_id),{state:{notificationId:e.id}})})(e),className:"text-blue-600 hover:text-blue-800 text-sm",children:"Ver documento \u2192"}),"assembleia"===e.type&&(0,$e.jsx)("button",{onClick:()=>(async e=>{await u(e.id),c("/notifications/assembleia/".concat(e.related_id),{state:{notificationId:e.id}})})(e),className:"text-blue-600 hover:text-blue-800 text-sm",children:"Ver assembleia \u2192"})]})]})},e.id))})]})})}function Lt(){const[t,n]=(0,e.useState)([]),[a,r]=(0,e.useState)(!0),s=ee();return(0,e.useEffect)(()=>{const e=JSON.parse(sessionStorage.getItem("loggedUser")||"{}");e&&e.id?(async()=>{try{const t=await He.getUserOcorrencias(e.id);n(t||[])}catch(t){console.error("Error loading ocorr\xeancias:",t)}finally{r(!1)}})():s("/login")},[s]),a?(0,$e.jsx)("div",{className:"min-h-screen flex items-center justify-center",children:"A carregar ocorr\xeancias..."}):(0,$e.jsx)("div",{className:"min-h-screen bg-gray-50",children:(0,$e.jsxs)("main",{className:"pt-4 container mx-auto px-4 max-w-4xl",children:[(0,$e.jsx)("div",{className:"mb-4",children:(0,$e.jsx)("button",{onClick:()=>s(-1),className:"text-gray-600 hover:text-gray-900",children:"\u2190 Voltar"})}),(0,$e.jsx)("h1",{className:"text-3xl font-bold mb-4",children:"\ud83d\udd27 Ocorr\xeancias"}),0===t.length?(0,$e.jsx)("div",{className:"p-6 bg-white rounded shadow",children:"Nenhuma ocorr\xeancia encontrada."}):(0,$e.jsx)("div",{className:"space-y-4",children:t.map(e=>(0,$e.jsxs)("div",{className:"bg-white rounded p-4 shadow",children:[(0,$e.jsxs)("div",{className:"flex justify-between items-start",children:[(0,$e.jsxs)("div",{children:[(0,$e.jsx)("h3",{className:"font-semibold text-lg",children:e.title}),(0,$e.jsxs)("div",{className:"text-sm text-gray-500 space-x-2",children:[(0,$e.jsx)("span",{children:new Date(e.created_at).toLocaleString()}),(0,$e.jsx)("span",{children:"\u2022"}),(0,$e.jsxs)("span",{children:["Estado: ",Ot(e.status)]}),e.condominium_name&&(0,$e.jsxs)($e.Fragment,{children:[(0,$e.jsx)("span",{children:"\u2022"}),(0,$e.jsx)("span",{children:e.condominium_name})]})]})]}),(0,$e.jsx)(Tt,{status:e.status})]}),(0,$e.jsxs)("div",{className:"mt-3 text-gray-700",children:[(0,$e.jsx)("p",{className:"font-medium",children:"Descri\xe7\xe3o:"}),(0,$e.jsx)("p",{className:"whitespace-pre-line",children:e.description})]}),e.latest_update&&(0,$e.jsxs)("div",{className:"mt-4 bg-gray-50 p-3 rounded",children:[(0,$e.jsx)("p",{className:"text-sm text-gray-600",children:"\xdaltima atualiza\xe7\xe3o:"}),(0,$e.jsx)("p",{className:"mt-1",children:e.latest_update}),(0,$e.jsx)("p",{className:"text-sm text-gray-500 mt-1",children:new Date(e.updated_at).toLocaleString()})]})]},e.id))})]})})}function Tt(e){let t,{status:n}=e;switch(n){case"pending":t="bg-yellow-100 text-yellow-800";break;case"in_progress":t="bg-blue-100 text-blue-800";break;case"resolved":t="bg-green-100 text-green-800";break;case"cancelled":t="bg-red-100 text-red-800";break;default:t="bg-gray-100 text-gray-800"}return(0,$e.jsx)("span",{className:"px-2 py-1 rounded-full text-sm font-medium "+t,children:Ot(n)})}function Ot(e){switch(e){case"pending":return"Pendente";case"in_progress":return"Em Andamento";case"resolved":return"Resolvido";case"cancelled":return"Cancelado";default:return e}}function zt(){const{messageId:t}=te(),n=ee(),a=X(),[r,s]=(0,e.useState)(null),[i,l]=(0,e.useState)(!0),[o,c]=(0,e.useState)("");(0,e.useEffect)(()=>{const e=JSON.parse(sessionStorage.getItem("loggedUser")||"{}");if(!e||!e.id)return void n("/login");(async()=>{try{if(a.state&&a.state.notificationId)try{await He.markUserNotificationAsRead(e.id,a.state.notificationId),window.dispatchEvent(new Event("notificationCreated"))}catch(n){console.warn("Failed to mark notification as read:",n)}const r=await He.getUserAdminMessage(e.id,t);s(r)}catch(r){console.error("Error loading admin message detail:",r),c("N\xe3o foi poss\xedvel carregar a mensagem.")}finally{l(!1)}})()},[t,n,a.state]);return i?(0,$e.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:(0,$e.jsx)("div",{className:"text-gray-600",children:"A carregar mensagem..."})}):o?(0,$e.jsx)("div",{className:"min-h-screen bg-gray-50",children:(0,$e.jsxs)("main",{className:"container mx-auto px-4 py-10 max-w-3xl",children:[(0,$e.jsx)("button",{onClick:()=>n(-1),className:"text-gray-600 hover:text-gray-900 mb-4",children:"\u2190 Voltar"}),(0,$e.jsx)("div",{className:"bg-white rounded shadow p-6 text-red-600",children:o})]})}):r?(0,$e.jsx)("div",{className:"min-h-screen bg-gray-50",children:(0,$e.jsxs)("main",{className:"container mx-auto px-4 py-10 max-w-3xl",children:[(0,$e.jsx)("button",{onClick:()=>n(-1),className:"text-gray-600 hover:text-gray-900 mb-6",children:"\u2190 Voltar"}),(0,$e.jsxs)("div",{className:"bg-white rounded-lg shadow p-6",children:[(0,$e.jsxs)("div",{className:"flex justify-between items-start mb-4",children:[(0,$e.jsxs)("div",{children:[(0,$e.jsx)("h1",{className:"text-2xl font-bold text-gray-900",children:r.title}),(0,$e.jsxs)("div",{className:"text-sm text-gray-500 mt-1",children:["Enviado em ",(d=r.created_at,d?new Date(d).toLocaleString("pt-PT"):"")]})]}),r.type&&(0,$e.jsx)("span",{className:"px-3 py-1 text-xs rounded-full bg-blue-100 text-blue-700 font-semibold uppercase",children:r.type})]}),r.condominiums&&r.condominiums.length>0&&(0,$e.jsxs)("div",{className:"mb-4 text-sm text-gray-600",children:[(0,$e.jsx)("strong",{children:"Condom\xednios:"})," ",r.condominiums.map(e=>e.name).join(", ")]}),(0,$e.jsx)("div",{className:"prose max-w-none text-gray-800 whitespace-pre-line mb-6",children:r.body}),r.files&&r.files.length>0&&(0,$e.jsxs)("div",{className:"border-t pt-4",children:[(0,$e.jsx)("h2",{className:"text-lg font-semibold text-gray-900 mb-3",children:"Anexos"}),(0,$e.jsx)("ul",{className:"space-y-2",children:r.files.map(e=>(0,$e.jsxs)("li",{className:"flex justify-between items-center bg-gray-50 rounded px-3 py-2",children:[(0,$e.jsxs)("div",{children:[(0,$e.jsx)("div",{className:"font-medium text-gray-800",children:e.original_filename}),(0,$e.jsxs)("div",{className:"text-xs text-gray-500",children:[(e.file_size/1024/1024).toFixed(2)," MB"]})]}),(0,$e.jsx)("a",{href:He.fileUrl(r.id,e.id),target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:text-blue-800 text-sm",children:"Abrir"})]},e.id))})]})]})]})}):(0,$e.jsx)("div",{className:"min-h-screen bg-gray-50",children:(0,$e.jsxs)("main",{className:"container mx-auto px-4 py-10 max-w-3xl",children:[(0,$e.jsx)("button",{onClick:()=>n(-1),className:"text-gray-600 hover:text-gray-900 mb-4",children:"\u2190 Voltar"}),(0,$e.jsx)("div",{className:"bg-white rounded shadow p-6",children:"Mensagem n\xe3o encontrada."})]})});var d}function Dt(){const{assembleiaId:t}=te(),n=ee(),a=X(),[r,s]=(0,e.useState)(null),[i,l]=(0,e.useState)(!0),[o,c]=(0,e.useState)("");(0,e.useEffect)(()=>{const e=JSON.parse(sessionStorage.getItem("loggedUser")||"{}");if(!e||!e.id)return void n("/login");(async()=>{try{if(a.state&&a.state.notificationId)try{await He.markUserNotificationAsRead(e.id,a.state.notificationId),window.dispatchEvent(new Event("notificationCreated"))}catch(n){console.warn("Failed to mark notification as read:",n)}const r=await He.getUserAssembleia(e.id,t);s(r)}catch(r){console.error("Error loading assembleia detail:",r),c("N\xe3o foi poss\xedvel carregar a assembleia.")}finally{l(!1)}})()},[t,n,a.state]);return i?(0,$e.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:(0,$e.jsx)("div",{className:"text-gray-600",children:"A carregar assembleia..."})}):o?(0,$e.jsx)("div",{className:"min-h-screen bg-gray-50",children:(0,$e.jsxs)("main",{className:"container mx-auto px-4 py-10 max-w-3xl",children:[(0,$e.jsx)("button",{onClick:()=>n(-1),className:"text-gray-600 hover:text-gray-900 mb-4",children:"\u2190 Voltar"}),(0,$e.jsx)("div",{className:"bg-white rounded shadow p-6 text-red-600",children:o})]})}):r?(0,$e.jsx)("div",{className:"min-h-screen bg-gray-50",children:(0,$e.jsxs)("main",{className:"container mx-auto px-4 py-10 max-w-4xl",children:[(0,$e.jsx)("button",{onClick:()=>n(-1),className:"text-gray-600 hover:text-gray-900 mb-6",children:"\u2190 Voltar"}),(0,$e.jsxs)("div",{className:"bg-white rounded-lg shadow p-6 space-y-4",children:[(0,$e.jsxs)("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-3",children:[(0,$e.jsxs)("div",{children:[(0,$e.jsx)("h1",{className:"text-2xl font-bold text-gray-900",children:r.title}),(0,$e.jsxs)("div",{className:"text-sm text-gray-500 mt-1",children:["Condom\xednio: ",r.condominium_name]})]}),(0,$e.jsxs)("div",{className:"flex flex-wrap gap-2 text-sm text-gray-700",children:[(0,$e.jsx)("span",{className:"px-3 py-1 bg-blue-100 text-blue-700 rounded-full",children:(d=r.date,d?new Date(d).toLocaleDateString("pt-PT",{day:"2-digit",month:"short",year:"numeric"}):"")}),(0,$e.jsxs)("span",{className:"px-3 py-1 bg-green-100 text-green-700 rounded-full",children:[(e=>e?5===e.length?e:e.slice(0,5):"")(r.time),"h"]}),r.location&&(0,$e.jsx)("span",{className:"px-3 py-1 bg-purple-100 text-purple-700 rounded-full",children:r.location})]})]}),r.description&&(0,$e.jsx)("div",{className:"text-gray-800 whitespace-pre-line",children:r.description}),r.admin_notes&&(0,$e.jsx)("div",{className:"bg-yellow-50 border-l-4 border-yellow-400 p-4 rounded",children:(0,$e.jsxs)("div",{className:"text-sm text-yellow-700",children:[(0,$e.jsx)("strong",{children:"Notas da Administra\xe7\xe3o:"})," ",r.admin_notes]})}),r.files&&r.files.length>0&&(0,$e.jsxs)("div",{className:"border-t pt-4",children:[(0,$e.jsx)("h2",{className:"text-lg font-semibold text-gray-900 mb-3",children:"Documentos Anexados"}),(0,$e.jsx)("ul",{className:"space-y-2",children:r.files.map(e=>(0,$e.jsxs)("li",{className:"flex justify-between items-center bg-gray-50 rounded px-3 py-2",children:[(0,$e.jsxs)("div",{children:[(0,$e.jsx)("div",{className:"font-medium text-gray-800",children:e.original_filename}),(0,$e.jsxs)("div",{className:"text-xs text-gray-500",children:[(e.file_size/1024/1024).toFixed(2)," MB"]})]}),(0,$e.jsx)("a",{href:He.assembleiaFileUrl(r.id,e.id),target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:text-blue-800 text-sm",children:"Abrir"})]},e.id))})]})]})]})}):(0,$e.jsx)("div",{className:"min-h-screen bg-gray-50",children:(0,$e.jsxs)("main",{className:"container mx-auto px-4 py-10 max-w-3xl",children:[(0,$e.jsx)("button",{onClick:()=>n(-1),className:"text-gray-600 hover:text-gray-900 mb-4",children:"\u2190 Voltar"}),(0,$e.jsx)("div",{className:"bg-white rounded shadow p-6",children:"Assembleia n\xe3o encontrada."})]})});var d}function Rt(){const{fileId:t}=te(),n=ee(),a=X(),[r,s]=(0,e.useState)(null),[i,l]=(0,e.useState)(!0),[o,c]=(0,e.useState)("");(0,e.useEffect)(()=>{const e=JSON.parse(sessionStorage.getItem("loggedUser")||"{}");if(!e||!e.id)return void n("/login");(async()=>{try{if(a.state&&a.state.notificationId)try{await He.markUserNotificationAsRead(e.id,a.state.notificationId),window.dispatchEvent(new Event("notificationCreated"))}catch(n){console.warn("Failed to mark notification as read:",n)}const r=await He.getUserDocument(e.id,t);s(r)}catch(r){console.error("Error loading document detail:",r),c("N\xe3o foi poss\xedvel carregar o documento.")}finally{l(!1)}})()},[t,n,a.state]);const d=e=>e?new Date(e).toLocaleString("pt-PT"):"";return i?(0,$e.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:(0,$e.jsx)("div",{className:"text-gray-600",children:"A carregar documento..."})}):o?(0,$e.jsx)("div",{className:"min-h-screen bg-gray-50",children:(0,$e.jsxs)("main",{className:"container mx-auto px-4 py-10 max-w-3xl",children:[(0,$e.jsx)("button",{onClick:()=>n(-1),className:"text-gray-600 hover:text-gray-900 mb-4",children:"\u2190 Voltar"}),(0,$e.jsx)("div",{className:"bg-white rounded shadow p-6 text-red-600",children:o})]})}):r?(0,$e.jsx)("div",{className:"min-h-screen bg-gray-50",children:(0,$e.jsxs)("main",{className:"container mx-auto px-4 py-10 max-w-3xl",children:[(0,$e.jsx)("button",{onClick:()=>n(-1),className:"text-gray-600 hover:text-gray-900 mb-6",children:"\u2190 Voltar"}),(0,$e.jsxs)("div",{className:"bg-white rounded-lg shadow p-6 space-y-4",children:[(0,$e.jsxs)("div",{children:[(0,$e.jsx)("h1",{className:"text-2xl font-bold text-gray-900",children:r.original_filename}),(0,$e.jsxs)("div",{className:"text-sm text-gray-500 mt-1",children:["Enviado em ",d(r.uploaded_at)]})]}),(0,$e.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm text-gray-700",children:[(0,$e.jsxs)("div",{children:[(0,$e.jsx)("strong",{children:"Condom\xednio:"})," ",r.condominium_name]}),(0,$e.jsxs)("div",{children:[(0,$e.jsx)("strong",{children:"Assembleia:"})," ",r.assembleia_title]}),(0,$e.jsxs)("div",{children:[(0,$e.jsx)("strong",{children:"Data da Assembleia:"})," ",d(r.assembleia_date)]}),(0,$e.jsxs)("div",{children:[(0,$e.jsx)("strong",{children:"Hora:"})," ",r.assembleia_time]}),r.assembleia_location&&(0,$e.jsxs)("div",{children:[(0,$e.jsx)("strong",{children:"Local:"})," ",r.assembleia_location]}),(0,$e.jsxs)("div",{children:[(0,$e.jsx)("strong",{children:"Tamanho:"})," ",(r.file_size/1024/1024).toFixed(2)," MB"]})]}),(0,$e.jsx)("div",{children:(0,$e.jsx)("button",{onClick:()=>{if(!r)return;const e=He.assembleiaFileUrl(r.assembleia_id,r.id);window.open(e,"_blank")},className:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded",children:"Descarregar documento"})})]})]})}):(0,$e.jsx)("div",{className:"min-h-screen bg-gray-50",children:(0,$e.jsxs)("main",{className:"container mx-auto px-4 py-10 max-w-3xl",children:[(0,$e.jsx)("button",{onClick:()=>n(-1),className:"text-gray-600 hover:text-gray-900 mb-4",children:"\u2190 Voltar"}),(0,$e.jsx)("div",{className:"bg-white rounded shadow p-6",children:"Documento n\xe3o encontrado."})]})})}const Ft=function(){return(0,$e.jsx)(Se,{children:(0,$e.jsxs)("div",{className:"bg-gray-50 min-h-screen",children:[(0,$e.jsx)(Qe,{}),(0,$e.jsx)("main",{className:"pt-4 fade-in",tabIndex:"-1",children:(0,$e.jsx)(Ke,{children:(0,$e.jsxs)(ve,{children:[(0,$e.jsx)(ge,{path:"/",element:(0,$e.jsx)(Ze,{})}),(0,$e.jsx)(ge,{path:"/servicos",element:(0,$e.jsx)(et,{})}),(0,$e.jsx)(ge,{path:"/equipa",element:(0,$e.jsx)(tt,{})}),(0,$e.jsx)(ge,{path:"/objetivos",element:(0,$e.jsx)(nt,{})}),(0,$e.jsx)(ge,{path:"/administracao",element:(0,$e.jsx)(at,{})}),(0,$e.jsx)(ge,{path:"/contactos",element:(0,$e.jsx)(rt,{})}),(0,$e.jsx)(ge,{path:"/login",element:(0,$e.jsx)(st,{})}),(0,$e.jsx)(ge,{path:"/condo-info",element:(0,$e.jsx)(it,{})}),(0,$e.jsx)(ge,{path:"/dashboard",element:(0,$e.jsx)(it,{})}),(0,$e.jsx)(ge,{path:"/meus-documentos",element:(0,$e.jsx)(ut,{})}),(0,$e.jsx)(ge,{path:"/meu-contacto",element:(0,$e.jsx)(mt,{})}),(0,$e.jsx)(ge,{path:"/change-password",element:(0,$e.jsx)(lt,{})}),(0,$e.jsx)(ge,{path:"/database-admin",element:(0,$e.jsx)(ot,{})}),(0,$e.jsx)(ge,{path:"/admin",element:(0,$e.jsx)(ot,{})}),(0,$e.jsx)(ge,{path:"/admin/assembleias",element:(0,$e.jsx)(dt,{})}),(0,$e.jsx)(ge,{path:"/admin/reclamacoes",element:(0,$e.jsx)(pt,{})}),(0,$e.jsx)(ge,{path:"/admin/pedidos",element:(0,$e.jsx)(ht,{})}),(0,$e.jsx)(ge,{path:"/admin/data-reset",element:(0,$e.jsx)(gt,{})}),(0,$e.jsx)(ge,{path:"/admin/data-sync",element:(0,$e.jsx)(bt,{})}),(0,$e.jsx)(ge,{path:"/admin/ocorrencias",element:(0,$e.jsx)(yt,{})}),(0,$e.jsx)(ge,{path:"/admin/condos",element:(0,$e.jsx)(jt,{})}),(0,$e.jsx)(ge,{path:"/admin/gestao-condominios",element:(0,$e.jsx)(Nt,{})}),(0,$e.jsx)(ge,{path:"/admin/create-admin",element:(0,$e.jsx)(Ct,{})}),(0,$e.jsx)(ge,{path:"/admin/create-maintenance",element:(0,$e.jsx)(Et,{})}),(0,$e.jsx)(ge,{path:"/admin/manage",element:(0,$e.jsx)(_t,{})}),(0,$e.jsx)(ge,{path:"/admin/notifications",element:(0,$e.jsx)(wt,{})}),(0,$e.jsx)(ge,{path:"/admin/messages",element:(0,$e.jsx)(Pt,{})}),(0,$e.jsx)(ge,{path:"/admin/database",element:(0,$e.jsx)(ot,{})}),(0,$e.jsx)(ge,{path:"/my-admin-messages",element:(0,$e.jsx)(At,{})}),(0,$e.jsx)(ge,{path:"/maintenance",element:(0,$e.jsx)(vt,{})}),(0,$e.jsx)(ge,{path:"/profile",element:(0,$e.jsx)(St,{})}),(0,$e.jsx)(ge,{path:"/user-profile",element:(0,$e.jsx)(kt,{})}),(0,$e.jsx)(ge,{path:"/user/:userId",element:(0,$e.jsx)(ct,{})}),(0,$e.jsx)(ge,{path:"/notifications",element:(0,$e.jsx)(It,{})}),(0,$e.jsx)(ge,{path:"/notifications/message/:messageId",element:(0,$e.jsx)(zt,{})}),(0,$e.jsx)(ge,{path:"/notifications/assembleia/:assembleiaId",element:(0,$e.jsx)(Dt,{})}),(0,$e.jsx)(ge,{path:"/notifications/document/:fileId",element:(0,$e.jsx)(Rt,{})}),(0,$e.jsx)(ge,{path:"/ocorrencias",element:(0,$e.jsx)(Lt,{})})]})})})]})})};a.createRoot(document.getElementById("root")).render((0,$e.jsx)(e.StrictMode,{children:(0,$e.jsx)(Ye,{children:(0,$e.jsx)(Ft,{})})}))})()})();
//# sourceMappingURL=main.cb9b9f7a.js.map